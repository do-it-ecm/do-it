<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/cs/info/ops/postgres/"><meta name="description" content="Do-It, cours et travaux des élèves de l&#39;école Centrale Méditerranée"><meta property="og:description" content="Do-It, cours et travaux des élèves de l&#39;école Centrale Méditerranée"><meta name="twitter:description" content="Do-It, cours et travaux des élèves de l&#39;école Centrale Méditerranée"><meta name="author" content="Loïck Goupil-Hallay"><meta name="keywords" content="do-it, centrale, centrale méditerranée, ecm, COURS, informatique, bases de données, serveur, postgresql"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="PostgreSQL"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/cs/info/ops/postgres/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="PostgreSQL"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/cs/info/ops/postgres/"><title>PostgreSQL</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="📋" data-prismjs-copy-error="❌" data-prismjs-copy-success="✅" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><script>const SIDEBAR_STATE_KEY="courseSidebarState";function toggleFold(e){const t=e.closest("li").querySelector(".nested");if(t){const s=t.classList.toggle("active");e.classList.toggle("active",s),saveSidebarState()}}function saveSidebarState(){const e={};document.querySelectorAll(".sidebar-navigation .nested").forEach(((t,s)=>{e[s]=t.classList.contains("active")})),localStorage.setItem(SIDEBAR_STATE_KEY,JSON.stringify(e))}function restoreSidebarState(){const e=JSON.parse(localStorage.getItem(SIDEBAR_STATE_KEY));if(!e)return;document.querySelectorAll(".sidebar-navigation .nested").forEach(((t,s)=>{if(e[s]){t.classList.add("active");const e=t.parentNode.querySelector(".course-sidebar-item-toggle-button");e&&e.classList.add("active")}}))}document.addEventListener("DOMContentLoaded",(()=>{restoreSidebarState()}));let lastScrollYCourses=window.scrollY;function toggleCourseSidebar(){document.getElementById("course-sidebar").classList.toggle("open")}window.addEventListener("scroll",(()=>{const e=document.getElementById("course-burger-button"),t=document.getElementById("course-sidebar"),s=window.scrollY;s<10||s<lastScrollYCourses?e.classList.remove("hidden"):t&&t.classList.contains("open")||e.classList.add("hidden"),lastScrollYCourses=s}))</script><button id="course-burger-button" class="sidebar-burger-button left-2" onclick="toggleCourseSidebar()">☰</button><nav id="course-sidebar" class="sidebar left-0 border-r-2 -translate-x-full 3xl:translate-x-0"><article><h2>Cours</h2></article><ul class="sidebar-navigation space-y-2"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 bg-info dark:text-neutral-950"><a class="flex-1 text-left pr-2 text-lg">Informatique</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Bases</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/git" class="flex-1 text-left pr-2 text-lg">Git</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/enterprise_git" class="flex-1 text-left pr-2 text-lg">Enterprise Git</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/linux" class="flex-1 text-left pr-2 text-lg">Linux</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/ordinateur" class="flex-1 text-left pr-2 text-lg">Ordinateur</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Structures de données</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/struct_donnees/linkedlist" class="flex-1 text-left pr-2 text-lg">Listes Chaînées</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/struct_donnees/arbres_dict" class="flex-1 text-left pr-2 text-lg">Arbres et Dictionnaires</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/bases/struct_donnees/hash" class="flex-1 text-left pr-2 text-lg">Hachage</a></div></li></ul></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Dev</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Web</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/dev/web/fullstack" class="flex-1 text-left pr-2 text-lg">Fullstack</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/dev/web/websocket" class="flex-1 text-left pr-2 text-lg">WebSocket</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/dev/bash" class="flex-1 text-left pr-2 text-lg">Bash</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/dev/java" class="flex-1 text-left pr-2 text-lg">Java</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Ops</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/ops/ssh" class="flex-1 text-left pr-2 text-lg">SSH</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/ops/aioli" class="flex-1 text-left pr-2 text-lg">aioli</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/ops/postgres" class="flex-1 text-left pr-2 text-lg">PostgreSQL</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/info/ops/reseaux" class="flex-1 text-left pr-2 text-lg">Réseaux</a></div></li></ul></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 bg-mgt dark:text-neutral-950"><a class="flex-1 text-left pr-2 text-lg">Management</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">SI</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/si/management" class="flex-1 text-left pr-2 text-lg">Management</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/si/audit" class="flex-1 text-left pr-2 text-lg">Audit</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/si/conception" class="flex-1 text-left pr-2 text-lg">Conception SI</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Agilité</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/agile/gdp" class="flex-1 text-left pr-2 text-lg">Gestion Agile</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/agile/scrum" class="flex-1 text-left pr-2 text-lg">SCRUM</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/agile/cristal_clear" class="flex-1 text-left pr-2 text-lg">Cristal Clear</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/agile/methodes_agiles" class="flex-1 text-left pr-2 text-lg">Autres méthodes agiles</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/cyber" class="flex-1 text-left pr-2 text-lg">CyberSécurité</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/cyber/crise" class="flex-1 text-left pr-2 text-lg">CyberSécurité - Crises</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/cyber/rssi" class="flex-1 text-left pr-2 text-lg">CyberSécurité - RSSI</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/cyber/soc" class="flex-1 text-left pr-2 text-lg">CyberSécurité - SOC</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Sobriété Numérique</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/sobriete/numerique" class="flex-1 text-left pr-2 text-lg">Sobriété Numérique</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/sobriete/accessibilite" class="flex-1 text-left pr-2 text-lg">Accessibilité Numérique</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/sobriete/fresque_numerique" class="flex-1 text-left pr-2 text-lg">Fresque du Numérique</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/management/sobriete/impacts" class="flex-1 text-left pr-2 text-lg">Impacts du Numérique</a></div></li></ul></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 bg-gp dark:text-neutral-950"><a class="flex-1 text-left pr-2 text-lg">Gestion &amp; Modélisation Projet</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/gestion_modelisation/service_design" class="flex-1 text-left pr-2 text-lg">Service Design</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/gestion_modelisation/gdp" class="flex-1 text-left pr-2 text-lg">Gestion de Projet</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/gestion_modelisation/uiux" class="flex-1 text-left pr-2 text-lg">UI/UX</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/gestion_modelisation/hpt" class="flex-1 text-left pr-2 text-lg">High Performance Team</a></div></li></ul></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a class="flex-1 text-left pr-2 text-lg">Tronc Commun</a> <button class="course-sidebar-item-toggle-button" onclick="toggleFold(this)">&gt;</button></div><ul class="nested"><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/tronc_commun/change_management" class="flex-1 text-left pr-2 text-lg">Conduite du Changement</a></div></li><li><div class="course-sidebar-item hover:bg-neutral-200 dark:hover:bg-neutral-700 dark:text-neutral-50"><a href="/cs/tronc_commun/ethique" class="flex-1 text-left pr-2 text-lg">Ethique et Responsabilité</a></div></li></ul></li></ul></nav><article><h1 class="mb-1">PostgreSQL</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">COURS</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">informatique</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">bases de données</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">serveur</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">postgresql</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteurs :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Loïck Goupil-Hallay</li></ul></div></div><script>let lastScrollYSummary=window.scrollY;function toggleSummarySidebar(){document.getElementById("toc-sidebar").classList.toggle("open")}window.addEventListener("scroll",(()=>{const t=document.getElementById("toc-burger-button"),e=document.getElementById("toc-sidebar"),l=window.scrollY;l<10||l<lastScrollYSummary?t.classList.remove("hidden"):e&&e.classList.contains("open")||t.classList.add("hidden"),lastScrollYSummary=l}))</script><p><button id="toc-burger-button" class="sidebar-burger-button right-2" onclick="toggleSummarySidebar()">☰</button></p><nav id="toc-sidebar" class="sidebar right-0 border-l-2 translate-x-full 3xl:translate-x-0"><h2>Sommaire</h2><nav class="toc"><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#introduction">Introduction</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#avantages">Avantages</a></li><li class="toc-item"><a class="toc-link" href="#inconv%C3%A9nients">Inconvénients</a></li><li class="toc-item"><a class="toc-link" href="#license">License</a></li></ol></li><li class="toc-item"><a class="toc-link" href="#fonctionnement">Fonctionnement</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#fonctionnalit%C3%A9s-principales">Fonctionnalités principales</a></li><li class="toc-item"><a class="toc-link" href="#architecture">Architecture</a></li></ol></li><li class="toc-item"><a class="toc-link" href="#commandes">Commandes</a></li><li class="toc-item"><a class="toc-link" href="#utilisation-sur-aioli">Utilisation sur aioli</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#connexion-via-terminal">Connexion via terminal</a></li><li class="toc-item"><a class="toc-link" href="#connexion-via-programme">Connexion via programme</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#node.js">Node.js</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#installation-des-d%C3%A9pendances">Installation des dépendances</a></li><li class="toc-item"><a class="toc-link" href="#connexion-%C3%A0-la-base-de-donn%C3%A9es">Connexion à la base de données</a></li></ol></li></ol></li></ol></li></ol></nav></nav><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100 dark:border-emerald-800 dark:bg-emerald-950"><svg class="absolute w-6 h-6 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-emerald-500 dark:stroke-emerald-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path></svg><div class="pl-8 mb-2 mr-8"><p><strong>Liens utiles</strong></p></div><div class="pl-8 mr-8"><ul><li><a href="https://www.postgresql.org/">PostgreSQL</a></li></ul></div></div><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"></a> Introduction</h2><p>PostgreSQL est un système de gestion de base de données relationnelles (DBMS) open source né en 1986. Il est reconnu pour sa robustesse, sa fiabilité, ses performances et sa conformité aux standards SQL.<br>Il a été créé pour être un remplaçant open source de Ingres, un autre système de gestion de base de données relationnelles. Il est aujourd'hui l'un des systèmes de gestion de base de données les plus populaires au monde, utilisé par de nombreuses entreprises et organisations pour stocker, gérer et analyser leurs données.</p><h3 id="avantages" tabindex="-1"><a class="header-anchor" href="#avantages"></a> Avantages</h3><p>Toutes ces propriétés en font un choix idéal pour les applications nécessitant une grande disponibilité, une grande fiabilité et une grande performance.</p><ul><li>Il permet notamment <strong>plusieurs connexions concurrentes</strong> et des <strong>transactions ACID</strong> (Atomicité, Cohérence, Isolation, Durabilité). Cela offre un énorme avantage par rapport à une base de données SQLite par exemple.</li><li>Il est également <strong>très extensible</strong>, avec la possibilité d'ajouter des extensions et des types de données personnalisés.</li><li>Le système de <strong>permissions</strong> et de <strong>sécurité</strong> est très complet, permettant de définir des rôles, des privilèges et des politiques de sécurité très finement.</li><li>Il offre des possibilités de <strong>scaling</strong> <strong>horizontal</strong> et <strong>vertical</strong>, de <strong>réplication</strong>, de <strong>clustering</strong> et de <strong>partitionnement</strong>, ce qui en fait un choix populaire pour les applications web et les systèmes d'information.</li><li>Il est <strong>open source</strong> et <strong>gratuit</strong>, ce qui en fait un choix économique pour les petites et moyennes entreprises.</li></ul><h3 id="inconv%C3%A9nients" tabindex="-1"><a class="header-anchor" href="#inconv%C3%A9nients"></a> Inconvénients</h3><ul><li>Il est <strong>plus complexe</strong> à installer car il nécessite de tourner en mode serveur.</li><li>Il est <strong>plus lourd</strong> que SQLite, ce qui peut être un inconvénient pour les applications embarquées.</li><li>Il peut-être <strong>moins rapide</strong> que SQLite pour des opérations de lecture simple, car il nécessite de passer par le réseau (qui peut être lente) pour accéder à la base de données.</li></ul><h3 id="license" tabindex="-1"><a class="header-anchor" href="#license"></a> License</h3><p>C'est un logiciel libre distribué sous <strong>licence PostgreSQL</strong>, une licence open source similaire à la licence MIT. Cela veut dire que vous pouvez l'utiliser, le modifier et le distribuer librement.</p><h2 id="fonctionnement" tabindex="-1"><a class="header-anchor" href="#fonctionnement"></a> Fonctionnement</h2><p>PostgreSQL fonctionne en mode <strong>client-serveur</strong>. Cela signifie que le serveur PostgreSQL tourne en permanence sur une machine, et que les clients se connectent à ce serveur pour effectuer des opérations sur la base de données.</p><h3 id="fonctionnalit%C3%A9s-principales" tabindex="-1"><a class="header-anchor" href="#fonctionnalit%C3%A9s-principales"></a> Fonctionnalités principales</h3><ul><li><strong>SQL</strong>: PostgreSQL supporte le langage SQL standard, ainsi que des extensions comme les fonctions stockées, les triggers, les vues, les procédures stockées, les transactions, les contraintes, les index,...</li><li><strong>Data Types</strong>: PostgreSQL supporte de nombreux types de données standards<ul><li><strong>Primitifs</strong>: Integer, Numeric, String, Boolean</li><li><strong>Structurés</strong>: Date/Time, Array, Range / MultiRange, UUID</li><li><strong>Documents</strong>: JSON, JSONB, XML, Hstore</li><li><strong>Géométriques</strong>: Point, Segment, Cercle, Polygone</li><li><strong>User Defined Data Types</strong>: PostgreSQL permet de définir des types de données personnalisés, notamment des structures de données complexes, des fonctions, des opérateurs,...</li></ul></li><li><strong>Intégrité des données</strong>: PostgreSQL supporte les contraintes de clé primaire, de clé étrangère, d'unicité, de vérification, de non-nullité, de contrôle de référence, de contrôle de domaine,...</li><li><strong>Concurrence &amp; Performance</strong>: PostgreSQL permet de paralleliser les requêtes, de gérer les index, de gérer les statistiques, de gérer les caches, de gérer les verrous, de gérer les transactions,...</li><li><strong>Robustesse &amp; Disaster Recovery</strong>: PostgreSQL supporte les sauvegardes, les restaurations, les points de contrôle, les journaux de transactions, les réplications, les sauvegardes incrémentales, les sauvegardes différentielles,... Il offre aussi une fonctionnalité de WAL (Write Ahead Logging) pour garantir la cohérence des données lors d'un crash ou d'un fort nombre de requêtes.</li><li><strong>Sécurité</strong>: PostgreSQL supporte les rôles, les privilèges, les politiques de sécurité, les audits, les logs, les connexions sécurisées, les connexions chiffrées, les connexions authentifiées,...</li><li><strong>Extensibilité</strong>: PostgreSQL permet d'ajouter des extensions pour ajouter des fonctionnalités supplémentaires (PostGIS pour les données géographiques, pgcrypto pour le chiffrement, hstore pour le stockage de données semi-structurées,...).</li></ul><h3 id="architecture" tabindex="-1"><a class="header-anchor" href="#architecture"></a> Architecture</h3><p>PostgreSQL est un système de gestion de base de données relationnelles (RDBMS) qui stocke les données dans des tables, qui sont des collections de lignes et de colonnes. Chaque table est définie par un schéma, qui définit les colonnes, les types de données, les contraintes, les index, les triggers, les vues, les procédures stockées,...</p><pre class="mermaid" style="background-color:transparent">
architecture-beta
    service users(clarity:users-solid)[Users]

    group postgresql(cloud)[Cluster PostgreSQL]
    group database(database)[Database 1] in postgresql
    service table1(disk)[Table 1] in database
    service table2(disk)[Table 2] in database
    service schema[Schema 1] in database
    service index[Index 1] in database

    group database2(database)[Database 2] in postgresql

    users:B --> T:table1
</pre><h2 id="commandes" tabindex="-1"><a class="header-anchor" href="#commandes"></a> Commandes</h2><p>Voici quelques commandes utiles pour interagir avec PostgreSQL.</p><ul><li><code>psql</code>: Ouvre un terminal interactif pour interagir avec PostgreSQL.<ul><li>le shell psql supporte toutes les commandes SQL standards, il faut bien penser à terminer les requêtes par un <code>;</code>.</li><li><code>\l</code>: Liste les bases de données.</li><li><code>\c &lt;database&gt;</code>: Se connecte à une base de données.</li><li><code>\dt</code>: Liste les tables de la base de données.</li><li><code>\d &lt;table&gt;</code>: Affiche la structure d'une table.</li><li><code>\q</code>: Quitte le terminal psql.</li></ul></li><li><strong>Création &amp; Suppression</strong><ul><li><code>createdb</code>: Crée une base de données PostgreSQL.</li><li><code>dropdb</code>: Supprime une base de données PostgreSQL.</li><li><code>createuser</code>: Crée un utilisateur PostgreSQL.</li><li><code>dropuser</code>: Supprime un utilisateur PostgreSQL.</li></ul></li><li><strong>Backup &amp; Restore</strong>:<ul><li><code>pg_dump</code>: Sauvegarde une base de données PostgreSQL.</li><li><code>pg_restore</code>: Restaure une base de données PostgreSQL.</li></ul></li><li><strong>Gestion de l'instance</strong>:<ul><li><code>pg_ctl</code>: Contrôle le serveur PostgreSQL.</li><li><code>pg_isready</code>: Vérifie si le serveur PostgreSQL est prêt.</li><li><code>pg_config</code>: Affiche la configuration de l'instance PostgreSQL.</li></ul></li></ul><h2 id="utilisation-sur-aioli" tabindex="-1"><a class="header-anchor" href="#utilisation-sur-aioli"></a> Utilisation sur aioli</h2><p>Le cluster postgres est accessible sur la machine aioli par tous les utilisateurs via le socket unix <code>/var/run/postgresql/.s.PGSQL.5432</code>. Chaque utilisateur peut se connecter à la base de données qui porte le même nom que son compte, sans mot de passe.<br>Chaque utilisateur ne peut pas créer de nouvelles bases de données ou d'utilisateurs. Il ne peut que se connecter à sa propre base de données et faire ce qu'il veut dedans. En revanche, il n'a accès qu'en lecture seule aux bases de données des autres utilisateurs.</p><h3 id="connexion-via-terminal" tabindex="-1"><a class="header-anchor" href="#connexion-via-terminal"></a> Connexion via terminal</h3><p>Vous pouvez utiliser la commande <code>psql</code> pour interagir avec votre base de données. La commande vous envoie directement dans le shell psql de votre base de données.<br>Vous pouvez alors effectuer toutes les opérations SQL standards: créer des tables, insérer des données, mettre à jour des données, supprimer des données, supprimer des tables, créer des index, créer des vues, créer des procédures stockées,...</p><h3 id="connexion-via-programme" tabindex="-1"><a class="header-anchor" href="#connexion-via-programme"></a> Connexion via programme</h3><h4 id="node.js" tabindex="-1"><a class="header-anchor" href="#node.js"></a> Node.js</h4><h5 id="installation-des-d%C3%A9pendances" tabindex="-1"><a class="header-anchor" href="#installation-des-d%C3%A9pendances"></a> Installation des dépendances</h5><p>Pour se connecter à une base de données PostgreSQL depuis un programme Node.js, vous pouvez utiliser le module <code>pg</code> qui est un client PostgreSQL pour Node.js.<br>Additionnellement, vous pouvez utiliser <code>sequelize</code> qui est un ORM (Object-Relational Mapping) pour Node.js qui supporte PostgreSQL. Cela permet d'intéragir avec la base de données de manière plus abstraite, en utilisant des modèles et des requêtes SQL générées automatiquement.<br>Enfin, nous utiliserons dotenv qui nous permettra de charger les variables environnement système ou de les définir dans un fichier <code>.env</code>.</p><p>L'installation de ces dépendances se fait via npm: <code>npm install --save pg sequelize dotenv</code>.</p><h5 id="connexion-%C3%A0-la-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#connexion-%C3%A0-la-base-de-donn%C3%A9es"></a> Connexion à la base de données</h5><p>Pour se connecter à la base de données, vous devez créer une instance de <code>Sequelize</code> en lui passant les informations de connexion à la base de données.</p><pre class="language-javascript line-numbers"><code>

import { Sequelize } from 'sequelize';
import dotenv from 'dotenv';

// Importe les variables d'environnement depuis le fichier .env (la variable USER est déjà définie dans l'environnement de base d'aioli, pas besoin de la définir dans le fichier .env)
dotenv.config();

// Définition des variables de connexion
const DBUSER = process.env.USER;
const DBNAME = process.env.USER;

// Création de l'instance Sequelize
const sequelize = new Sequelize(DBNAME, DBUSER, null, {
  dialect: 'postgres',
  host: '/var/run/postgresql',
  port: 5432,
  logging: false,
});

// Connexion à la base de données
(async () => {
  try {
    await sequelize.authenticate();
    console.log('Connection has been established successfully.');
  } catch (error) {
    console.error('Unable to connect to the database:', error);
  }
})();

// Exporte l'instance sequelize pour l'utiliser dans d'autres fichiers
export default sequelize;


</code></pre><p>Avec cette configuration, vous pouvez maintenant interagir avec votre base de données PostgreSQL depuis votre programme Node.js en appelant les méthodes de l'instance <code>sequelize</code>.</p></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - Développement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>