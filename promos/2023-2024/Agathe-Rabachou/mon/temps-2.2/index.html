<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Agathe-Rabachou/mon/temps-2.2/"><meta name="description" content="Ce MON a pour but de m&#39;initier √† la notion de back-end et aux outils associ√©s."><meta property="og:description" content="Ce MON a pour but de m&#39;initier √† la notion de back-end et aux outils associ√©s."><meta name="twitter:description" content="Ce MON a pour but de m&#39;initier √† la notion de back-end et aux outils associ√©s."><meta name="author" content="Agathe Rabachou"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, MON, Back-end"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Introduction au back-end"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Agathe-Rabachou/mon/temps-2.2/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Introduction au back-end"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Agathe-Rabachou/mon/temps-2.2/"><title>Introduction au back-end</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Introduction au back-end</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MON</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">Back-end</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">MON</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Agathe Rabachou</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2023-2024</span></div></div><p class="mb-4 text-lg">Ce MON a pour but de m'initier √† la notion de back-end et aux outils associ√©s.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2023-2024/Agathe-Rabachou/">Agathe Rabachou</a><span class="px-1">/</span><a href="/promos/2023-2024/Agathe-Rabachou/mon/">MON de Agathe Rabachou</a><span class="px-1">/</span><a href="/promos/2023-2024/Agathe-Rabachou/mon/temps-2.2/">Introduction au back-end</a></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100 dark:border-pink-800 dark:bg-pink-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-pink-500 dark:stroke-pink-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg><div class="pl-8 mb-2 mr-8"><p>Niveau</p></div><div class="pl-8 mr-8"><ul><li>D√©butant en back-end</li><li>Quelques bases du langage JavaScript</li></ul></div></div><h2 id="1.-introduction" tabindex="-1"><a class="header-anchor" href="#1.-introduction"></a> 1. Introduction</h2><p>J'ai c√¥toy√© de loin la notion de back-end dans diff√©rents cours et projets, sans jamais r√©ellement en comprendre le fonctionnement et les m√©thodes d'impl√©mentation. Ce MON a donc √©t√© pour moi l'occasion de reprendre de z√©ro ce sujet et de d√©velopper mes connaissances. Pour cela, je me suis appuy√©e sur les MON de <a href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Rioual-Lucas/mon/temps-1.2/">Lucas</a> et de <a href="https://do-it.aioli.ec-m.fr/promos/2023-2024/William%20Lalanne/mon/temps-2.1/">William</a> qui portent sur ce sujet, sur le cours <a href="https://francoisbrucker.github.io/cours_informatique/cours/web/">Web</a> de Fran√ßois Brucker, sur une partie de la formation <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466206-configurez-votre-environnement-de-developpement">Passez au Full Stack avec Node.js, Express et MongoDB</a> d'OpenClassrooms et sur quelques recherches annexes isol√©es quand il me manquaient des connaissances pour comprendre un concept.</p><p>Mais avant de rentrer dans le vif du sujet, rappelons rapidement <strong>le r√¥le du back-end</strong> en informatique. La construction d'un site ou d'une application web peut √™tre d√©compos√©e en deux parties qui communiquent entre-elles : le front-end et le back-end.</p><ul><li>Le front est la partie visible du site, l'interface de communication c√¥t√© client, qui s'ex√©cute dans un navigateur. Mon MON <a href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Agathe-Rabachou/mon/temps-1.1/">Web Front</a> rentre plus dans le d√©tail si besoin.</li><li>Le back-end, que nous verrons ici, est la partie invisible du site, mais qui permet de le faire fonctionner. C'est notamment lui qui g√®re les bases de donn√©es, le traitement des requ√™tes ou encore la logique m√©tier. Contrairement au front-end, le back-end s'ex√©cute √† distance sur un serveur.</li></ul><p>Nous verrons donc dans ce MON comment impl√©menter le back-end d'un site ou d'une application web, et comment celui-ci communique avec le front pour r√©cup√©rer et renvoyer les informations pertinentes.</p><h2 id="2.-la-notion-d'api" tabindex="-1"><a class="header-anchor" href="#2.-la-notion-d'api"></a> 2. La notion d'API</h2><p>Pour mieux appr√©hender la suite, il est important de comprendre que dans une application web, le front communique avec le back via des <strong>requ√™tes HTTP</strong>. En bref, chaque action de l'utilisateur sur le front envoie une requ√™te au back, et le back est une sorte de programme qui lit ces requ√™tes et renvoie au front la r√©ponse correspondante.</p><p>Dans ce cadre, on parle souvent d'<strong>API</strong>. Une API (pour <em>Application Programming Interface</em>) est l'interface qui permet la communication entre les diff√©rentes parties d'une application, ici principalement le front, le back et la potentielle base de donn√©es, via ces requ√™tes HTTP et diff√©rentes routes que l'on verra plus loin. Le sch√©ma suivant explique simplement le but de cette interface :</p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Agathe-Rabachou/mon/temps-2.2/schema_API.png"><p>Plus largement et m√™me si ce n'est pas l'utilisation que nous en ferons ici dans un premier temps, une API permet la communication et l'√©change de donn√©es entre deux applications qui peuvent √™tre distinctes. Un exemple classique : l'application m√©t√©o d'un t√©l√©phone portable ne fait pas elle m√™me une recherche et une analyse de donn√©es pour afficher la m√©t√©o. Elle utilise une API qui se connecte √† une base de donn√©es qui contient d√©j√† ces informations. Une API permet donc √† un utilisateur de r√©cup√©rer et d'int√©grer √† son application des fonctionnalit√©s ou des donn√©es issues d'un programme externe, m√™me si il n'en conna√Æt pas exactement le fonctionnement.</p><h2 id="3.-cr%C3%A9ation-et-initialisation-du-back-end-avec-node" tabindex="-1"><a class="header-anchor" href="#3.-cr%C3%A9ation-et-initialisation-du-back-end-avec-node"></a> 3. Cr√©ation et initialisation du back-end avec Node</h2><p><em>On consid√®re que Node.js est d√©j√† install√© sur la machine utilis√©e. Node est un environnement d'ex√©cution qui permet d'√©crire en JavaScript toutes les t√¢ches n√©cessaires c√¥t√© serveur.</em></p><p>Pour commencer, il est important de s√©parer le front et le back dans deux dossiers bien distincts √† l'int√©rieur du projet. Puis on se place dans le dossier back et on ex√©cute la commande suivante :</p><pre class="language-bash line-numbers"><code>

npm init


</code></pre><p>Cela initialise le projet, et cr√©e un fichier &quot;package.json&quot; dans lequel on remplit plusieurs param√®tres initiaux (ou bien on laisse les param√®tres par d√©faut), et qui contiendra toutes les informations li√©es aux packages utilis√©s dans le projets.</p><p>On peut ensuite ex√©cuter</p><pre class="language-bash line-numbers"><code>

git init


</code></pre><p>afin de cr√©er le repository GitHub du projet, et ajouter un fichier &quot;.gitignore&quot; dans lequel on mettra tout ce que l'on ne veut pas charger sur le repo GitHub. Enfin, on cr√©e un fichier &quot;index.js&quot;, qui contiendra le code de notre projet.</p><p>On peut donc reprendre notre code, et dans le fichier &quot;index.js&quot;, il faut commencer par cr√©er le serveur et son fonctionnement de base. Le code comment√© ci-dessous explique cette √©tape :</p><pre class="language-js line-numbers"><code>

const http = require('http'); //importe le package qui permet de cr√©er le serveur

const server = http.createServer((req, res) => {
    res.end('R√©ponse du serveur');
}); //cr√©e un serveur qui prend en argument la fonction √† appeler en cas de requ√™te au serveur, ici une fonction qui re√ßoit la requ√™te (req) et la r√©ponse (res) et renvoie 'R√©ponse au serveur'

server.listen(process.env.PORT || 3000); //√©coute les requ√™tes √©mises par le port par d√©faut s'il existe ou par le port 3000


</code></pre><p>On d√©marre alors le serveur en ex√©cutant :</p><pre class="language-bash line-numbers"><code>

node server


</code></pre><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>A noter : avec cette m√©thode, il est n√©cessaire de red√©marrer le serveur avec la commande <em>node server</em> √† chaque modification dans le code, pour prendre en compte cette modification. Pour √©viter cela, il est tr√®s utile d'installer le package <strong>nodemon</strong>. Lorsque c'est fait, il suffit de remplacer la commande de d√©marrage <em>node server</em> par <em>nodemon server</em>, et la mise √† jour du serveur se fera automatiquement au fur et √† mesure de l'avanc√©e du code, sans besoin de le red√©marrer.</p></div></div><h2 id="4.-express-%3A-installation-et-utilisation" tabindex="-1"><a class="header-anchor" href="#4.-express-%3A-installation-et-utilisation"></a> 4. Express : installation et utilisation</h2><p>Express est un framework pour Node, qui rend beaucoup plus simple l'analyse des requ√™tes et √©vite le travail tr√®s fastidieux que demanderait la m√™me t√¢che √† r√©aliser uniquement avec Node (ce qui est malgr√© tout possible). Pour l'utiliser, nous allons donc commencer par l'installer, en ex√©cutant dans le dossier backend :</p><pre class="language-bash line-numbers"><code>

npm install express


</code></pre><p>On cr√©e ensuite un fichier &quot;app.js&quot;, qui contiendra l'application Express, dans lequel on √©crit :</p><pre class="language-js line-numbers"><code>

const express = require('express'); //importe Express

const app = express(); //cr√©e l'application (vide pour l'instant)

module.exports = app; //exporte l'application pour pouvoir y acc√©der depuis les autres fichiers du projet, notamment depuis le serveur Node


</code></pre><p>Pour pouvoir utiliser Express, il faut ensuite l'importer depuis le serveur Node. On modifie donc le code de &quot;index.js&quot; pr√©sent√© pr√©c√©demment comme suit :</p><pre class="language-js line-numbers"><code>

const http = require('http');
const app = require('./app'); //importe l'application

app.set('port', process.env.PORT || 3000); //donne le port de lancement de l'application
const server = http.createServer(app); //indique au serveur d'utiliser l'application pour r√©pondre aux requ√™tes

server.listen(process.env.PORT || 3000);


</code></pre><p>On a alors configur√© Express comme l'application √† utiliser pour r√©pondre aux requ√™tes re√ßues par le serveur. Il faut maintenant comprendre comment personnaliser les fonctionnalit√©s d'Express pour r√©pondre aux besoins du projet. Pour cela, plusieurs notions sont importantes :</p><ul><li><strong>Les middlewares</strong></li></ul><p>Dans ce contexte, un middleware est une fonction qui prend en entr√©e un objet <em>request</em> et un objet <em>response</em> et qui peut les lire, les analyser et les manipuler si besoin. Pour faire simple, Express est une suite de middlewares. Chaque middleware re√ßoit √©galement une m√©thode appel√©e <em>next</em>, qui lui permet de passer √† l'ex√©cution du middleware suivant lorsqu'il est termin√©. Voici un exemple expliqu√© d'application Express :</p><pre class="language-js line-numbers"><code>

const express = require('express');
const app = express();


//premier middleware qui affiche dans la console que la requ√™te a bien √©t√© re√ßue
app.use((req, res, next) => {
  console.log('Requ√™te re√ßue !');
  next(); //permet de passer au second middleware
});


//second middleware qui renvoie au front un message √† afficher (json est le format courant des r√©ponses du back au front)
app.use((req, res, next) => {
  res.json({ message: 'Votre requ√™te a bien √©t√© re√ßue !' });
  next(); //permet de passer au troisi√®me middleware
});


//troisi√®me middleware qui ajoute √† la r√©ponse un code d'√©tat 201
app.use((req, res, next) => {
  res.status(201);
  next(); //permet de passer au quatri√®me middleware
});


//quatri√®me middleware qui affiche dans la console que la r√©ponse a √©t√© renvoy√©e
app.use((req, res, next) => {
  console.log('R√©ponse envoy√©e avec succ√®s !');
});

module.exports = app;


</code></pre><p>Ici, les r√©ponses aux requ√™tes sont tr√®s simples et ne d√©pendent pas de la requ√™te re√ßue (<em>app.use</em> s'applique √† toutes les requ√™tes), mais cela permet de comprendre le concept.</p><ul><li><strong>Les routes</strong></li></ul><p>Les routes permettent de construire l'API et donc le lien entre le front et le back. La plupart des API sont structur√©es autour de 4 grandes actions : on parle de CRUD pour Create, Read, Update et Delete, soit cr√©er, lire, modifier et supprimer. Il existe donc une m√©thode pour chacune de ces actions : -&gt; On lit une donn√©e gr√¢ce √† la m√©thode GET -&gt; On cr√©e une donn√©e gr√¢ce √† la m√©thode POST -&gt; On modifie une donn√©e gr√¢ce √† la m√©thode PUT -&gt; On supprime une donn√©e gr√¢ce √† la m√©thode DELETE</p><p>Voici un exemple de requ√™te GET comment√©e :</p><pre class="language-js line-numbers"><code>

x = 7

app.get('/', (req, res) => { //le '/' indique l'emplacement
    res.statusCode = 200; //200 est un code d'√©tat classique pour indiquer une requ√™te r√©ussie
    res.setHeader('Content-Type', 'text/html; charset=utf-8'); //indique la mise en forme de la r√©ponse

    res.end(donn√©e.toString()); //renvoie la r√©ponse

})


</code></pre><p>De m√™me pour une requ√™te POST :</p><pre class="language-js line-numbers"><code>

app.post('/', (req, res) => {

    donn√©e = req.query.valeur //attribue √† la variable "donn√©e" la valeur de "valeur"
    res.redirect('/') //ajoute une m√©thode GET pour √©viter de renvoyer une donn√©e au rafra√Æchissement du navigateur

})


</code></pre><p>En g√©n√©ral, pour tester les m√©thodes au fur et √† mesure du d√©veloppement, on utilise une application externe comme <a href="https://www.postman.com/">Postman</a>. Elle permet de simuler des requ√™tes de diff√©rents types afin d'observer ce que renvoie le serveur.</p><p>Dans le cadre de la formation OpenClassrooms suivie, le projet qui sert de fil conducteur aux exercices de mise en pratique est la cr√©ation d'un site de revente d'objets, dont le front est d√©j√† existant. Voici donc, pour donner un exemple un peu plus contextuel, ce que pourrait donner le fichier &quot;app.js&quot; dans ce cas :</p><pre class="language-js line-numbers"><code>

app.use('/api/stuff', (req, res, next) => { // '/api/test' correspond √† la route/l'URL o√π est enregistr√© le code (aussi appel√©e endpoint)
  const stuff = [ //cr√©ation des articles sous la forme requise par le front du projet
    {
      _id: 'objet1',
      title: 'Mon premier objet',
      description: 'Les infos de mon premier objet',
      imageUrl: 'https://....jpg',
      price: 50,
      userId: 'adupont',
    },
    {
      _id: 'objet2',
      title: 'Mon deuxi√®me objet',
      description: 'Les infos de mon deuxi√®me objet',
      imageUrl: 'https://.....jpg',
      price: 70,
      userId: 'adupont',
    },
  ];
  res.status(200).json(stuff); //retourne les articles et le code d'√©tat de requ√™te r√©ussie
});


</code></pre><p>On effectue ensuite une requ√™te GET sur Postman, et on obtient comme pr√©vu le r√©sultat suivant : <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Agathe-Rabachou/mon/temps-2.2/requete_GET_postman.png"></p><ul><li><strong>Les headers</strong></li></ul><p>Comme mentionn√© pr√©c√©demment, le front du projet de ce cours est d√©j√† cr√©e et s'ex√©cute donc en local, mais sur un port diff√©rent du back. On observe ci-dessus que lorsque l'on lance le back et qu'on le teste sur Postman, on re√ßoit bien les informations voulues du serveur, cependant elles ne s'affichent pas sur le front. Les deux parties ne communiquent pas. C'est d√ª √† ce que l'on appelle une <strong>erreur CORS</strong>.</p><p>CORS signifie Cross Origin Resource Sharing. C'est un syst√®me qui d√©finit comment les serveurs et les navigateurs interagissent, et notamment quelles ressources peuvent √™tre accept√©es ou non. Par mesure de s√©curit√©, celui-ci emp√™che par d√©faut les requ√™tes HTTP entre des serveurs diff√©rents, et donc ici l'application n'a pas acc√®s √† l'API. Pour pouvoir faire communiquer les deux ports distincts entre eux, il va falloir ajouter des headers (ou en-t√™te en fran√ßais).</p><p>On ajoute au fichier &quot;app.js&quot; le morceau de code suivant (toujours expliqu√© en commentaires), et celui-ci ce place bien s√ªr AVANT la commande qui cr√©e les articles, car les middlewares sont lu dans l'ordre dans lequel ils sont √©crit :</p><pre class="language-js line-numbers"><code>

app.use((req, res, next) => { //il n'y a pas d'URL sp√©cifi√© donc le code s'applique √† toutes les routes
  res.setHeader('Access-Control-Allow-Origin', '*'); //cette ligne autorise toutes les origines (d'o√π le '*') √† acc√©der √† l'API
  res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content, Accept, Content-Type, Authorization'); //cette ligne autorise l'ajout aux requ√™tes des headers mentionn√©s
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, PATCH, OPTIONS'); //cette ligne autorise l'envoi de requ√™tes avec les m√©thodes mentionn√©es
  next(); //fonction next √† ne pas oublier pour passer au middleware suivant
});


</code></pre><p>Retenons au moins que pour permettre des requ√™tes de diff√©rentes origines (Cross Origin), il faut ajouter des headers sp√©cifiques de contr√¥le d'acc√®s aux objets de r√©ponse.</p><h2 id="5.-conclusion" tabindex="-1"><a class="header-anchor" href="#5.-conclusion"></a> 5. Conclusion</h2><p>Finalement, ce MON m'a beaucoup aid√© √† √©claircir la notion de back-end, m√™me si j'ai eu besoin de nombreuses recherches pour assimiler certains concepts qui ne me sont pas tr√®s intuitifs. Cela me permettra de mieux cerner le fonctionnement global de futurs projets et notamment du projet 3A.</p><p>Concernant les ressources, le <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466206-configurez-votre-environnement-de-developpement">cours OpenClassrooms</a> m'a sembl√© plut√¥t complet, m√™me si je l'ai trouv√© relativement compliqu√© pour le niveau que j'avais. Il m'a souvent manqu√© du vocabulaire technique que j'ai d√ª chercher par moi-m√™me pour pouvoir suivre la formation. J'ai par exemple consult√© <a href="https://fullstackopen.com/fr/">ce site</a> entre autres, sur les conseils du <a href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Rioual-Lucas/mon/temps-1.2/">MON de Lucas</a>, qui est pour moi beaucoup plus clair et accessible pour un d√©butant, m√™me si peut-√™tre moins complet sur certaines notions.</p><p>La suite du <a href="https://openclassrooms.com/fr/courses/">cours OpenClassrooms</a> porte entre autres sur les moyens d'autoriser les utilisateurs √† ajouter leurs articles sur le site, l'introduction d'une base de donn√©es au projet, ainsi que la s√©curisation du back-end avec des m√©thodes d'authentification. Je n'ai pas eu le temps de m'attarder sur ces diff√©rentes parties, mais elles pourraient faire l'objet d'un prochain MON.</p></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>