<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Diouf-Asssane/pok/temps-1/"><meta name="description" content="Depuis 2019, la plupart des navigateurs int√®grent WebAssembly (WASM). Il est donc possible de r√©aliser des applications web avec des performances proches d&#39;applications natives en utilisant des langages de programmation vari√©s (C++, python, Rust, etc...). R√©alisons une application de ce type avec Rust dans ce POK."><meta property="og:description" content="Depuis 2019, la plupart des navigateurs int√®grent WebAssembly (WASM). Il est donc possible de r√©aliser des applications web avec des performances proches d&#39;applications natives en utilisant des langages de programmation vari√©s (C++, python, Rust, etc...). R√©alisons une application de ce type avec Rust dans ce POK."><meta name="twitter:description" content="Depuis 2019, la plupart des navigateurs int√®grent WebAssembly (WASM). Il est donc possible de r√©aliser des applications web avec des performances proches d&#39;applications natives en utilisant des langages de programmation vari√©s (C++, python, Rust, etc...). R√©alisons une application de ce type avec Rust dans ce POK."><meta name="author" content="Assane Diouf"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, POK"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Un site en Rust avec WebAssembly"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Diouf-Asssane/pok/temps-1/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Un site en Rust avec WebAssembly"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Diouf-Asssane/pok/temps-1/"><title>Un site en Rust avec WebAssembly</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Un site en Rust avec WebAssembly</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tag :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">POK</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">POK</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Assane Diouf</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2023-2024</span></div></div><p class="mb-4 text-lg">Depuis 2019, la plupart des navigateurs int√®grent WebAssembly (WASM). Il est donc possible de r√©aliser des applications web avec des performances proches d'applications natives en utilisant des langages de programmation vari√©s (C++, python, Rust, etc...). R√©alisons une application de ce type avec Rust dans ce POK.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2023-2024/Diouf-Asssane/">Assane DIOUF</a><span class="px-1">/</span><a href="/promos/2023-2024/Diouf-Asssane/pok/">POK d&#39;Assane Diouf</a><span class="px-1">/</span><a href="/promos/2023-2024/Diouf-Asssane/pok/temps-1/">Un site en Rust avec WebAssembly</a></div></div><h2 id="c'est-quoi-le-webassembly-%3F" tabindex="-1"><a class="header-anchor" href="#c'est-quoi-le-webassembly-%3F"></a> C'est quoi le WebAssembly ?</h2><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Diouf-Asssane/pok/temps-1/webassembly.svg" alt="logo WebAssembly"></p><blockquote><p>WebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.</p></blockquote><p><em>Cette d√©finition est tir√©e de <a href="https://webassembly.org">webassembly.org</a></em></p><p>WebAssembly est un langage qui est execut√© par une machine virtuelle et ceci directement dans le navigateur. De plus, de nombreux langages, comme le C/C++, peuvent √™tre compil√©s en WebAssembly.</p><p>La majeur partie des navigateurs sont capables d'ex√©cuter ce WebAssembly depuis quelques ann√©es. Il est donc possible d'√©crire un programme dans un autre langage que le javascript, de porter celui-ci en WebAssembly et de faire appel √† ce code depuis votre javascript. Le code ainsi r√©alis√© est alors tr√®s rapide et offre des performances proches d'applications natives.</p><h2 id="ce-que-j'ai-pr%C3%A9vu-pour-le-1er-point-pok" tabindex="-1"><a class="header-anchor" href="#ce-que-j'ai-pr%C3%A9vu-pour-le-1er-point-pok"></a> Ce que j'ai pr√©vu pour le 1er point POK</h2><ul><li>Me former sur Rust (voir mon <a href="../../mon/Rust/">premier MON</a>)</li><li>Compiler le Rust en WebAssembly et l'utiliser dans un site</li><li>Trouver une id√©e plus pr√©cise du site que je vais r√©aliser</li><li>Ajouter les fichiers HTML/CSS/etc... primordiaux au site</li></ul><h2 id="ce-que-j'ai-fait" tabindex="-1"><a class="header-anchor" href="#ce-que-j'ai-fait"></a> Ce que j'ai fait</h2><h3 id="d%C3%A9couvrir-le-webassembly" tabindex="-1"><a class="header-anchor" href="#d%C3%A9couvrir-le-webassembly"></a> D√©couvrir le WebAssembly</h3><p>J'ai commenc√© par d√©couvrir le WebAssembly. Pour ce faire, je suis all√© sur leur site et j'ai visionn√© quelques vid√©os youtube comme :</p><ul><li>Une pr√©sentation de WebAssembly par Fireship (<a href="https://youtu.be/cbB3QEwWMlA?si=ueUqehMnqwMaQCWD">lien</a>)</li><li>Une introduction int√©ressante au WebAssembly (<a href="https://youtu.be/3sU557ZKjUs?si=YLLlOl5MAQwoTh27">lien</a>)</li><li>Une autre vid√©o de Fireship avec un exemple d'application (<a href="https://youtu.be/-OTc0Ki7Sv0?si=zvRBlrsuw_4xKhbY">lien</a>)</li></ul><p>Ces informations m'ont permis de mieux saisir ce qu'est le WebAssembly. Elles ont aussi consid√©rablement renforc√©s mon envie de le tester.</p><h3 id="du-c%2B%2B-au-webassembly" tabindex="-1"><a class="header-anchor" href="#du-c%2B%2B-au-webassembly"></a> Du C++ au WebAssembly</h3><p>J'ai donc d√©cid√© d'essayer wasm. J'ai commenc√© par un autre langage que Rust car je ne le connaissais pas encore assez. Il est cependant possible de cibler le WebAssembly depuis plusieurs langages comme le C et le C++ par exemple, j'ai donc commenc√© par l√†.</p><p>Pour cr√©er un code wasm avec du C++, il faut utiliser <a href="https://emscripten.org">emscripten</a>. Emscripten va prendre les fichiers sources et sortir un fichier en WebAssembly (.wasm), un fichier javascript et un fichier en HTML. Le javascript va automatiquement appel√© le WebAssembly et d√©finir les fonctions n√©cessaires pour que nos m√©thodes puissent √™tre appel√©es depuis le javascript. Le HTML est alors une page g√©n√©r√©e automatiquement pour appeler ce javascript (en tout cas sa fonction main). J'ai pu obtenir le r√©sultat suivant en utilisant emscripten sur un programme en C++/SDL : <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Diouf-Asssane/pok/temps-1/emscripten.png" alt="Affichage avec emscripten"></p><h3 id="rust-et-webassembly" tabindex="-1"><a class="header-anchor" href="#rust-et-webassembly"></a> Rust et WebAssembly</h3><p>J'ai ensuite suivi le tutoriel fournit par Rust sur le WebAssembly accessible <a href="https://rustwasm.github.io/docs/book/introduction.html">ici</a>.</p><p>Apr√®s cette √©tape, la majorit√© de mes questions sur le WebAssembly avaient trouv√©es leur r√©ponses.</p><h3 id="des-%C3%A9quations-crois%C3%A9es" tabindex="-1"><a class="header-anchor" href="#des-%C3%A9quations-crois%C3%A9es"></a> Des √©quations crois√©es</h3><p>Ensuite, il me fallait appliquer ce que je venais d'apprendre sur le WebAssembly et produire un livrable pour mon POK. Je me suis donc lanc√© le d√©fi de r√©aliser un jeu d'√©quations crois√©es. Le r√©sultat final, ressemblerait √† √ßa : <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Diouf-Asssane/pok/temps-1/crossmath.png" alt="Crossmath"> <em>Cette image a √©t√© tir√©e du jeu Crossmath</em></p><p>Je n'ai pas d'affichage pour l'instant, cependant voici ma progression jusqu'√† pr√©sent :</p><ul><li>Cr√©ation du code de g√©n√©ration d'√©quations</li><li>Cr√©ation des fichiers HTML de base</li><li>Test de mes m√©thodes existantes jusqu'√† pr√©sent</li></ul><p>J'ai donc pu en arriver au point que je visais √† la fin de ce premier point POK !</p><h2 id="ce-que-j'ai-pr%C3%A9vu-pour-le-second-point-pok" tabindex="-1"><a class="header-anchor" href="#ce-que-j'ai-pr%C3%A9vu-pour-le-second-point-pok"></a> Ce que j'ai pr√©vu pour le second point POK</h2><p>Pour la suite, voici les taches que je souhaite terminer :</p><ul><li>Terminer l'algorithme de g√©n√©ration des grilles <em>(difficult√© estim√©e : 5)</em></li><li>Envoyer une grille avec des cases non compl√©t√©es ainsi que les indices associ√©s <em>(difficult√© estim√©e : 2)</em></li><li>Afficher la grille dans la page <em>(difficult√© estim√©e : 1)</em></li><li>G√©rer le remplissage de la grille par le joueur <em>(difficult√© estim√©e : 3)</em></li><li>G√©rer la validation de la grille remplie par le joueur <em>(difficult√© estim√©e : 1)</em></li></ul><h2 id="ce-que-j'ai-fait-%C3%A0-la-fin-du-temps-1" tabindex="-1"><a class="header-anchor" href="#ce-que-j'ai-fait-%C3%A0-la-fin-du-temps-1"></a> Ce que j'ai fait √† la fin du temps 1</h2><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Diouf-Asssane/pok/temps-1/crossmath_final.png" alt="Le r√©sultat apr√®s 20h de travail"></p><p><a href="https://crossmath.assanediouf.com/">Jouez au jeu en cliquant ici !</a></p><h3 id="les-p%C3%A9rip%C3%A9ties" tabindex="-1"><a class="header-anchor" href="#les-p%C3%A9rip%C3%A9ties"></a> Les p√©rip√©ties</h3><p>Comme je l'avais estim√©, le plus difficile a √©t√© l'algorithme de g√©n√©ration de la grille. Je l'ai fait un bon coup un soir puis j'ai commenc√© √† mettre en place le js pour l'afficher. Seulement, cet affichage m'a juste montrer √† quelle point je passais √† c√¥t√© de plein de cas : mon impl√©mentation n'allait pas. J'ai donc modifi√© mon algorithme, pour ensuite m'apercevoir que j'avais encore oubli√© quelque chose. Ca a continuer comme √ßa encore une ou deux fois avant que j'ai quelque chose qui fonctionne pour de bon !</p><p>Il me restait ensuite assez peu de temps pour mettre en place mon CSS.</p><h3 id="r%C3%A9trospectives" tabindex="-1"><a class="header-anchor" href="#r%C3%A9trospectives"></a> R√©trospectives</h3><p>Je pense que le code que j'ai √©cris pourrait √™tre am√©lior√© (ou au moins √©crit de fa√ßon plus lisible). J'ai utilis√© des tests en Rust, je pense que les tests relatifs √† la cr√©ation de la grille pourraient √™tre am√©lior√©s. En effet, tous les tests des fonctions qui interviennent dans le processus √©taient convaincants mais pas celui du tout.</p><p>Ensuite, je suis s√ªr qu'il est possible de rendre mon impl√©mentation encore plus rapide en utilisant des √©l√©ments de Rust que je ne connaissais pas encore.</p><p>Je suis tout de m√™me assez satisfait du r√©sultat, je trouve assez incroyable que le tout se d√©roule uniquement en front.</p><h3 id="et-ensuite-%3F" tabindex="-1"><a class="header-anchor" href="#et-ensuite-%3F"></a> Et ensuite ?</h3><p>Plein d'am√©liorations et de prolongements sont possibles, comme par exemple :</p><ul><li>am√©liorer le style (rendre la page responsive, √©quilibrer le design car on dirait qu'il y a un vide √† gauche, etc..)</li><li>ajouter des op√©rations comme les divisions et les multiplications</li><li>optimiser l'algorithme de cr√©ation de la grille</li><li>rendre le remplissage de la grille plus intuitif (par exemple, griser une option si l'utilisateur a d√©j√† plac√© la valeur)</li><li>et biens√ªr, publier le site</li></ul><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"></a> Conclusion</h2><p>J'ai pu d√©couvrir le webassembly avec Rust et r√©aliser cette application. Le webassembly est une tr√®s belle d√©couverte, il ouvre de toutes nouvelles possibilit√©s √† mon sens. Je souhaite toutefois noter qu'il y a des fa√ßons diff√©rentes de faire du web avec Rust. Ces autres m√©thodes vont un peu masquer le c√¥t√© web mais se basent aussi sur le webassembly (voir <a href="https://trunkrs.dev">Trunk</a>). Enfin, le code est disponible dans mon <a href="https://github.com/assanediouf18/Crossmath">github</a>.</p></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>