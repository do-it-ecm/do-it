<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2023-2024/Ledins-Cassandra/pok/temps-2/"><meta name="description" content="Je vais essayer de d√©couvrir Rust et coder un mini-jeu."><meta property="og:description" content="Je vais essayer de d√©couvrir Rust et coder un mini-jeu."><meta name="twitter:description" content="Je vais essayer de d√©couvrir Rust et coder un mini-jeu."><meta name="author" content="Cassandra Ledins"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, POK"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Cr√©er un petit jeu avec Rust"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Ledins-Cassandra/pok/temps-2/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Cr√©er un petit jeu avec Rust"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2023-2024/Ledins-Cassandra/pok/temps-2/"><title>Cr√©er un petit jeu avec Rust</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Cr√©er un petit jeu avec Rust</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tag :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">POK</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">POK</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Cassandra Ledins</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2023-2024</span></div></div><p class="mb-4 text-lg">Je vais essayer de d√©couvrir Rust et coder un mini-jeu.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2023-2024/Ledins-Cassandra/">Cassandra Ledins</a><span class="px-1">/</span><a href="/promos/2023-2024/Ledins-Cassandra/pok/">POK de Cassandra Ledins</a><span class="px-1">/</span><a href="/promos/2023-2024/Ledins-Cassandra/pok/temps-2/">Cr√©er un petit jeu avec Rust</a></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100 dark:border-pink-800 dark:bg-pink-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-pink-500 dark:stroke-pink-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg><div class="pl-8 mb-2 mr-8"><p><strong>Pr√©requis</strong></p></div><div class="pl-8 mr-8"><ul><li>savoir comment marche un pointeur</li><li>niveau interm√©diaire de programmation</li></ul></div></div><h1 id="objectifs" tabindex="-1"><a class="header-anchor" href="#objectifs"></a> Objectifs</h1><p>Inspir√©e par les POK&amp;MON d'Assane et de Victor, j'ai voulu en apprendre plus sur Rust et r√©aliser la programmation d'un jeu-vid√©o comme propos√© par le livre Hands-on Rust, pr√™t√© par M. Brucker.</p><p>Dans un premier temps, j'aimerais me familiariser avec les concepts du langage Rust, puis ensuite encha√Æner avec la cr√©ation du dungeon crawler propos√© par le livre:</p><ul><li>Installation, familiarisation avec la syntaxe, d√©frichage des concepts <strong>3h</strong></li><li>Comprendre les concepts de possession, de r√©f√©rences et d'emprunt <strong>4h</strong></li><li>Introduction √† la programmation de jeux vid√©o <strong>4h</strong></li><li>D√©veloppement du dungeon crawler <strong>9h</strong></li></ul><h2 id="rust-%3A-un-aper%C3%A7u" tabindex="-1"><a class="header-anchor" href="#rust-%3A-un-aper%C3%A7u"></a> Rust : Un Aper√ßu</h2><h3 id="bref-historique" tabindex="-1"><a class="header-anchor" href="#bref-historique"></a> Bref Historique</h3><p>Rust a √©t√© cr√©√© par Mozilla Research, avec le travail initial de Graydon Hoare en 2006. Il a √©t√© rendu open source en 2010, et sa premi√®re version stable a √©t√© publi√©e en 2015. Rust a gagn√© en popularit√© gr√¢ce √† sa combinaison unique de performances √©lev√©es et de garanties de s√©curit√©, ce qui le rend particuli√®rement attrayant pour le d√©veloppement de syst√®mes.</p><p>Rust est un langage de programmation moderne qui offre des performances √©lev√©es, des garanties de s√©curit√© et une gestion avanc√©e de la m√©moire gr√¢ce √† des concepts tels que la possession, les emprunts et les dur√©es de vie. C'est un choix puissant pour les applications n√©cessitant √† la fois rapidit√© et fiabilit√©.</p><h3 id="syntaxe-de-rust" tabindex="-1"><a class="header-anchor" href="#syntaxe-de-rust"></a> Syntaxe de Rust</h3><p>La syntaxe de Rust est con√ßue pour √™tre expressive tout en √©tant pr√©cise. Faisons un rapide tour.</p><h4 id="d%C3%A9clarations-de-variables" tabindex="-1"><a class="header-anchor" href="#d%C3%A9clarations-de-variables"></a> D√©clarations de variables</h4><p>Par d√©faut, les variables sont immuables, et il faut ajouter le mot cl√© <strong>mut</strong> pour pouvoir les changer plus tard.</p><pre class="language-rust line-numbers"><code>

let x = 5;      // variable immuable
let mut y = 10;  // variable mutable


</code></pre><h4 id="fonctions" tabindex="-1"><a class="header-anchor" href="#fonctions"></a> Fonctions</h4><p>Comme dans de nombreux langages de programmation, on d√©clare le type de variable retourn√© par les fonctions au moment de la d√©claration. On peut √©galement utiliser des fonctions en cascade sur une variable avec la syntaxe suivante :</p><pre class="language-rust line-numbers"><code>

fn add(a: i32, b: i32) -> i32 {
    return a + b;
}

variable
  .fonction1()
  .fonction2()
  .fonction3()
  .....


</code></pre><h4 id="structures-de-contr%C3%B4le" tabindex="-1"><a class="header-anchor" href="#structures-de-contr%C3%B4le"></a> Structures de contr√¥le</h4><p>Les structures logiques sont semblables √† la plupart des autres langages de programmation.</p><pre class="language-rust line-numbers"><code>

if condition {
  ...
} else {
 ...
}
for item in iterable {
    ...
}


</code></pre><h3 id="concepts-cl%C3%A9s" tabindex="-1"><a class="header-anchor" href="#concepts-cl%C3%A9s"></a> Concepts Cl√©s</h3><p>J'ai lu <a href="https://doc.rust-lang.org/stable/book/title-page.html">la documentation Rust officielle</a>, en partie seulement, pour essayer de comprendre les concepts li√©s au langage. Ces concepts ont d√©j√† √©t√© √©voqu√©s dans les Pok&amp;Mon d'Assane et de Victor, je ne vais donc pas m'√©tendre, dessus mais en voici un bref r√©sum√©.</p><h4 id="possession%2C-emprunt-et-r%C3%A9f%C3%A9rences" tabindex="-1"><a class="header-anchor" href="#possession%2C-emprunt-et-r%C3%A9f%C3%A9rences"></a> Possession, Emprunt et R√©f√©rences</h4><ul><li><p><strong>Possession (Ownership) :</strong> Rust suit le principe de possession unique. Chaque valeur a un unique &quot;propri√©taire&quot;. La propri√©t√© peut √™tre transf√©r√©e, mais une seule entit√© peut poss√©der la valeur √† la fois.</p></li><li><p><strong>Emprunt (Borrowing) :</strong> Rust permet d'emprunter temporairement la valeur plut√¥t que de transf√©rer la propri√©t√©. Cela permet √† plusieurs parties du code d'acc√©der √† une valeur sans en √™tre propri√©taire. On peut emprunter la valeur d'une variable x en appellant &amp;x.</p></li><li><p><strong>R√©f√©rences :</strong> Et si j'ai bien tout compris, on parle de r√©f√©rence quand une variable a emprunt√© la valeur d'une autre.</p></li></ul><h4 id="crates%2C-ownership-et-lifetime" tabindex="-1"><a class="header-anchor" href="#crates%2C-ownership-et-lifetime"></a> Crates, Ownership et Lifetime</h4><ul><li><p><strong>Crates :</strong> Les crates sont l'√©quivalent des biblioth√®ques ou modules en Rust. Les d√©veloppeurs peuvent partager et r√©utiliser leur code en l'emballant dans des crates.</p></li><li><p><strong>Ownership et Lifetime :</strong> Rust utilise le syst√®me de possession et de dur√©e de vie pour garantir l'absence de violations de la m√©moire. Chaque r√©f√©rence a une dur√©e de vie sp√©cifi√©e, et le compilateur Rust s'assure que les r√©f√©rences restent valides pendant toute leur dur√©e de vie. Plus concr√®tement, une variable vit dans le scope o√π elle a √©t√© d√©clar√©e.</p></li></ul><h3 id="mes-premiers-petits-projets" tabindex="-1"><a class="header-anchor" href="#mes-premiers-petits-projets"></a> Mes premiers petits projets</h3><p>Etant impatiente de d√©couvrir le livre Hands-on Rust, j'ai vite saut√© sur les premiers chapitres, qui sont en fait des petits exercices de d√©marrage. On y d√©couvre des outils tels que <strong>Clippy</strong>, une sorte d'IA code-reviewer qui aime faire des suggestions pour rendre le code plus intelligent. On d√©couvre aussi les commandes <strong>cargo new</strong> pour cr√©er un projet, <strong>cargo run</strong> pour le lancer, <strong>cargo fmt</strong> pour bien aligner les tabulations...</p><h4 id="treehouse" tabindex="-1"><a class="header-anchor" href="#treehouse"></a> TreeHouse</h4><p>Dans le premier exercice TreeHouse, on joue au vigil avec l'invite de commande, pour savoir si on a le droit de rentrer ou non dans le TreeHouse, et si on a un traitement sp√©cial. On y apprend donc les assignations et modification de variables.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Ledins-Cassandra/pok/temps-2/treehouse.png" alt=""></p><h3 id="la-programmation-de-jeu-avec-rust" tabindex="-1"><a class="header-anchor" href="#la-programmation-de-jeu-avec-rust"></a> La programmation de jeu avec Rust</h3><p>On arrive donc √† la partie ludique, celle o√π on parle de programmer notre premier jeu : un <strong>Flappy Dragon</strong></p><p>On y impl√©mente des structures, l'√©quivalent des d√©clarations de classe, ainsi que des impl√©mentations li√©es aux structures, comme le constructeur et toutes les autres fonctions qu'on veut lier √† nos structures.</p><p>On y d√©couvre aussi le concept de &quot;contexte&quot;, en gros les informations li√©es au jeu transmises sous forme graphique.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Ledins-Cassandra/pok/temps-2/Flappy.png" alt="Flappy"></p><h2 id="fin-du-sprint-1" tabindex="-1"><a class="header-anchor" href="#fin-du-sprint-1"></a> Fin du Sprint 1</h2><p>La fin du sprint 1 a √©t√© un peu mouvement√©e pour moi, donc je ne sais pas dire exactement o√π j'en √©tais.</p><p>Mais apr√®s avoir fini Flappy Dragon, voici le r√©sum√© des heures pass√©es :</p><ul><li><p>Installation, familiarisation avec la syntaxe, d√©frichage des concepts <strong>3h</strong> REALISE comme pr√©vu, la r√©alisation des petits exercices m'a emmen√©e √† peu pr√®s vers 3 heures.</p></li><li><p>Comprendre les concepts de possession, de r√©f√©rences et d'emprunt <strong>4h</strong> X NON REALISE.</p><p>J'ai lu la documentation dans le cadre de la premi√®re partie, et m√™me si j'avais des notions √† ce moment, c'est tout au long du POK que j'ai commenc√© √† mieux ma√Ætriser les concepts. Cet objectif n'√©tait pas assez concret du tout. Je pense tout de m√™me que si on compte le temps de d√©bogage et de lectures li√©s √† l'apprentissage des concepts, l'estimation de 4h n'√©tait pas abberante.</p></li><li><p>Introduction √† la programmation de jeux vid√©o : R√©aliser le Flappy Dragon <strong>3h</strong> REALISE, c'√©tait plus rapide que pr√©vu</p></li></ul><h3 id="nouveaux-objectifs-sprint-2" tabindex="-1"><a class="header-anchor" href="#nouveaux-objectifs-sprint-2"></a> Nouveaux objectifs Sprint 2</h3><p>Pour le temps qui reste, c'est √† dire √† peu pr√®s 10 heures apr√®s le flappy dragon, je veux r√©aliser le dungeon crawler. Plus pr√©cis√©ment, mon objectif sera d'<strong>avoir un MVP</strong> donc d'arriver √† avoir un jeu jouable, avec un √©cran de victoire ou de d√©faite, ce qui correspond au Chapitre 10 du livre, soit un peu plus des 2 tiers. Il ne me semble pas r√©alisable en 10h de terminer toutes les am√©liorations propos√©es, √† mon niveau.</p><h1 id="sprint-2" tabindex="-1"><a class="header-anchor" href="#sprint-2"></a> Sprint 2</h1><p>L'enti√®ret√© du sprint 2 a donc √©t√© consacr√© √† la programmation du dungeon crawler du livre Hands-on Rust.</p><h2 id="d%C3%A9coupage-du-projet" tabindex="-1"><a class="header-anchor" href="#d%C3%A9coupage-du-projet"></a> D√©coupage du projet</h2><p>La premi√®re nouveaut√© par rapport aux premiers exercices et exemples, c'est que le projet aura besoin de plus (beaucoup plus) qu'un seul fichier main.</p><h3 id="initialisation-et-g%C3%A9n%C3%A9ration-pseudo-random-de-la-map" tabindex="-1"><a class="header-anchor" href="#initialisation-et-g%C3%A9n%C3%A9ration-pseudo-random-de-la-map"></a> Initialisation et g√©n√©ration pseudo-random de la map</h3><p>On commence par r√©aliser un map-builder, qui g√©n√®re des rectangles adjacents, qu'on relie par des couloirs. Le tout sera affich√© en caract√®res du type &quot;#&quot; pour les murs, &quot;,&quot; pour le sol.</p><p>On ajoute ensuite le d√©placement du joueur sur les endroits valide de la carte (donc le sol). Le joueur sera repr√©sent√© par &quot;@&quot;.</p><p>J'ai oubli√© de sauvegarder une image de cette √©tape, mais pour le coup on peut pas faire plus r√©tro qu'afficher une grille de caract√®res comme √ßa.</p><h3 id="style-et-d%C3%A9placement-de-cam%C3%A9ra" tabindex="-1"><a class="header-anchor" href="#style-et-d%C3%A9placement-de-cam%C3%A9ra"></a> Style et d√©placement de cam√©ra</h3><p>On importe ensuite une image pour donner du style √† nos caract√®res. A chaque caract√®re est associ√© un petit sprite, par exemple un sprite de Chevalier pour notre h√©ros qui en avait marre de ressembler √† un @ qui se balade sur des , .</p><h3 id="monstres-et-arriv%C3%A9e-des-components" tabindex="-1"><a class="header-anchor" href="#monstres-et-arriv%C3%A9e-des-components"></a> Monstres et arriv√©e des Components</h3><p>Un h√©ros qui se balade dans des couloirs ne fait pas un jeu, il faut donc rajouter du challenge : des ennemis. On va cr√©er un script spawner qui s'occupera aussi bien de spawn des monstres que notre joueur. On spawn 1 monstre au centre de chaque salle. Gr√¢ce √† notre image qui associe caract√®re et sprites (une font en fait), on peut faire spawn des orcs et goblins avec les caract√®res o et O.</p><p>A ce moment l√†, la structure des scripts commence √† se rapprocher de ce que j'ai pu faire dans Unity, on ajoute un script component, qui d√©finira des components qu'on pourra ajouter √† nos entit√©s. Par exemple un nom, des points de vie, des intentions comme &quot;veut se d√©placer&quot;...</p><h3 id="collisions-et-d%C3%A9placements-randomis%C3%A9s" tabindex="-1"><a class="header-anchor" href="#collisions-et-d%C3%A9placements-randomis%C3%A9s"></a> Collisions et d√©placements randomis√©s</h3><p>On √©crit un script de collision entre entit√© pour pr√©parer le syst√®me de combat, et on ajoute un syst√®me de d√©placement randomis√© sur les monstres</p><h3 id="turn-by-turn-et-syst%C3%A8me-d'attaque" tabindex="-1"><a class="header-anchor" href="#turn-by-turn-et-syst%C3%A8me-d'attaque"></a> Turn by Turn et syst√®me d'attaque</h3><p>On ajoute un syst√®me de tour par tour, o√π les monstres ne bougent qu'apr√®s vous appuyez sur les touches de d√©placement et attendent ensuite votre prochain input. Viens ensuite le syst√®me d'attaque, on remplace le script collision par un script de combat.</p><h3 id="hud-et-r%C3%A9g%C3%A9neration-des-points-de-vie" tabindex="-1"><a class="header-anchor" href="#hud-et-r%C3%A9g%C3%A9neration-des-points-de-vie"></a> HUD et r√©g√©neration des points de vie</h3><p>Se battre c'est bien, mais c'est toujours int√©ressant dans les jeux de pouvoir voir notre propre barre de vie ainsi que celle des ennemis. On ajoute un troisi√®me layer HUD √† notre console (on avait un layer map avec le sol et les murs, un deuxi√®me layer par dessus avec les entit√©s). Et un syst√®me o√π si on reste sur place, on regagne de la vie.</p><p>On rend aussi les d√©placements des montres non-randomis√©s mais avec un Dijkstra (plus court chemin vers le h√©ros). Je ne suis pas fan de ce syst√®me o√π des monstres √† l'autre bout de la map courent ligne droite vers vous, je trouvais les d√©placements randomis√©s plus dur √† battre que des d√©placements pr√©visibles.</p><p>On a aussi maintenant la possibilit√© de r√©g√©n√©rer des points de vie en restant sur place.</p><p>Voil√† donc √† quoi ressemble le jeu finalement :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Ledins-Cassandra/pok/temps-2/goblins.png" alt="image"></p><h3 id="condition-de-fin%2C-game-over-ou-victory" tabindex="-1"><a class="header-anchor" href="#condition-de-fin%2C-game-over-ou-victory"></a> Condition de fin, Game Over ou Victory</h3><p>L'affichage et le combat √©tant termin√©s, il faut pour notre MVP une condition de fin de jeu : d√©faite ou victoire. On impl√©mente donc un √©cran de fin de jeu quand notre player tombe √† 0 points de vie, et on rajoute une amulette avec un Dijkstra (cette fois au point le plus √©loign√© du spawn du joueur). R√©cup√©rer cette amulette est une condition de victoire qui nous affiche un message glorieux.</p><p>Nous avons aussi la possibilt√© de recommencer le jeu en appuyant sur une touche.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Ledins-Cassandra/pok/temps-2/amulet.png" alt=""> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2023-2024/refs/heads/main//Ledins-Cassandra/pok/temps-2/victory.png" alt=""></p><h2 id="fin-du-sprint-2" tabindex="-1"><a class="header-anchor" href="#fin-du-sprint-2"></a> Fin du Sprint 2</h2><p>J'ai r√©ussi √† aller jusqu'√† un MVP dans le temps imparti, je suis satisfaite de √ßa. J'ai trouv√© difficile pour ce POK de me donner des objectifs plus pr√©cis √† part d'atteindre un certain niveau du livre.</p><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"></a> Conclusion</h2><p>Il a fallu bien s'accrocher dans ce livre qui devient de plus en plus mystique d√®s qu'on avance. J'ai pu remarquer des redondances dans le code donn√© par le livre, ou alors parfois on nous dit d'ajouter une ligne de code dans une fonction qui n'existe pas donc il faut deviner o√π √ßa va... Mais sinon les explications sont quand m√™me tr√®s d√©taill√©e et assez claires. J'aimerais pouvoir le terminer apr√®s √ßa pour pouvoir comparer mon niveau de ma√Ætrise des Game Component et Resources entre maintenant et une fois le jeu am√©lior√©.</p><p>Je vous conseille de lire la documentation car les concepts cl√©s de Rust ne sont pas tous expliqu√©s dans Hands-on Rust.</p><h2 id="sources" tabindex="-1"><a class="header-anchor" href="#sources"></a> Sources</h2><ul><li><a href="https://github.com/Cledins/rust">Mon repo github avec les exercices, le flappy dragon et le dungeon crawler</a></li><li><a href="https://doc.rust-lang.org/stable/book/title-page.html">La documentation Rust officielle</a></li></ul><h2 id="horodateur" tabindex="-1"><a class="header-anchor" href="#horodateur"></a> Horodateur</h2><p>01/12 <strong>|</strong> 6h 23/12 <strong>|</strong> 7h 15/01 <strong>|</strong> 7h</p></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>