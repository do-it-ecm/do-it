<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2024-2025/Matthieu-Dufort/pok/temps-1/"><meta name="description" content="POK traitant des bases de donn√©es en g√©n√©ral ainsi que de la fa√ßon d&#39;en construire une."><meta property="og:description" content="POK traitant des bases de donn√©es en g√©n√©ral ainsi que de la fa√ßon d&#39;en construire une."><meta name="twitter:description" content="POK traitant des bases de donn√©es en g√©n√©ral ainsi que de la fa√ßon d&#39;en construire une."><meta name="author" content="Matthieu Dufort"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, POK, Base de donn√©es, Novice, Pony"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Structuration d&#39;une base de donn√©es"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Matthieu-Dufort/pok/temps-1/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Structuration d&#39;une base de donn√©es"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Matthieu-Dufort/pok/temps-1/"><title>Structuration d&#39;une base de donn√©es</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Structuration d&#39;une base de donn√©es</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">POK</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">Base de donn√©es</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">Novice</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">Pony</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">POK</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Matthieu Dufort</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2024-2025</span></div></div><p class="mb-4 text-lg">POK traitant des bases de donn√©es en g√©n√©ral ainsi que de la fa√ßon d'en construire une.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2024-2025/Matthieu-Dufort/">Matthieu Dufort</a><span class="px-1">/</span><a href="/promos/2024-2025/Matthieu-Dufort/pok/">POK de Matthieu Dufort</a><span class="px-1">/</span><a href="/promos/2024-2025/Matthieu-Dufort/pok/temps-1/">Structuration d&#39;une base de donn√©es</a></div></div><p>Ce POK a pour but de retracer toute la conception d'une base de donn√©es, en partant de sa d√©finition pour ensuite la visualiser et l'organiser. Il se s√©parera en deux parties : une plus th√©orique et une partie pratique.</p><h2 id="t%C3%A2ches" tabindex="-1"><a class="header-anchor" href="#t%C3%A2ches"></a> T√¢ches</h2><ul><li>D√©finition et utilisation d'une base de donn√©es</li><li>Format d'une base de donn√©es</li><li>Representations possibles</li><li>Bonnes pratiques dans l'architecture</li><li>Cr√©ation d'une base de donn√©es en python sur un cas pratique</li><li>Exploitation rapide de cette base</li><li>R√©vision du SQL sur cette base</li></ul><h3 id="sprints" tabindex="-1"><a class="header-anchor" href="#sprints"></a> Sprints</h3><p>Le but final de ce POK est d'avoir une bonne connsaissance sur la cr√©ation de base de donn√©es pertinente et scalable.</p><h4 id="sprint-1" tabindex="-1"><a class="header-anchor" href="#sprint-1"></a> Sprint 1</h4><ul><li>[x] D√©finir d'une base de donn√©es ainsi que son utilisation et l'int√©r√™t</li><li>[x] D√©finir le Format et les √©l√©ments qui constituent la base</li><li>[x] Aborder les repr√©sentations possibles d'une base de donn√©es</li><li>[x] D√©finir des bonnes pratiques pour cr√©er une base de donn√©es</li><li>[x] D√©finir Les fa√ßons de garantir la fiabilit√© d'une base pour √©viter un rattrapage</li></ul><h4 id="sprint-2" tabindex="-1"><a class="header-anchor" href="#sprint-2"></a> Sprint 2</h4><ul><li>[x] Imaginer une entreprise fictive pour travailler dessus</li><li>[x] Etudier et repr√©senter les donn√©es qu'elle traite</li><li>[x] Imaginer et construire en diagramme sa base de donn√©es</li><li>[x] Construire la base de donn√©es √† l'aide de python</li><li>[x] Exploiter rapidement la base de donn√©es en faisant des requ√™tes dessus</li></ul><h3 id="horodatage" tabindex="-1"><a class="header-anchor" href="#horodatage"></a> Horodatage</h3><p>Toutes les s√©ances et le nombre d'heure que l'on y a pass√©.</p><table><thead><tr><th>Date</th><th>Heures pass√©es</th><th>Indications</th></tr></thead><tbody><tr><td>Mercredi 11/09</td><td>4h</td><td>D√©finition base de donn√©es + d√©but structures des bases + un peu d'histoire + trouver un exemple</td></tr><tr><td>Mardi 16/09</td><td>5h30</td><td>fin structure base + structures transactionnels, mise au propre du markdown + fiabilit√© + relecture</td></tr><tr><td>Mercredi 17/09</td><td>2h</td><td>Repr√©sentation d'une base + D√©finir les bonnes pratiques + Bilan sprint</td></tr><tr><td>Samedi 12/10</td><td>4h</td><td>Etudier, repr√©senter la base</td></tr><tr><td>Lundi 14/10</td><td>4h</td><td>Construire la base de donn√©e</td></tr><tr><td>Mardi 14/10</td><td>2h</td><td>Exploiter la base de donn√©es</td></tr><tr><td><strong>TOTAL</strong></td><td><strong>21h30</strong></td></tr></tbody></table><h1 id="contenu" tabindex="-1"><a class="header-anchor" href="#contenu"></a> Contenu</h1><h2 id="introduction-g%C3%A9n%C3%A9rale" tabindex="-1"><a class="header-anchor" href="#introduction-g%C3%A9n%C3%A9rale"></a> Introduction g√©n√©rale</h2><p>Dans ce POK, nous allons √©tudier dans toutes ses dimensions les bases de donn√©es. Le but est de mieux comprendre leur architecture et leur fonctionnement afin de les rendre plus optimales et √©volutives pour l'avenir d'une entreprise.</p><p>Pour ce POK, nous allons travailler dans le cadre d'une entreprise fictive de <strong>construction de b√¢timent</strong>. Nous allons ensuite d√©velopper tous les aspects de la base de donn√©es en l'orientant sur cette entreprise afin d'imaginer leur architecture, leur fonctionnement...</p><h1 id="premier-sprint" tabindex="-1"><a class="header-anchor" href="#premier-sprint"></a> Premier Sprint</h1><h2 id="d%C3%A9finition-g%C3%A9n%C3%A9rale-d'une-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#d%C3%A9finition-g%C3%A9n%C3%A9rale-d'une-base-de-donn%C3%A9es"></a> D√©finition g√©n√©rale d'une base de donn√©es</h2><p>Une base de donn√©es est un moyen de stockage digital qui permet de stocker des informations ou des donn√©es. Elle peut avoir diff√©rentes structures globales que nous aborderons plus en d√©tail dans la partie sur la structure :</p><ul><li><strong>Structur√©</strong> : Organisation pr√©cise permettant de bien identifier chaque type de donn√©es pour chacun des utilisateurs.</li><li><strong>Semi-Structur√©</strong> : Organisation interm√©diaire entre une structure compl√®te et une base sans structure.</li><li><strong>Brute</strong> : Un ensemble de donn√©es sans structure (informations m√©lang√©es sans cat√©gorie).</li></ul><p>Une base de donn√©es est manipulable et modifiable ; on peut ajouter des donn√©es, en supprimer et en modifier en fonction des besoins d'un utilisateur. Une base de donn√©es est visionnable mais peut avoir des r√®gles de s√©curit√© qui restreignent la vue des utilisateurs.</p><p>Pour les donn√©es sensibles, une base est soumise aux conditions du RGPD.</p><p>Si plusieurs bases de donn√©es fonctionnent en collection, on parle de banque de donn√©es.</p><h2 id="pr%C3%A9sentation-de-l'entreprise-exemple-fictive" tabindex="-1"><a class="header-anchor" href="#pr%C3%A9sentation-de-l'entreprise-exemple-fictive"></a> Pr√©sentation de l'entreprise exemple fictive</h2><p>L'entreprise exemple fictive que nous allons utiliser tout au long de l'exercice se nomme <strong>BatiBase</strong>. C'est une entreprise qui travaille dans le secteur du b√¢timent en faisant du g√©nie civil. Elle intervient sur de grands chantiers partout en France et ne poss√®de actuellement pas de syst√®me digital ü•µ. En effet, elle s'est d√©velopp√©e tr√®s vite apr√®s sa cr√©ation et n'a pas eu le temps de mettre √† jour ses syst√®mes. Il faut donc urgemment y rem√©dier !</p><p>Pour cela, BatiBase a fait appel √† nous afin de construire leur base de donn√©es. Ils ne connaissent pas bien les bases de donn√©es et nous laissent donc libre choix sur tout, tant que cela couvre leur activit√© et que la base est scalable. Nous allons donc devoir choisir un mod√®le d'architecture et le construire en suivant les recommandations d'experts.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/logoBatiBase.png" alt="logo BatiBase"><em>(ChatGPT)</em></p><h2 id="utilisation-d'une-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#utilisation-d'une-base-de-donn%C3%A9es"></a> Utilisation d'une base de donn√©es</h2><p>Elle est utilis√©e dans le monde digital pour conserver des donn√©es sur des personnes physiques, morales, ainsi que sur des objets, etc.</p><p>Elle permet √† la personne qui collecte les donn√©es d'analyser des comportements, de savoir qui sont ses clients, etc. Les exemples d'utilisation sont infinis.</p><p>Pour notre entreprise de construction, la base de donn√©es est n√©cessaire afin de contr√¥ler plusieurs choses :</p><ul><li>Les clients</li><li>Les fournisseurs de mat√©riaux</li><li>Les mat√©riaux</li><li>Les chantiers</li><li>Les outils</li><li>Les employ√©s</li></ul><p>La base de donn√©es va permettre de stocker tout ceci en les liant afin de savoir o√π se situent chacune des parties prenantes.</p><h2 id="int%C3%A9r%C3%AAt-d'une-base-de-donn%C3%A9e" tabindex="-1"><a class="header-anchor" href="#int%C3%A9r%C3%AAt-d'une-base-de-donn%C3%A9e"></a> Int√©r√™t d'une base de donn√©e</h2><p>L'int√©r√™t principal d'utiliser une base de donn√©es est qu'elle permet de centraliser toutes les informations d'une entreprise afin de faciliter la communication et l'√©change d'informations. Il n'est donc plus n√©cessaire, par exemple, d'appeler tous les chefs de chantier pour savoir o√π se trouve un camion, car son utilisation sera stock√©e dans la base.</p><p>De plus, tout le monde peut se connecter √† une base de donn√©es √† tout moment. Cela permet de gagner un temps consid√©rable et d'am√©liorer l'efficacit√©, car les donn√©es sont disponibles pour tous.</p><p>Cela permet aussi de s√©curiser les donn√©es avec des processus communs en installant des pare-feu pour l'entreprise dans son ensemble, plut√¥t que d'utiliser des solutions locales comme Google Drive dans une agence ou Microsoft dans une autre. Toutes les donn√©es seront prot√©g√©es et contr√¥l√©es de fa√ßon homog√®ne. Il est alors √©galement possible de faire des sauvegardes pour √©viter la perte d'une feuille de calcul.</p><p>Enfin, cela permet de centraliser le syst√®me √† l'√©chelle de l'entreprise et non plus d√©partement par d√©partement, agence par agence. BatiBase n'a aujourd'hui aucun moyen de r√©fl√©chir √† l'√©chelle de la France et ne peut donc pas se baser sur des KPI solides pour suivre la croissance.</p><h2 id="structure-des-bases" tabindex="-1"><a class="header-anchor" href="#structure-des-bases"></a> Structure des bases</h2><p>Pour le choix de la structure de la base de donn√©es de BatiBase, nous allons d'abord √©tudier les mod√®les possibles :</p><h3 id="base-de-donn%C3%A9es-relationnelle" tabindex="-1"><a class="header-anchor" href="#base-de-donn%C3%A9es-relationnelle"></a> Base de donn√©es relationnelle</h3><p>Ce mod√®le de donn√©es date de 1960 et a √©t√© propos√© par Edgar Frank Codd.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>Edgar Frank Codd √©tait un informaticien britannique chez IBM qui a re√ßu le prix Turing pour son syst√®me de base de donn√©es. Ce prix est attribu√© chaque ann√©e √† une personne s√©lectionn√©e pour sa contribution √† la communaut√© informatique.</p></div></div><p>Monsieur Codd est parti du constat que les bases de donn√©es traditionnelles ne permettaient pas de repr√©senter et d'exploiter correctement les liens entre les objets. Pour changer cela, il organise les informations des bases sous forme de tableaux √† deux dimensions : les lignes sont les enregistrements et les colonnes sont les attributs.</p><p>On utilise essentiellement le SQL pour exploiter ces donn√©es, car le SQL est bas√© sur l'alg√®bre relationnelle, qui permet d'effectuer des jonctions entre les objets √† l'aide de cl√©s.</p><p>Ce syst√®me atteint cependant ses limites pour les tr√®s grandes entreprises, car il se base sur les propri√©t√©s ACID <em>(voir structure transactionnelle)</em>.</p><p>Voici un sch√©ma de cette repr√©sentation :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/RDBMS_structure.png" alt="Sch√©ma de la base relationnelle"><em>(File : RDBMS structure.png - Wikimedia Commons, 2010)</em></p><p>On observe bien le proc√©d√© de stockage sous forme de tableau. On peut aussi voir le fonctionnement plus classique d'une base de donn√©es avec les processus qui se d√©roulent dans une instance et qui sont ensuite report√©s sur le disque de la base tout en conservant des logs.</p><h3 id="base-de-donn%C3%A9es-nosql" tabindex="-1"><a class="header-anchor" href="#base-de-donn%C3%A9es-nosql"></a> Base de donn√©es NoSQL</h3><p>Cette architecture est n√©e suite √† un probl√®me de quantit√© de donn√©es et de gestion multiple. En effet, certaines entreprises (Google, Facebook, Amazon, etc.) ont commenc√© √† avoir des besoins de gestion de donn√©es en quantit√© astronomique, et un mod√®le de donn√©es relationnelles sur un serveur ne peut pas r√©pondre √† ces besoins en raison de limites comme les r√®gles ACID ou le besoin de travailler sur de nombreux serveurs en m√™me temps. Il en est alors r√©sult√© ce mod√®le qui se base davantage sur la quantit√© de donn√©es que sur leur organisation. On retrouve donc un mod√®le √† une dimension avec souvent des tableaux associatifs (une cl√© et une valeur) et des millions d'entr√©es par jour.</p><p>On peut citer les syst√®mes de base de donn√©es de Google : BigTable ; Amazon : Dynamo ; LinkedIn : Voldemort ; Facebook : HBase.</p><p>Si l'on se penche sur le fonctionnement de LinkedIn, par exemple, on retrouve un syst√®me de cl√© qui s'associe √† un index, lui-m√™me associ√© √† la cl√© et √† la valeur, comme sur le sch√©ma ci-dessous :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/tableHachage.png" alt="Table de Hachage"><em>(File : HASHTB08.svg ‚Äî Wikimedia Commons, s.¬†d.)</em></p><p>Le tableau n'a alors pas d'ordre et l'on retrouve l'index tr√®s rapidement pour ensuite acc√©der au reste. Ceci permet de gagner en efficacit√© et en temps tout en permettant la r√©partition des donn√©es sur diff√©rents serveurs. Pour constituer ce genre de tableau, on utilise des fonctions de hachage que l'on doit d√©finir de sorte √† √©viter les duplicats et √† garantir que deux cl√©s n'aient pas le m√™me index.</p><h3 id="base-de-donn%C3%A9es-orient%C3%A9e-document" tabindex="-1"><a class="header-anchor" href="#base-de-donn%C3%A9es-orient%C3%A9e-document"></a> Base de donn√©es orient√©e document</h3><p>Une base de donn√©es orient√©e document est une base de donn√©es semi-structur√©e qui stocke les donn√©es par collection pr√©sentant des propri√©t√©s et des types diff√©rents. Les donn√©es sont donc organis√©es par groupe, et le principal d√©savantage est qu'elles ne sont pas organis√©es entre elles. Cependant, la flexibilit√© de cette base la rend tr√®s utile pour stocker des donn√©es h√©t√©rog√®nes. Ce mod√®le r√©pond donc tr√®s bien aux demandee d'agilit√© actuelles.</p><h3 id="base-de-donn%C3%A9es-orient%C3%A9e-graph" tabindex="-1"><a class="header-anchor" href="#base-de-donn%C3%A9es-orient%C3%A9e-graph"></a> Base de donn√©es orient√©e Graph</h3><p>Cette base a une organisation sous la forme de graphique o√π chaque entit√© correspond √† un n≈ìud, et les entit√©s sont li√©es entre elles par des branches. Le but de ce type de base de donn√©es est de repr√©senter les donn√©es de fa√ßon interconnect√©e. L'avantage principal de ce mod√®le est qu'il permet de fouiller en profondeur dans des bases sans avoir √† utiliser une infinit√© de jointures. Cette base permet aux utilisateurs de se promener dans le graphique facilement pour passer d'un enregistrement √† un autre. On peut associer cela aux connexions des r√©seaux sociaux o√π les personnes se connectent entre elles.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/BDDorientegraph.png" alt="Base de donn√©e orient√©e graph"><em>(Vauquier, 2022)</em></p><h2 id="structure-transactionnelle" tabindex="-1"><a class="header-anchor" href="#structure-transactionnelle"></a> Structure transactionnelle</h2><p>Une transaction est l'action de passer une donn√©e d'un endroit √† l'autre (cela comprend l'envoi, le trajet, la r√©ception et la cr√©ation de la donn√©e au nouvel endroit).</p><h3 id="acid" tabindex="-1"><a class="header-anchor" href="#acid"></a> ACID</h3><p>ACID (<strong>Atomicit√©</strong>, <strong>Coh√©rence</strong>, <strong>Isolation</strong>, <strong>Durabilit√©</strong>) correspond a des propri√©t√©s de base de donn√©es sur les transactions.</p><p>Propri√©t√©s :</p><ul><li><em>Atomicit√©</em> : Il faut que la transaction doit soit arriver √† son endroit final, soit √™tre conserv√©e dans l'endroit initial. Il ne peut y avoir ni perte ni modification si la transaction n'aboutit pas.</li><li><em>Coh√©rence</em> : Garantie que m√™me si des actions sont effectu√©es en simultan√©, les donn√©es restent coh√©rentes, accessibles √† tous et sans doublon partout.</li><li><em>Isolation</em> : Une transaction concernant un enregistrement peut n√©cessiter que la transaction pr√©c√©dente sur le m√™me enregistrement soit r√©alis√©e avant de s'ex√©cuter.</li><li><em>Durabilit√©</em> : Toutes les transactions valid√©es sont conserv√©es, m√™me en cas de panne du syst√®me.</li></ul><p>Ces r√®gles peuvent rendre le proc√©d√© lourd pour une entreprise g√©rant des milliards de donn√©es chaque jour, car la coh√©rence constante ne peut pas √™tre maintenue tout en conservant la vitesse de transaction.</p><p>Elles sont cependant n√©cessaires pour garantir une absence totale d'erreur, et c'est pourquoi on retrouve ce syst√®me dans les banques, par exemple, pour la gestion des comptes.</p><h3 id="base" tabindex="-1"><a class="header-anchor" href="#base"></a> BASE</h3><p>BASE est l'opposs√© de ACID : <strong>basically available</strong>, <strong>soft state</strong>, <strong>eventually consistent</strong> (fondamentalement disponible, √©tat souple et finalement coh√©rent)</p><p>Propri√©t√©s :</p><ul><li><em>Fondamentalement disponible</em> : La validation des transactions peut se faire simultan√©ment pour plusieurs utilisateurs sans avoir √† attendre que la pr√©c√©dente soit termin√©e.</li><li><em>Etat souple</em> : Il peut exister des √©tats de transition si un enregistrement est modifi√© par plusieurs personnes en m√™me temps. La transaction se fera lorsque tout le monde aura termin√©.</li><li><em>Finalement coh√©rent</em> : La coh√©rence est respect√©e lorsque toutes les transactions simultan√©es sur un enregistrement sont termin√©es.</li></ul><p>Ces r√®gles sont beaucoup plus souples que les r√®gles ACID et sont, par exemple, utilis√©es par des sites de commerce en ligne : plusieurs personnes peuvent commander un produit en m√™me temps, et le stock sera modifi√© plus tard.</p><p>La flexibilit√©, la performance, l'√©volutivit√© et la synchronisation sont beaucoup plus chronophages et demandeuses en termes de puissance pour les syst√®mes ACID que pour les syst√®mes BASE. Cependant, le traitement ACID, plus rigide, permet de garantir une absence totale d'erreur.</p><h2 id="repr%C3%A9sentations-possibles-d'une-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#repr%C3%A9sentations-possibles-d'une-base-de-donn%C3%A9es"></a> Repr√©sentations possibles d'une base de donn√©es</h2><h3 id="diagramme-entit%C3%A9-relation" tabindex="-1"><a class="header-anchor" href="#diagramme-entit%C3%A9-relation"></a> Diagramme entit√©-relation</h3><p>Dans ce type de diagramme, il existe les objets, leurs associations et les attributs. Il peut √™tre utilis√© pour repr√©senter une base de donn√©es, mais aussi une organisation d'entreprise ou autre. Les objets sont sous forme de carr√©s, et leur fa√ßon d'interagir ensemble passe par un losange repr√©sentant leur lien. On peut ensuite ajouter des attributs sur les objets en utilisant des ronds.</p><p>On pr√©cise dans ce mod√®le le type de lien entre les objets (1, n), (n, 1), (n, n).</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/ER_Diagram.png" alt="Diagramme entit√© relation"><em>(Database-design ‚Äî Diagrammes de Mod√®le D‚Äôentit√©-relation Dans Visio, s.¬†d.)</em></p><h3 id="diagramme-de-structure-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#diagramme-de-structure-de-donn%C3%A9es"></a> Diagramme de structure de donn√©es</h3><p>Ce diagramme est apparent√© au mod√®le entit√©-association, mais il est plus focalis√© sur la repr√©sentation des bases de donn√©es. Ce diagramme se concentre sur les liens entre les √©l√©ments √† l'int√©rieur des entit√©s, et non plus sur les entit√©s en g√©n√©ral.</p><p>Il utilise une convention bien pr√©cise pour d√©finir les liens entre les √©l√©ments. Il est possible de personaliser ces liens en simplifiant en utilisant la convention pr√©c√©dente de (1, n), (n, 1), (n, n) :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/FlecheType.png" alt="Lien entre les √©l√©ments"><em>(Qu‚Äôest-ce Qu‚Äôun Diagramme Entit√©-association ? , s.¬†d.)</em></p><p>Ce qui permet d'aboutir √† des diagrammes tr√®s pr√©cis qui permettent de bien comprendre la conception de la base de donn√©es. Il peut √™tre int√©ressant de commencer par un diagramme entit√©-relation avant de passer √† ce type de diagramme pour bien illustrer tous les proc√©d√©s et liens facilement, puis se pencher ensuite sur le c√¥t√© plus technique.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/DiagrammeStructure.png" alt="Diagramme de Strucure de donn√©e"><em>(Qu‚Äôest-ce Qu‚Äôun Diagramme Entit√©-association ? , s.¬†d.)</em></p><h3 id="arbre-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#arbre-de-donn%C3%A9es"></a> Arbre de donn√©es</h3><p>Cette repr√©sentation permet de montrer la hi√©rarchie qu'il existe entre des objets. On peut l'utiliser pour repr√©senter tout ce qui d√©coule d'un certain objet des diagrammes pr√©c√©dents ou plus directement pour une base particuli√®rement centr√©e sur un objet.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/arbre_1.png" alt="Diagramme en arbre"><em>(Structures de Donn√©es Hi√©rarchiques : Les Arbres, s.¬†d.)</em></p><h2 id="bonnes-pratiques-pour-la-r%C3%A9alisation-d'un-base" tabindex="-1"><a class="header-anchor" href="#bonnes-pratiques-pour-la-r%C3%A9alisation-d'un-base"></a> Bonnes pratiques pour la r√©alisation d'un base</h2><p>Pour une base de donn√©es bien r√©alis√©e, il est essentiel d'√©viter les donn√©es erron√©es qui falsifient par la suite l'utilisation de la base. Il faut donc garantir la fiabilit√© des donn√©es avec les m√©thodes du paragraphe suivant.</p><p>Pour une bonne conception d'architecture, il est recommand√© de se centrer sur les objets afin d'organiser proprement les informations. Il faut ensuite bien consid√©rer et cr√©er tous les liens n√©cessaires aux utilisateurs entre les objets en utilisant une cl√© unique. En effet, une base bien con√ßue doit permettre aux utilisateurs d'acc√©der √† toutes les informations dont ils ont besoin √† tout moment. Il est donc important de bien comprendre tous les processus d'une entreprise avant de concevoir leur base de donn√©es.</p><p>Il faut ensuite penser √† l'utilisation directe de la base avec les proc√©d√©s de reporting, etc.</p><h2 id="garantir-la-fiabilit%C3%A9-de-la-donn%C3%A9e" tabindex="-1"><a class="header-anchor" href="#garantir-la-fiabilit%C3%A9-de-la-donn%C3%A9e"></a> Garantir la fiabilit√© de la donn√©e</h2><p>Pour garantir la fiabilit√© des donn√©es, il existe plusieurs fa√ßons de pousser un utilisateur √† remplir les champs dans un format particulier.</p><p>En premier, il faut garantir <strong>l'unicit√© des donn√©es</strong>. Pour cela, il faut que chaque enregistrement de la base ait un ID ou une cl√© unique. Il est √©galement n√©cessaire d'appliquer des r√®gles d'identification des doublons. Pour cela, il faut prot√©ger la base au niveau de l'instance avec :</p><ul><li>Il est possible de demander une v√©rification (par exemple, pour la cr√©ation d'un compte).</li><li>Il est possible d'appliquer des r√®gles de d√©tection automatique qui, bas√©es sur certains crit√®res, peuvent supprimer les enregistrements doublons ou envoyer une alerte au gestionnaire de la base.</li><li>Il est aussi possible de cr√©er des validations en se basant sur de nombreux crit√®res pour le m√™me enregistrement (nom, num√©ro, date de naissance, ville, etc.).</li></ul><p>Ensuite, il faut garantir le <strong>bon remplissage des champs</strong> demand√©s. Pour cela, l'interface utilisateur peut d√©j√† √™tre d'une grande aide, par exemple avec des suggestions grises sur le format √† remplir ou encore la fragmentation du remplissage (s√©lection du code de pays pour le num√©ro de t√©l√©phone dans un menu d√©roulant, puis champ pour le num√©ro).</p><p>Au-del√† de l'interface utilisateur, il est aussi possible de cr√©er au niveau de l'instance des r√®gles de validation n'autorisant que certains formats pour valider, ou encore d'ajouter des automatismes qui corrigent les donn√©es avant leur cr√©ation dans la base.</p><p>Il existe encore d'autres fa√ßons de proc√©der, plus sp√©cifiques √† certains champs (comme l'utilisation d'une API Google Maps pour rechercher et remplir les champs d'adresse), mais √©tant tr√®s sp√©cifiques, nous les verrons au cas par cas lors de la cr√©ation de la base de donn√©es dans le sprint 2.</p><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Bilan sprint 1</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"><p>Pour ce Sprint, j'ai sous-estim√© le temps pass√© sur cette premi√®re phase d'analyse g√©n√©rale des bases de donn√©es. En effet, je suis vite tomb√© sur beaucoup plus d'informations que je ne pensais. J'ai beaucoup appr√©ci√© d√©couvrir l'histoire des bases de donn√©es √©voluant en m√™me temps que les besoins et les avanc√©es technologiques, mais je me suis donc un peu perdu l√†-dedans en apprenant beaucoup de choses pas forc√©ment tr√®s utiles dans la r√©alisation de ce POK, mais int√©ressantes pour la culture. J'ai aussi d√ª faire une √©tape du sprint 2 afin d'√™tre plus concret dans la partie 1 du sprint 1. Ceci va par contre me permettre de rester dans les temps pour faire le sprint 2, je l'esp√®re, sur 10h.</p><p>J'ai aussi mal r√©parti mon temps en travaillant dessus beaucoup au dernier moment, ce qui a fait un sprint un peu lourd.</p></div></details></div><h1 id="second-sprint" tabindex="-1"><a class="header-anchor" href="#second-sprint"></a> Second Sprint</h1><h2 id="analyse-des-donn%C3%A9es-fictives-de-batibase" tabindex="-1"><a class="header-anchor" href="#analyse-des-donn%C3%A9es-fictives-de-batibase"></a> Analyse des donn√©es fictives de BatiBase</h2><p>L'entreprise BatiBase est une entreprise de construction classique qui a besoin de g√©rer plusieurs choses li√©es entre elles :</p><ul><li>Les clients</li><li>Les fournisseurs de mat√©riaux</li><li>Les commandes</li><li>Les mat√©riaux (le stock)</li><li>Les chantiers</li><li>Les outils et machines</li><li>Les employ√©s</li><li>Les comp√©tences</li></ul><p>Cela va nous permettre de cr√©er une premi√®re base qui pourra bien s√ªr √™tre am√©lior√©e par la suite.</p><p>Ces objets sont tous li√©s entre eux afin de pouvoir bien g√©rer les informations.</p><p>Les clients seront li√©s aux chantiers pour permettre au chef de chantier de communiquer avec eux si besoin, gr√¢ce √† leurs informations sur leur fiche client dans la base.</p><p>Les fournisseurs de mat√©riaux seront li√©s aux mat√©riaux et aux commandes. En effet, cela permettra de savoir qui a fourni quels mat√©riaux en cas de probl√®me, mais aussi de pouvoir commander des mat√©riaux.</p><p>L'objet commande permet de demander quelque chose au fournisseur. Une fois la commande pass√©e, le mat√©riau command√© entre en stock r√©el. L'objet commande sera donc li√© au mat√©riau, en plus de son lien avec le fournisseur. On peut aussi ajouter un lien avec le chantier afin de savoir pour quel chantier la commande est pass√©e.</p><p>Comme vu pr√©c√©demment, les mat√©riaux sont li√©s aux fournisseurs et aux chantiers.</p><p>Les chantiers sont li√©s aux clients, aux mat√©riaux, aux outils, mais aussi aux employ√©s. Cela permet de savoir qui travaille o√π et avec quels outils.</p><p>Les outils sont li√©s aux chantiers, et il en est de m√™me pour les employ√©s.</p><p>Enfin, les comp√©tences permettront de choisir les employ√©s n√©cessaires en fonction de leurs exp√©riences, pour la bonne r√©alisation d'un chantier. Chaque mat√©riau et machine n√©cessitent des comp√©tences pour pouvoir les utiliser. Tous ces objets seront donc li√©s entre eux.</p><p>Ainsi, nous allons pouvoir cr√©er une premi√®re repr√©sentation de la base sous forme de diagramme entit√©-relation, puis de diagramme de structure de donn√©es.</p><h2 id="repr%C3%A9sentation-en-diagramme-entit%C3%A9-relation" tabindex="-1"><a class="header-anchor" href="#repr%C3%A9sentation-en-diagramme-entit%C3%A9-relation"></a> Repr√©sentation en diagramme entit√© relation</h2><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/ERBati.png" alt="BatiBase entit√© relation"><em>(Diagramme entit√© relation de la soci√©t√© BatiBase)</em></p><p>Ce diagramme permet d'avoir d√©j√† un premier bon aper√ßu du fonctionnement de la base de donn√©es pour ensuite entrer dans le d√©tail.</p><p>R√©aliser ce diagramme permet aussi de prendre conscience des manquements ou des erreurs potentiels dans les liens. C'est en faisant ce diagramme que j'ai pu observer l'absence d'un objet liant les machines aux employ√©s pour savoir quel ouvrier peut conduire quelle machine. L'objet comp√©tence permet donc de cr√©er ce lien.</p><p>Nous allons maintenant pouvoir entrer dans le d√©tail.</p><h2 id="repr%C3%A9sentation-en-diagramme-de-structure-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#repr%C3%A9sentation-en-diagramme-de-structure-de-donn%C3%A9es"></a> Repr√©sentation en diagramme de structure de donn√©es</h2><p>Pour r√©aliser ce diagramme, nous allons commencer √† r√©fl√©chir a tous les champs de chaque objet.</p><p>Pour faire cela, j'ai d√©cid√© d'utiliser le site <a href="https://dbdiagram.io/d">dbdiagram</a>. Je n'ai jamais utilis√© ce site. Cependant gr√¢ce √† la <a href="https://dbml.dbdiagram.io/docs">documentation</a> et aux exemples en ligne j'ai pu le prendre en main rapidement. Il permet de faire un rendu propre d'une base de donn√©es afin de pouvoir la construire ensuite rapidement.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Matthieu-Dufort/pok/temps-1/SDBati.png" alt="BatiBase structure de donn√©es"><em>(Diagramme de structure de donn√©es de la soci√©t√© BatiBase)</em></p><p>Le code de ce sch√©ma est retrouvable <a href="DataBaseFile.zip">ici</a>.</p><p>Le but de ce sch√©ma est de pouvoir visualiser tous les liens, les cl√©s et les champs de la base de donn√©es afin de pouvoir la construire. Ce sch√©ma permet aussi de transmettre au futur √©quipe qui travailleront dessus un plan clair du fonctionnement de la base afin de pouvoir la faire √©voluer en cas de besoin.</p><h2 id="construction-de-la-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#construction-de-la-base-de-donn%C3%A9es"></a> Construction de la base de donn√©es</h2><p>Pour t√©l√©charger le fichier python complet : <a href="PythonFile.zip">Fichier python base de donn√©e</a></p><p>Pour construire cette base de donn√©es, j'ai choisi d'utiliser python avec sa library Pony de base de donn√©es car je n'ai pour l'instant eu que l'occasion d'en construire en no-code (Airtable, Salesforce ...). Je souhaitais donc en construire une en partant un peu plus de z√©ro. Pour cela, j'ai utilis√© la <a href="https://ponyorm.readthedocs.io/en/latest/firststeps.html">documentation</a>. J'ai donc construit ma base de donn√©es en commen√ßant par faire le model de donn√©es.</p><p>J'ai donc cr√©√© chacun des objets en utilisant des lignes de la forme :</p><pre class="language-python line-numbers"><code>

class Material(db.Entity):
    material_id = orm.PrimaryKey(int , auto = True)
    name = orm.Required(str)
    type = orm.Required(str)
    price = orm.Required(float)
    description = orm.Required(str)
    created_at = orm.Required(str)
    skills = orm.Required(Skill)
    Order = orm.Set("Order")


</code></pre><p>Chacun des champs de l'objet est d√©fini avec un type de fa√ßon obligatoire car l'on souhaite que tous les champs soient remplis. Pour cr√©er des liens entre les objets, il faut les d√©finir avec le type de l'objet que l'on veut lier et utiliser la fonction set sur l'objet li√©.</p><p>Pour une relation en many to many, pony cr√©er automatiquement l'objet int√©rm√©diaire et il suffit de d√©finir sur chacun des objets √† li√© l'autre objet en utilisant la fonction <em>set</em> sur les deux.</p><p>Ensuite, j'ai cr√©√© la base de donn√©es √† l'aide du model d√©fini pr√©c√©dement :</p><pre class="language-python line-numbers"><code>

from pony import orm
from DataModel import Tool, Employee, Supplier, Order, Skill, Client, Material, ConstructionSite, db

db.bind('sqlite', 'database.sqlite', create_db=True)
orm.sql_debug(True)
db.generate_mapping(create_tables=True)


</code></pre><p>Gr√¢ce a ceci, la table se cr√©er et l'on va pouvoir surveiller les requ√®tes SQL gra√ße au mode debug. Ainsi, avant les r√©ponses dans le terminal de commande, j'obtiens les requ√®tes effectu√©es.</p><h2 id="cr%C3%A9ation-de-donn%C3%A9es-dans-la-base" tabindex="-1"><a class="header-anchor" href="#cr%C3%A9ation-de-donn%C3%A9es-dans-la-base"></a> Cr√©ation de donn√©es dans la base</h2><p>Maintenant, je vais cr√©er de la donn√©e dans la base afin d'√™tre sur de son bon fonctionnement pour pouvoir int√©ragir avec :</p><pre class="language-python line-numbers"><code>

    ConstructionSite1 = ConstructionSite(
        name="Maison4",
        address='Rue des patates',
        type="Maison",
        comment='R√©paration cuisine',
        created_at="14/10/2024",
        status="En cours"
    )

    ConstructionSite1.clients.add(Client1)
    ConstructionSite1.tools.add(Tool1)
    ConstructionSite1.employees.add(Employee1)

    db.commit()


</code></pre><p>J'ai aussi cr√©√© chacun des autres objets en utilisant toujours la typographie NomDeLaClasse1. Une fois tous les liens et les champs remplis, il faut ins√©rer le tout dans la base afin de cr√©er la data avec la fonction <em>commit</em></p><p>Il est temps d'int√©ragir avec pour v√©rifier le bon fonctionnement !</p><h2 id="int%C3%A9raction-avec-la-base-de-donn%C3%A9es" tabindex="-1"><a class="header-anchor" href="#int%C3%A9raction-avec-la-base-de-donn%C3%A9es"></a> Int√©raction avec la base de donn√©es</h2><p>Pour int√©ragir avec la base de donn√©e, il est possible d'utiliser du language python :</p><pre class="language-python line-numbers"><code>

from pony import orm
from DataModel import db, Client

db.bind('sqlite', 'database.sqlite', create_db=True)
db.generate_mapping()

with orm.db_session:
    client = Client.get(first_name='Patrick', last_name='Oudi')

    if client:
        print(f"{client.first_name} {client.last_name}, Email: {client.email}")
    else:
        print("Le client n'existe pas")


</code></pre><p>Gr√¢ce √† ceci, on obtient bien le client cherch√© avec ses informations. Il est aussi possible de faire des requ√®tes l√©g√®rement plus technique :</p><pre class="language-python line-numbers"><code>

with orm.db_session:
    sql = """
    SELECT o.order_id, o.created_at, o.price, o.currency,
           s.name AS supplier_name, s.phone_number AS supplier_phone
    FROM "Order" AS o
    JOIN "Supplier" AS s ON o.supplier = s.supplier_id
    """

    result = db.execute(sql)

    for row in result:
        print(f"Order ID: {row[0]}, Created At: {row[1]}, Price: {row[2]}, Currency: {row[3]}, "
              f"Supplier: {row[4]}, Phone: {row[5]}")


</code></pre><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Bilan sprint 1</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"><p>Pour ce Sprint, j'ai r√©ussi a plut√¥t bien r√©partir mon temps mais je ne suis pas all√© aussi loin que je le souhaitais. J'ai cependant rempli l'essentiel de mes objectifs et j'ai pu apprendre a maitriser la biblioth√®que Pony pour g√©rer les bases de donn√©es. J'ai d√©couvert une autre fa√ßon de les g√©rer qui est quand m√™me moins visuel et intuitive que du no code mais tout autant int√©ressante. Je reste un peu sur ma fin sur l'utilisation de la base car je n'ai pas eu assez de temps pour vraiment plonger dedans et jouer avec. Cependant, je pense avoir bien compris le fonctionnement.</p><p>Globalement sur ce POK je pense avoir vraiment approndi le sujet dans sa globalit√© comme je le voulais. En effet je travail avec beaucoup de base de donn√©es mais je n'ai jamais pris le temps de connaitre leur fonctionnement et d'apprendre √† les repr√©senter.</p></div></details></div></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>