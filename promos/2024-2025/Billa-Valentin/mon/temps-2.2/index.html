<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2024-2025/Billa-Valentin/mon/temps-2.2/"><meta name="description" content="Comparaison des technologies RAID et ZFS pour le stockage et la redondance de donn√©es"><meta property="og:description" content="Comparaison des technologies RAID et ZFS pour le stockage et la redondance de donn√©es"><meta name="twitter:description" content="Comparaison des technologies RAID et ZFS pour le stockage et la redondance de donn√©es"><meta name="author" content="Valentin Billa"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, MON, vert, d√©butant, devops, serveur, RAID, ZFS"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Redondance"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Billa-Valentin/mon/temps-2.2/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Redondance"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Billa-Valentin/mon/temps-2.2/"><title>Redondance</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Redondance</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MON</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">vert</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">d√©butant</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">devops</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">serveur</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">RAID</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">ZFS</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">MON</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Valentin Billa</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2024-2025</span></div></div><p class="mb-4 text-lg">Comparaison des technologies RAID et ZFS pour le stockage et la redondance de donn√©es</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2024-2025/Billa-Valentin/">Valentin Billa</a><span class="px-1">/</span><a href="/promos/2024-2025/Billa-Valentin/mon/">MONs Valentin Billa</a><span class="px-1">/</span><a href="/promos/2024-2025/Billa-Valentin/mon/temps-2.2/">Redondance</a></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100 dark:border-pink-800 dark:bg-pink-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-pink-500 dark:stroke-pink-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Pr√©requis</b></p></div><div class="pl-8 mr-8"><ul><li>Compr√©hension des bases du stockage (disques, partitions, syst√®mes de fichiers)</li><li>Vocabulaire courant li√© √† la redondance et aux sauvegardes</li></ul></div></div><h2 id="objectifs" tabindex="-1"><a class="header-anchor" href="#objectifs"></a> Objectifs</h2><p>R√©cemment le GInfo a acquis de nouveaux serveurs, j'aide l'association dans l'√©laboration de configurations de nos p√©riph√©riques de stockage dans l'objectif de mettre √† disposition plusieurs dizaines de tera de stockage aux associations √©tudiantes sans pour autant leur faire prendre le risque de perdre leurs donn√©es !</p><p>Dans ce MON, je souhaite donc explorer les diff√©rentes <strong>technologies RAID</strong> ainsi que <strong>ZFS</strong>, afin de mieux comprendre leurs avantages, limites et applications dans la gestion de stockage de donn√©es.</p><p>RAID est omnipr√©sent dans les syst√®mes de stockage critiques, tandis que ZFS, avec son approche moderne, est devenu un incontournable (entre autre recommand√© √† l'association par des membres de la DSI de l'√©cole) pour garantir int√©grit√© et flexibilit√© dans le stockage.</p><div class="quote relative drop-shadow py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100 dark:border-amber-800 dark:bg-amber-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-amber-800 dark:stroke-amber-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Note</b></p></div><div class="pl-8 mr-8"><p><strong>Mise en garde :</strong> Dans ce MON, lorsque nous parlons de &quot;s√©curit√© des donn√©es&quot;, nous nous r√©f√©rons <strong>exclusivement √† la protection contre la perte de donn√©es</strong>. L'encryption peut toujours √™tre ajout√©e par-dessus les solutions que je pr√©senterais.</p><p>M√™me si votre serveur utilise des solutions comme RAID ou ZFS pour garantir la redondance des donn√©es, <strong>cela ne remplace pas des sauvegardes r√©guli√®res</strong>. Ces solutions prot√®gent principalement contre les d√©faillances mat√©rielles, mais elles ne couvrent pas les erreurs humaines, les attaques logicielles ou les catastrophes physiques (incendie, inondation, etc.). <strong>Avoir des sauvegardes (backups) reste crucial</strong> pour assurer une protection compl√®te. Une recommendation g√©n√©ralement donn√©e est la <a href="https://www.veeam.com/blog/321-backup-rule.html">r√®gle des 3-2-1</a></p></div></div><hr><p>J'ai tout d'abord orient√© mes recherches vers le RAID traditionnel puisque c'est ce que nous faisions d√©j√†.</p><h2 id="qu'est-ce-que-raid-%3F" tabindex="-1"><a class="header-anchor" href="#qu'est-ce-que-raid-%3F"></a> Qu'est-ce que RAID ?</h2><p>Le <strong>RAID</strong> (Redundant Array of Independent Disks) est une technologie permettant de combiner plusieurs disques physiques pour offrir des b√©n√©fices en termes de :</p><ul><li><strong>Performance</strong> (lecture/√©criture plus rapide)</li><li><strong>Redondance</strong> (tol√©rance aux pannes)</li><li><strong>Capacit√©</strong> (agr√©gation des espaces de stockage).</li></ul><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>RAID peut √™tre impl√©ment√© via <strong>hardware</strong> (contr√¥leurs RAID d√©di√©s) ou <strong>software</strong> (g√©r√© par le syst√®me d'exploitation).</p></div></div><h3 id="raid-hardware-vs-software" tabindex="-1"><a class="header-anchor" href="#raid-hardware-vs-software"></a> RAID Hardware vs Software</h3><ul><li><strong>RAID hardware</strong> : Impl√©ment√© par un contr√¥leur RAID d√©di√© (une carte contr√¥leur RAID). Le mat√©riel g√®re directement les op√©rations RAID, soulageant le CPU principal.</li><li><strong>RAID software</strong> : G√©r√© directement par le syst√®me d'exploitation (Linux <code>mdadm</code>, Windows Storage Spaces). Plus flexible et moins co√ªteux, mais l√©g√®rement plus gourmand en ressources CPU.</li></ul><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>Les cartes RAID mat√©rielles haut de gamme incluent une m√©moire cache avec batterie pour am√©liorer les performances d'√©criture et s√©curiser les donn√©es en cas de coupure de courant.</p></div></div><p>Pour les nouveaux serveurs du GInfo, des Dell R740XD contiennent des cartes RAID mat√©rielles de qualit√© ce qui rendrait dommage l'utilisation de RAID logiciel.</p><h2 id="les-niveaux-de-raid-les-plus-courants" tabindex="-1"><a class="header-anchor" href="#les-niveaux-de-raid-les-plus-courants"></a> Les niveaux de RAID les plus courants</h2><h3 id="raid-0-%3A-striping" tabindex="-1"><a class="header-anchor" href="#raid-0-%3A-striping"></a> RAID 0 : <strong>Striping</strong></h3><ul><li><strong>Objectif</strong> : Performances optimis√©es.</li><li><strong>Principe</strong> : Les donn√©es sont divis√©es et √©crites simultan√©ment sur plusieurs disques.</li><li><strong>Inconv√©nient</strong> : Aucune redondance. La perte d'un disque entra√Æne la perte totale des donn√©es.</li></ul><pre class="language-text line-numbers"><code>

+-----+-----+-----+-----+
| D1a | D2a | D3a | D4a |   => Donn√©es √©crites en parall√®le
| D1b | D2b | D3b | D4b |
+-----+-----+-----+-----+


</code></pre><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>RAID 0 est principalement utilis√© pour les besoins en vitesse pure o√π la s√©curit√© des donn√©es est secondaire (ex : cache temporaire, montage vid√©o).</p></div></div><h3 id="raid-1-%3A-mirroring" tabindex="-1"><a class="header-anchor" href="#raid-1-%3A-mirroring"></a> RAID 1 : <strong>Mirroring</strong></h3><ul><li><strong>Objectif</strong> : Redondance maximale.</li><li><strong>Principe</strong> : Les donn√©es sont dupliqu√©es sur deux disques (miroir).</li><li><strong>Avantage</strong> : Tol√©rance √† la panne d'un disque.</li><li><strong>Inconv√©nient</strong> : La capacit√© totale est limit√©e √† celle d'un seul disque.</li></ul><pre class="language-text line-numbers"><code>

+-----+      +-----+
| D1  |  =   | D1  |   => Les deux disques contiennent exactement les m√™mes donn√©es.
| D2  |      | D2  |
+-----+      +-----+


</code></pre><h3 id="raid-5-%3A-striping-avec-parit%C3%A9" tabindex="-1"><a class="header-anchor" href="#raid-5-%3A-striping-avec-parit%C3%A9"></a> RAID 5 : <strong>Striping avec parit√©</strong></h3><ul><li><strong>Objectif</strong> : √âquilibre entre performances et redondance.</li><li><strong>Principe</strong> : Les donn√©es et les informations de parit√© (pour reconstruire les donn√©es) sont r√©parties sur au moins <strong>3 disques</strong>.</li><li><strong>Avantage</strong> : Tol√©rance √† la panne d'un disque.</li><li><strong>Inconv√©nient</strong> : Reconstruction lente apr√®s une panne.</li></ul><pre class="language-text line-numbers"><code>

+-----+-----+-----+
| D1  | D2  | P1  |  => Parit√© sur le 3·µâ disque
| P2  | D3  | D4  |
+-----+-----+-----+


</code></pre><h3 id="raid-6-%3A-striping-avec-double-parit%C3%A9" tabindex="-1"><a class="header-anchor" href="#raid-6-%3A-striping-avec-double-parit%C3%A9"></a> RAID 6 : <strong>Striping avec double parit√©</strong></h3><ul><li><strong>Objectif</strong> : Redondance am√©lior√©e.</li><li><strong>Principe</strong> : Semblable au RAID 5, mais avec deux blocs de parit√©. Tol√©rance √† la panne de <strong>2 disques</strong>.</li><li><strong>Inconv√©nient</strong> : N√©cessite au moins <strong>4 disques</strong> et entra√Æne des √©critures plus lentes.</li></ul><h3 id="combinaisons-%3A-raid-10" tabindex="-1"><a class="header-anchor" href="#combinaisons-%3A-raid-10"></a> Combinaisons : <strong>RAID 10</strong></h3><p>En RAID, une combinaison comme RAID 10 se lit comme du RAID 1 + 0, il faut lire de gauche √† droite ie. Un RAID 0 de disques virtuels en RAID 1.</p><ul><li><strong>Objectif</strong> : Performances ET redondance.</li><li><strong>Principe</strong> : Combinaison de RAID 1 (mirroring) et RAID 0 (striping). N√©cessite un nombre pair de disques (minimum 4).</li></ul><pre class="language-text line-numbers"><code>

RAID 10 = RAID 1 (mirroring) + RAID 0 (striping)
+-----+-----+      +-----+-----+
| D1  | D2  |  =>  | D1  | D2  |
+-----+-----+      +-----+-----+


</code></pre><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>RAID 10 est souvent consid√©r√© comme la meilleure solution pour un compromis <strong>performances/redondance</strong>, malgr√© son co√ªt √©lev√©.</p></div></div><hr><p>Je suis tomb√© au cours de mes recherches sur des gens mentionnant ZFS, j'ai donc d√©cid√© d'investiguer dans cette direction.</p><h2 id="zfs-%3A-une-alternative-au-raid" tabindex="-1"><a class="header-anchor" href="#zfs-%3A-une-alternative-au-raid"></a> ZFS : une alternative au RAID</h2><p>Le <strong>ZFS</strong> (Zettabyte File System) est √† la fois un syst√®me de fichiers et un gestionnaire de volumes logiques con√ßu pour garantir la <strong>r√©silience des donn√©es</strong>, la <strong>flexibilit√© de gestion</strong> et des <strong>performances √©lev√©es</strong>. D√©velopp√© initialement par Sun Microsystems, ZFS offre une approche int√©gr√©e pour g√©rer la redondance, la correction d'erreurs, les snapshots et la compression des donn√©es.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100 dark:border-cyan-800 dark:bg-cyan-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-cyan-500 dark:stroke-cyan-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Information</b></p></div><div class="pl-8 mr-8"><p>ZFS g√®re lui-m√™me la redondance (RAID-Z) et l'int√©grit√© des donn√©es. Il n'a donc pas besoin d'un contr√¥leur RAID mat√©riel.</p></div></div><h3 id="les-concepts-cl%C3%A9s-de-zfs" tabindex="-1"><a class="header-anchor" href="#les-concepts-cl%C3%A9s-de-zfs"></a> Les concepts cl√©s de ZFS</h3><p>ZFS repose sur une hi√©rarchie de composants logiques et physiques qui permettent une gestion souple et redondante des donn√©es.</p><h4 id="pool-de-stockage-(zpool)" tabindex="-1"><a class="header-anchor" href="#pool-de-stockage-(zpool)"></a> Pool de stockage (zpool)</h4><p>Un <strong>zpool</strong> est l'unit√© de base de gestion du stockage dans ZFS. Il regroupe un ensemble de disques physiques pour former une seule entit√© logique.</p><p>Un zpool est configur√© pour offrir <strong>la redondance</strong>, <strong>la performance</strong> ou une combinaison des deux, selon la disposition des disques qu'il contient.</p><p>Les donn√©es et l'espace disponible sont automatiquement √©quilibr√©s dans le pool, ce qui √©limine la gestion traditionnelle des partitions.</p><h4 id="virtual-devices-(vdevs)" tabindex="-1"><a class="header-anchor" href="#virtual-devices-(vdevs)"></a> Virtual Devices (vdevs)</h4><p>Un <strong>vdev</strong> est une abstraction logique qui regroupe un ou plusieurs disques physiques. Plusieurs types de vdevs peuvent √™tre utilis√©s pour structurer un zpool :</p><ul><li><strong>Single Disk</strong> : Pas de redondance, un seul disque (non recommand√©).</li><li><strong>Mirror</strong> : Chaque disque d‚Äôun vdev contient une copie exacte des donn√©es. Offre une excellente redondance.</li><li><strong>RAID-Z</strong> : L‚Äô√©quivalent de RAID-5/6 dans ZFS, avec plusieurs niveaux :<ul><li><strong>RAID-Z1</strong> : Une parit√© (√©quivalent RAID-5).</li><li><strong>RAID-Z2</strong> : Deux parit√©s (√©quivalent RAID-6).</li><li><strong>RAID-Z3</strong> : Trois parit√©s, offrant une tol√©rance √† trois pannes simultan√©es.</li></ul></li></ul><p>Certains disques peuvent √™tre d√©di√©s √† des fonctions plus sp√©cifiques, <strong>L2ARC</strong> (Cache de niveau 2) pour acc√©l√©rer les lectures fr√©quentes, ou <strong>SLOG</strong> (Separate Intent Log) pour am√©liorer les performances des √©critures synchrones. Ces fonctionnalit√©s permettent d'optimiser les performances globales du syst√®me ZFS en tirant parti de disques rapides (comme des SSD ou NVMe) en compl√©ment des disques principaux (HDD ou autres).</p><div class="quote relative drop-shadow py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100 dark:border-amber-800 dark:bg-amber-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-amber-800 dark:stroke-amber-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Note</b></p></div><div class="pl-8 mr-8"><p>Il est difficile d'√©valuer si une configuration ZFS va √™tre b√©n√©fique et les impacts sur la perfomance de notre syst√®me sans tout simplement la tester. En effet en fonction des besoins,</p></div></div><h4 id="syst%C3%A8me-de-fichiers-et-datasets" tabindex="-1"><a class="header-anchor" href="#syst%C3%A8me-de-fichiers-et-datasets"></a> Syst√®me de fichiers et datasets</h4><p>Une fois un zpool configur√©, des <strong>datasets</strong> peuvent √™tre cr√©√©s pour organiser et g√©rer les donn√©es.</p><ul><li><strong>Compression</strong> : ZFS applique une compression transparente pour √©conomiser de l‚Äôespace.</li><li><strong>Snapshots</strong> : Des copies instantan√©es et immuables d‚Äôun dataset, id√©ales pour les sauvegardes.</li><li><strong>Quota et r√©servations</strong> : Gestion fine de l‚Äôespace allou√© aux datasets.</li></ul><h3 id="pourquoi-utiliser-zfs-%3F" tabindex="-1"><a class="header-anchor" href="#pourquoi-utiliser-zfs-%3F"></a> Pourquoi utiliser ZFS ?</h3><ul><li><strong>Protection contre la corruption des donn√©es</strong> : Gr√¢ce √† un m√©canisme de checksum, ZFS d√©tecte et corrige automatiquement les erreurs silencieuses.</li><li><strong>Snapshots et r√©plication</strong> : Id√©al pour des sauvegardes rapides et efficaces.</li><li><strong>√âvolutivit√©</strong> : Con√ßu pour des syst√®mes allant de quelques gigaoctets √† plusieurs exaoctets.</li><li><strong>Gestion flexible des volumes</strong> : Ajout ou remplacement de disques dans un pool sans interruption des services.</li></ul><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100 dark:border-emerald-800 dark:bg-emerald-950"><svg class="absolute w-6 h-6 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-emerald-500 dark:stroke-emerald-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Liens</b></p></div><div class="pl-8 mr-8"><ul><li><a href="https://itsfoss.com/what-is-zfs/">What is ZFS - ItsFoss</a></li><li><a href="https://www.reddit.com/r/linuxquestions/comments/3usjz8/what_is_zfs_and_why_should_i_want_to_use_it/">What is ZFS and why should I want to use it ? - Reddit</a></li></ul></div></div><hr><h2 id="solution-adopt%C3%A9e" tabindex="-1"><a class="header-anchor" href="#solution-adopt%C3%A9e"></a> Solution adopt√©e</h2><p>Pour l'instant voici la solution que nous avons d√©cid√© d'adopter avec le GInfo pour stocker nos donn√©es :</p><p>Syst√®me d'exploitation (Ubuntu 24.04):</p><ul><li>Install√© sur une petite partition (50-100 Go) des disques NVMe en RAID 1 via la carte BOSS.</li></ul><p>Utilisation des NVMe RAID 1 restants (optionel) :</p><ul><li>50-100 Go : SLOG (ZFS Intent Log) pour am√©liorer les performances des √©critures synchrones.</li><li>Espace restant : Volumes Docker ou cache L2ARC pour acc√©l√©rer les lectures fr√©quentes.</li></ul><p>Pool ZFS sur HDD : <em>d√©cision en partie influenc√©e par un article nomm√© <a href="https://jrs-s.net/2015/02/06/zfs-you-should-use-mirror-vdevs-not-raidz/">&quot;ZFS you should use mirror vdevs not raidz&quot;</a></em></p><ul><li>Configuration en vdevs miroir pour performance, √©volutivit√©, et redondance.</li><li>1 disque configur√© comme hot spare.</li><li>Compression activ√©e (LZ4) et un dataset s√©par√© pour les archives NextCloud.</li></ul><p>Backups :</p><ul><li>R√©plication ZFS quotidienne vers un serveur de backup.</li></ul><h2 id="bibliographie" tabindex="-1"><a class="header-anchor" href="#bibliographie"></a> Bibliographie</h2><ul><li><a href="https://fr.wikipedia.org/wiki/RAID_(informatique)">RAID - Wikipedia</a></li><li><a href="https://serverfault.com/questions/19029/raid-levels-explained">RAID Levels - ServerFault</a></li><li><a href="https://openzfs.github.io/openzfs-docs/">Introduction to ZFS</a></li><li><a href="https://docs.oracle.com/cd/E23824_01/html/821-1448/gbbsh.html">ZFS Overview - Oracle</a></li><li><a href="https://www.ixsystems.com/blog/zfs-raid-z/">ZFS RAID-Z vs RAID - iXsystems Blog</a></li></ul><h3 id="communaut%C3%A9s-reddit-int%C3%A9ressantes" tabindex="-1"><a class="header-anchor" href="#communaut%C3%A9s-reddit-int%C3%A9ressantes"></a> Communaut√©s Reddit int√©ressantes</h3><ul><li><a href="https://www.reddit.com/r/homelab/">r/homelab</a></li><li><a href="https://www.reddit.com/r/sysadmin">r/sysadmin</a></li><li><a href="https://www.reddit.com/r/DataHoarder/">r/DataHoarders</a></li></ul><div class="quote relative drop-shadow py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100 dark:border-amber-800 dark:bg-amber-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-amber-800 dark:stroke-amber-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Note</b></p></div><div class="pl-8 mr-8"><p>√âvidemment, il faut noter que Reddit est un r√©seau social, qui vient avec ses lots de b√™tises et/ou m√©sinformations, mais j'ai remarqu√© que ces communaut√©s √©taient plut√¥t bien mod√©r√©es et une bonne source d'inspiration pour des questions qui peuvent revenir souvent et auxquelles il serait difficile de r√©pondre sans avoir tout simplement tent√© la solution.</p></div></div><hr></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>