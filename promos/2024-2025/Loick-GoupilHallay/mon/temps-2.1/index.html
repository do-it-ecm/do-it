<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2024-2025/Loick-GoupilHallay/mon/temps-2.1/"><meta name="description" content="Tutoriel pour ma√Ætriser k9s et devenir un ninja de la console Kubernetes"><meta property="og:description" content="Tutoriel pour ma√Ætriser k9s et devenir un ninja de la console Kubernetes"><meta name="twitter:description" content="Tutoriel pour ma√Ætriser k9s et devenir un ninja de la console Kubernetes"><meta name="author" content="Lo√Øck Goupil-Hallay"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, MON, dev, kubernetes, k9s"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="k9s speedrun any% unrestricted wg+ WR"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Loick-GoupilHallay/mon/temps-2.1/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="k9s speedrun any% unrestricted wg+ WR"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2024-2025/Loick-GoupilHallay/mon/temps-2.1/"><title>k9s speedrun any% unrestricted wg+ WR</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">k9s speedrun any% unrestricted wg+ WR</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MON</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">dev</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">kubernetes</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">k9s</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">MON</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Lo√Øck Goupil-Hallay</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2024-2025</span></div></div><p class="mb-4 text-lg">Tutoriel pour ma√Ætriser k9s et devenir un ninja de la console Kubernetes</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2024-2025/Loick-GoupilHallay/">Lo√Øck Goupil-Hallay</a><span class="px-1">/</span><a href="/promos/2024-2025/Loick-GoupilHallay/mon/">MONs Lo√Øck Goupil-Hallay</a><span class="px-1">/</span><a href="/promos/2024-2025/Loick-GoupilHallay/mon/temps-2.1/">k9s speedrun any% unrestricted wg+ WR</a></div></div><head><link rel="icon" href="https://github.com/BoxBoxJason/resume/blob/d07f37a66e2a583832533a10a9a4bf73b020be6f/src/assets/avatar.png?raw=true" type="image/x-icon"></head><script>let lastScrollYSummary=window.scrollY;function toggleSummarySidebar(){document.getElementById("toc-sidebar").classList.toggle("open")}window.addEventListener("scroll",(()=>{const t=document.getElementById("toc-burger-button"),e=document.getElementById("toc-sidebar"),l=window.scrollY;l<10||l<lastScrollYSummary?t.classList.remove("hidden"):e&&e.classList.contains("open")||t.classList.add("hidden"),lastScrollYSummary=l}))</script><p><button id="toc-burger-button" class="sidebar-burger-button right-2" onclick="toggleSummarySidebar()">‚ò∞</button></p><nav id="toc-sidebar" class="sidebar right-0 border-l-2 translate-x-full 3xl:translate-x-0"><h2>Sommaire</h2><nav class="toc"><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#introduction">Introduction</a></li><li class="toc-item"><a class="toc-link" href="#cas-d'usage">Cas d&#39;usage</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#d%C3%A9marrage">D√©marrage</a></li><li class="toc-item"><a class="toc-link" href="#suivi-du-d%C3%A9ploiement">Suivi du d√©ploiement</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#events-au-d%C3%A9ploiement%2C-tout-va-bien">Events au d√©ploiement, tout va bien</a></li><li class="toc-item"><a class="toc-link" href="#pods-en-cours-de-d%C3%A9marrage">Pods en cours de d√©marrage</a></li><li class="toc-item"><a class="toc-link" href="#malheureusement%2C-un-pod-ne-d%C3%A9marre-pas">Malheureusement, un pod ne d√©marre pas</a></li><li class="toc-item"><a class="toc-link" href="#logs-du-pod">Logs du pod</a></li><li class="toc-item"><a class="toc-link" href="#events">Events</a></li><li class="toc-item"><a class="toc-link" href="#probl%C3%A8me-r%C3%A9solu">Probl√®me r√©solu</a></li><li class="toc-item"><a class="toc-link" href="#acc%C3%A8s-au-service">Acc√®s au service</a></li><li class="toc-item"><a class="toc-link" href="#acc%C3%A8s-%C3%A0-la-console">Acc√®s √† la console</a></li></ol></li></ol></li><li class="toc-item"><a class="toc-link" href="#conclusion">Conclusion</a></li><li class="toc-item"><a class="toc-link" href="#antis%C3%A8che-raccourcis-clavier">Antis√®che Raccourcis clavier</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#aide">Aide</a></li><li class="toc-item"><a class="toc-link" href="#interaction-avec-les-ressources">Interaction avec les ressources</a></li><li class="toc-item"><a class="toc-link" href="#interaction-avec-les-pods">Interaction avec les pods</a></li><li class="toc-item"><a class="toc-link" href="#gestion-de-l'affichage">Gestion de l&#39;affichage</a></li><li class="toc-item"><a class="toc-link" href="#parcours-et-navigation">Parcours et navigation</a><ol class="toc-list"><li class="toc-item"><a class="toc-link" href="#acc%C3%A8s">Acc√®s</a></li><li class="toc-item"><a class="toc-link" href="#tri">Tri</a></li><li class="toc-item"><a class="toc-link" href="#filtrage">Filtrage</a></li><li class="toc-item"><a class="toc-link" href="#droite%2C-gauche%2C-haut%2C-bas">Droite, gauche, haut, bas</a></li></ol></li></ol></li></ol></nav></nav><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100 dark:border-pink-800 dark:bg-pink-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-pink-500 dark:stroke-pink-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg><div class="pl-8 mb-2 mr-8"><p><strong>MON avanc√©</strong></p></div><div class="pl-8 mr-8"><ul><li><a href="https://kubernetes.io/">Kubernetes</a></li><li><a href="https://helm.sh/">Helm</a></li></ul></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100 dark:border-emerald-800 dark:bg-emerald-950"><svg class="absolute w-6 h-6 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-emerald-500 dark:stroke-emerald-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path></svg><div class="pl-8 mb-2 mr-8"><p><strong>Liens utiles</strong></p></div><div class="pl-8 mr-8"><ul><li><a href="https://k9scli.io/">k9s</a></li></ul></div></div><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"></a> Introduction</h2><p>Tout DevOps qui se respecte est amen√© √† travailler avec un orchestrateur de conteneurs: <strong>Kubernetes</strong>. Il doit √™tre capable de naviguer dans les ressources de son cluster afin de d√©bugger, d√©ployer, ou simplement observer ce qui s'y passe. La CLI <strong>kubectl</strong> est tr√®s puissante, mais elle n'est pas forc√©ment la plus ergonomique pour toutes les op√©rations du quotidien. On y passe beaucoup de temps d√®s qu'il faut faire quoi que ce soit. Afin de gagner en productivit√©, il existe un outil formidable d'interface graphique en CLi pour Kubernetes : <strong>k9s</strong>.</p><p>Dans ce MON, nous allons voir comment devenir un ma√Ætre de <strong>k9s</strong>, afin de ne plus jamais perdre de temps pour nos op√©rations de tous les jours.</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/k9s.png" alt="k9s default view"></p><h2 id="cas-d'usage" tabindex="-1"><a class="header-anchor" href="#cas-d'usage"></a> Cas d'usage</h2><p>Nous allons nous baser sur un exemple concret de d√©ploiement de service (<strong>SonarQube</strong>) sur un cluster Kubernetes, en passant par une helm chart. L'id√©e est de suivre le workflow de d√©ploiement complet afin de s'assurer que le d√©ploiement fonctionne sans encombre. En cas de probl√®me, nous devrons √™tre capables de d√©bugger rapidement et efficacement, uniquement avec <strong>k9s</strong>.</p><p>Nous allons supposer que <u>k9s est d√©j√† install√©</u> sur votre machine <u>sans plugins</u>. Si ce n'est pas le cas, vous pouvez suivre les instructions sur le <a href="https://k9scli.io/">site officiel</a>.<br>De plus nous allons supposer que vous avez un <u>cluster Kubernetes fonctionnel</u>, et que vous avez les droits pour d√©ployer des ressources dessus. (Si ce n'est pas le cas, vous pouvez suivre le <a href="https://kubernetes.io/docs/setup/">tutoriel d'installation de Kubernetes</a>)</p><p style="background-color:#ffb1a8;border:2px solid #ba1300;padding:10px;border-radius:10px">Enfin, nous n'expliquerons ni le fonctionnement de kubernetes et de ses ressources, ni d'une helm chart, ni le flow de d√©ploiement de SonarQube. Si vous avez des questions sur ces sujets, n'h√©sitez pas √† vous renseigner sur internet ou √† me contacter.</p><h3 id="d%C3%A9marrage" tabindex="-1"><a class="header-anchor" href="#d%C3%A9marrage"></a> D√©marrage</h3><p>Nous utiliserons la helm chart classique de bitnami pour d√©ployer SonarQube, pour cela nous sommes oblig√©s de passer par le terminal, k9s ne permettant pas l'int√©raction avec la CLI helm. Nous d√©ployons sur le namespace <code>workspace-test</code></p><pre class="language-bash line-numbers"><code>

helm repo add bitnami https://charts.bitnami.com/bitnami
helm repo update
helm install sonarqube bitnami/sonarqube --namespace workspace-test


</code></pre><h3 id="suivi-du-d%C3%A9ploiement" tabindex="-1"><a class="header-anchor" href="#suivi-du-d%C3%A9ploiement"></a> Suivi du d√©ploiement</h3><p>A partir de maintenant, tout se passe sur k9s. Nous allons suivre le d√©ploiement de SonarQube, et nous assurer que tout se passe bien. Pour cela, on doit globalement v√©rifier que la helm release arrive au statut <code>DEPLOYED</code>, que les pods sont en <code>Running</code>, et que les services sont bien vivants.<br>Pour cela, on va suivre 3 ressources principales:</p><ul><li>Les <strong>events</strong> du namespace <code>workspace-test</code></li><li>Les <strong>pods</strong> du namespace <code>workspace-test</code></li><li>La <strong>helm release</strong> de SonarQube</li></ul><p><code>SHIFT + 1</code> pour filtrer sur le namespace <code>workspace-test</code></p><h4 id="events-au-d%C3%A9ploiement%2C-tout-va-bien" tabindex="-1"><a class="header-anchor" href="#events-au-d%C3%A9ploiement%2C-tout-va-bien"></a> Events au d√©ploiement, tout va bien</h4><p><code>:events</code> pour afficher les √©v√®nements du namespace <code>workspace-test</code> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/events_start.png" alt="Events d√©ploiement SonarQube"></p><h4 id="pods-en-cours-de-d%C3%A9marrage" tabindex="-1"><a class="header-anchor" href="#pods-en-cours-de-d%C3%A9marrage"></a> Pods en cours de d√©marrage</h4><p><code>:pods</code> pour afficher les pods du namespace <code>workspace-test</code> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/missing_pods.png" alt="Pods d√©marrage SonarQube"></p><p>On voit une premi√®re anomalie (classique), un des pods est pr√™t, l'autre est en <code>Pending</code>. Cela peut √™tre normal dans le cas o√π le pod attend quelque chose pour d√©marrer. Cependant cela ne doit pas durer trop longtemps.</p><h4 id="malheureusement%2C-un-pod-ne-d%C3%A9marre-pas" tabindex="-1"><a class="header-anchor" href="#malheureusement%2C-un-pod-ne-d%C3%A9marre-pas"></a> Malheureusement, un pod ne d√©marre pas</h4><p><code>ENTER</code> sur le pod en <code>Pending</code> pour voir les d√©tails <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/pods_fail.png" alt="Failing containers"></p><p>Catastrophe, tous nos conteneurs du pod SonarQube sont en erreur ! Il va falloir d√©bugger √ßa.</p><h4 id="logs-du-pod" tabindex="-1"><a class="header-anchor" href="#logs-du-pod"></a> Logs du pod</h4><p><code>L</code> pour afficher les logs du pod <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/pod_logs.png" alt="Logs pod SonarQube"></p><p>Oh mis√®re de mis√®re ! Les logs sont compl√®tement vides ! Que faire capitaine ?</p><h4 id="events" tabindex="-1"><a class="header-anchor" href="#events"></a> Events</h4><p><code>:events</code> pour afficher les √©v√®nements du namespace <code>workspace-test</code> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/events_error.png" alt="Events pod SonarQube"></p><p><code>ENTER</code> sur l'√©v√®nement pour voir les d√©tails <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/error_detail.png" alt="Event pod SonarQube"></p><p>Enfin une information ! Le pod n'arrive pas √† d√©marrer car il n'a pas assez de m√©moire sur aucune des nodes √† sa disposition. Il va falloir trafiquer notre cluster pour lui donner plus de m√©moire. Il s'agit d'un cluster construit rapidement pour le MON √† l'aide de Minikube. Il est donc normal que les ressources par d√©faut soient faibles.</p><pre class="language-bash line-numbers"><code>

minikube stop
minikube delete
minikube config set memory 6000
minikube start --memory=6000 --cpus=4


</code></pre><h4 id="probl%C3%A8me-r%C3%A9solu" tabindex="-1"><a class="header-anchor" href="#probl%C3%A8me-r%C3%A9solu"></a> Probl√®me r√©solu</h4><p><code>:pods</code> pour afficher les pods du namespace <code>workspace-test</code> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/pods_up.png" alt="Pods up"></p><p>Cette fois-ci, plus de probl√®me, on peut voir que nos pods sont vivants et ont fini de d√©marrer</p><h4 id="acc%C3%A8s-au-service" tabindex="-1"><a class="header-anchor" href="#acc%C3%A8s-au-service"></a> Acc√®s au service</h4><ol><li><code>:services</code> pour afficher les services du namespace <code>workspace-test</code></li><li><code>SHIFT + F</code> pour effectuer un port forward entre le service et votre machine (pour pouvoir y acc√©der sur navigateur) <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/portforward.png" alt="Port forward"></li></ol><p><code>localhost:9000</code> sur un navigateur quelconque pour acc√©der √† SonarQube <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/service_up.png" alt="SonarQube"></p><p>Et voil√†, votre SonarQube est accessible sur <code>localhost:9000</code> !</p><h4 id="acc%C3%A8s-%C3%A0-la-console" tabindex="-1"><a class="header-anchor" href="#acc%C3%A8s-%C3%A0-la-console"></a> Acc√®s √† la console</h4><ol><li><code>:pods</code> pour afficher les pods du namespace <code>workspace-test</code></li><li><code>/sonarqube</code> pour filtrer sur les pods de SonarQube</li><li><code>S</code> pour ouvrir un shell dans le pod <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2024-2025/refs/heads/main//Loick-GoupilHallay/mon/temps-2.1/images/shell_k9s.png" alt="Shell SonarQube"></li></ol><p>Au besoin, vous avez acc√®s √† la console du conteneur pour effectuer des op√©rations de maintenance (en tant qu'administrateur bien s√ªr)</p><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"></a> Conclusion</h2><p>Vous avez r√©ussi √† d√©ployer SonarQube sur votre cluster Kubernetes, et √† le d√©bugger en cas de probl√®me. Vous avez pu voir l'efficacit√© de k9s pour naviguer dans les ressources de votre cluster, et pour d√©bugger des probl√®mes en temps r√©el. Vous avez gagn√© un temps pr√©cieux en √©vitant de passer par la CLI kubectl pour chaque op√©ration.</p><p>Comparez √† votre ancien <code>kubectl get</code>, <code>kubectl describe</code>, <code>kubectl logs</code>... quand vous ne saviez pas o√π regarder. Vous avez facilement √©conomis√© 10 minutes de recherche et de commandes fastidieuses pour chaque probl√®me rencontr√©.</p><h2 id="antis%C3%A8che-raccourcis-clavier" tabindex="-1"><a class="header-anchor" href="#antis%C3%A8che-raccourcis-clavier"></a> Antis√®che Raccourcis clavier</h2><p>k9s √©tant un outil d√©velopp√© pour favoriser la rapidit√© utilisateur, il est truff√© de raccourcis clavier qui permettent de changer de vue, √©diter les composants, filtrer l'affichage, afficher des logs, lister des ressources, etc. Voici une petite liste que j'ai pu composer avec les raccourcis qui me sont les plus utiles.</p><h3 id="aide" tabindex="-1"><a class="header-anchor" href="#aide"></a> Aide</h3><ul><li><code>?</code>(Help) : Affiche l'aide des raccourcis clavier pour la fen√™tre actuelle</li><li><code>CTRL + A</code>(Aliases) : Affiche l'ensemble des alias de kubernetes / k9s</li></ul><h3 id="interaction-avec-les-ressources" tabindex="-1"><a class="header-anchor" href="#interaction-avec-les-ressources"></a> Interaction avec les ressources</h3><ul><li><code>CTRL + D</code>(Delete) : Supprimer une ressource</li><li><code>D</code>(Describe) : Affiche les d√©tails d'une ressource et ses √©v√®nements / logs li√©s</li><li><code>E</code>(Edit) : Editer le manifest YAML d'une ressource</li><li><code>Y</code>(YAML) : Affiche le manifest YAML d'une ressource</li><li><code>CTRL + S</code>(Save) : Sauvegarde la ressource (le format d√©pend de la ressource)</li></ul><h3 id="interaction-avec-les-pods" tabindex="-1"><a class="header-anchor" href="#interaction-avec-les-pods"></a> Interaction avec les pods</h3><ul><li><code>F</code>(PortForward) : Forward un port d'un pod sur votre machine</li><li><code>S</code>(Shell) : Ouvre un shell dans un pod</li><li><code>CTRL + K</code>(Kill) : Tue un pod (le red√©marre s'il est g√©r√© par un contr√¥leur)</li><li><code>T</code>(Transfer) : Transf√®re un fichier depuis ou vers un pod</li><li><code>L</code>(Logs) : Affiche les logs d'un pod<ul><li><code>W</code>(Wrap) : Wrap les logs (ils ne d√©passent plus du cadre de k9s)</li><li><code>F</code>(Fullscreen): Affiche les logs en plein √©cran (fait dispara√Ætre le cadre k9s, pratique pour copier/coller)</li><li><code>S</code>(Autoscroll): Active/d√©sactive l'autoscroll des logs</li><li><code>T</code>(Timestamps): Active/d√©sactive l'affichage des timestamps</li></ul></li></ul><h3 id="gestion-de-l'affichage" tabindex="-1"><a class="header-anchor" href="#gestion-de-l'affichage"></a> Gestion de l'affichage</h3><ul><li><code>CTRL + W</code>(Toggle Wide) : Active/d√©sactive l'affichage large des colonnes</li><li><code>CTRL + E</code>(Toggle Header) : Active/d√©sactive l'affichage de l'ent√™te k9s (avec les versions, les raccourcis...)</li><li><code>:q</code>(Quit) : Quitte k9s</li></ul><h3 id="parcours-et-navigation" tabindex="-1"><a class="header-anchor" href="#parcours-et-navigation"></a> Parcours et navigation</h3><h4 id="acc%C3%A8s" tabindex="-1"><a class="header-anchor" href="#acc%C3%A8s"></a> Acc√®s</h4><ul><li><code>CTRL + ENTER</code>(View) : Affiche les d√©tails d'une ressource OU rentre dans la ressource (si c'est un namespace par exemple)</li><li><code>ESC</code>(Back) : Retourne √† la vue pr√©c√©dente (sort d'une ressource ou d'un namespace)</li><li><code>CTRL + R</code>(Refresh) : Rafra√Æchit la vue actuelle (utile pour voir les changements en temps r√©el, mais il y a un auto-refresh)</li></ul><h4 id="tri" tabindex="-1"><a class="header-anchor" href="#tri"></a> Tri</h4><ul><li><code>SHIFT + A</code>(Sort age) : Trie les ressources par √¢ge</li><li><code>SHIFT + N</code>(Sort name) : Trie les ressources par nom</li><li><code>SHIFT + S</code>(Sort status) : Trie les ressources par status</li></ul><h4 id="filtrage" tabindex="-1"><a class="header-anchor" href="#filtrage"></a> Filtrage</h4><ul><li><code>SHIFT + &lt;num√©ro namespace&gt;</code>(Namespace) : Filtre les ressources par namespace (ex: <code>SHIFT + 1</code> pour n'afficher que les ressources du namespace <code>workspace-test</code>)</li><li><code>:&lt;resource&gt;</code>(Filter) : Filtre les ressources par type (ex: <code>:pods</code> pour n'afficher que les pods)</li><li><code>/&lt;regex&gt;</code>(Filter) : Filtre les ressources par un regex (ex: <code>/sonar</code> pour n'afficher que les ressources contenant &quot;sonar&quot;)</li><li><code>ESC</code>(Clear) : Efface le filtre</li></ul><h4 id="droite%2C-gauche%2C-haut%2C-bas" tabindex="-1"><a class="header-anchor" href="#droite%2C-gauche%2C-haut%2C-bas"></a> Droite, gauche, haut, bas</h4><ul><li><code>SHIFT + G</code>(Goto bottom) : Place le curseur tout en bas de la liste</li><li><code>G</code>(Goto top) : Place le curseur tout en haut de la liste</li><li><code>CTRL + F</code>(Page down) : Place le curseur tout en bas de la partie VISIBLE de la page</li><li><code>CTRL + B</code>(Page up) : Place le curseur tout en haut de la partie VISIBLE de la page</li><li><code>K</code>(Up) : Monte le curseur d'une ligne</li><li><code>J</code>(Down) : Descend le curseur d'une ligne</li><li><code>H</code>(Left) : D√©place le curseur √† gauche</li><li><code>L</code>(Right) : D√©place le curseur √† droite</li></ul></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>