<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2022-2023/Bilgi-Tuncay/mon/temps-3.1/"><meta name="description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta property="og:description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta name="twitter:description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta name="author" content="Tuncay Bilgi"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, MON, backend, bdd, typescript"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content=" B.A-BA Application Web : Comprendre et Mettre en place un Backend "><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Bilgi-Tuncay/mon/temps-3.1/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content=" B.A-BA Application Web : Comprendre et Mettre en place un Backend "><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Bilgi-Tuncay/mon/temps-3.1/"><title>B.A-BA Application Web : Comprendre et Mettre en place un Backend</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">B.A-BA Application Web : Comprendre et Mettre en place un Backend</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MON</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">backend</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">bdd</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">typescript</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">MON</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Tuncay Bilgi</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2022-2023</span></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2022-2023/Bilgi-Tuncay/">Tuncay Bilgi</a><span class="px-1">/</span><a href="/promos/2022-2023/Bilgi-Tuncay/mon/">MON de Tuncay Bilgi</a><span class="px-1">/</span><a href="/promos/2022-2023/Bilgi-Tuncay/mon/temps-3.1/"> B.A-BA Application Web : Comprendre et Mettre en place un Backend</a></div></div><p>MON D√©butant.</p><p>Savoir comment fonctionne une application Web et enfin le lexique obscure des d√©veloppeurs. Mettre en place sa propre application complexe.</p><p>Ce MON est un cours sur le D√©veloppement Web, il se concentre sur ce qu'on appelle le Backend. Vous pourrez y apprendre la th√©orie et aussi la pratique avec la mise en place de votre propre application.</p><p>Dans ce MON, nous allons voir comment mettre en place une application compl√®te, avec une interface, base de donn√©es et un service de cr√©ation de compte. Je vous pr√©senterai les grands principes d'une application web, et plus pr√©cis√©ment, comment structurer un Backend pour qu'il soit maintenable et lisible. Le but est d'apprendre √† structurer un Backend proprement.</p><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100 dark:border-red-800 dark:bg-red-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-red-500 dark:stroke-red-800 stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div class="pl-8 mb-2 mr-8"><p><b>Attention</b></p></div><div class="pl-8 mr-8"><p>Je vous pr√©sente une mani√®re de faire les choses, il y en √† d'autres et je ne garantie pas que la mienne soit parfaite.Aussi,je ne me pr√©occupe pas de programmation par les tests.</p></div></div><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Mots cl√©s expliqu√©s dans ce cours</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"><ul><li>Frontend, Backend, Base de donn√©es</li><li>Framework</li><li>HTML,CSS,JS</li><li>style,layout</li><li>API, REST, ORM, CRUD</li><li>Requ√™tes</li></ul></div></details></div><h3 id="ressources-%3A" tabindex="-1"><a class="header-anchor" href="#ressources-%3A"></a> Ressources :</h3><ul><li><p>Les documentations :</p><ul><li><a href="https://nodejs.org/en">Nodejs</a></li><li><a href="https://expressjs.com/fr/">Expressjs</a></li><li><a href="https://typeorm.io/">TypeORM</a></li><li><a href="https://fr.reactjs.org/">React</a></li></ul></li><li><p>Les MON associ√©s :</p><ul><li><a href="https://do-it.aioli.ec-m.fr/mon/AV/mons/web-front-1/">MON web frontend</a></li><li><a href="https://do-it.aioli.ec-m.fr/mon/TBi/MON/Docker/">MON Docker</a></li></ul></li><li><p>Code source :</p></li><li><p><a href="https://github.com/TuncayBilgi/cybersecenv">Mon github</a></p></li></ul><h3 id="pr%C3%A9requis-%3A" tabindex="-1"><a class="header-anchor" href="#pr%C3%A9requis-%3A"></a> Pr√©requis :</h3><ul><li>Pour la th√©orie : Avoir un ordinateur, une connexion internet, l'eau courante</li><li>Pour la pratique : Avoir une premi√®re exp√©rience avec le d√©veloppement web.</li></ul><h3 id="%C3%A9tapes-%3A" tabindex="-1"><a class="header-anchor" href="#%C3%A9tapes-%3A"></a> √âtapes :</h3><ul><li>Comment marche une application web</li><li>Architecture du BackEnd</li><li>Initialisation du projet :</li><li>Frontend</li><li>Backend</li><li>Base de donn√©es</li><li>Mise en place d'une entit√©s Account</li><li>Mise en place de la cr√©ation d'un account</li></ul><h2 id="comment-marche-une-application-web%3A" tabindex="-1"><a class="header-anchor" href="#comment-marche-une-application-web%3A"></a> Comment marche une application web:</h2><h3 id="de-quoi-est-constitu%C3%A9e-une-application-web-%3F" tabindex="-1"><a class="header-anchor" href="#de-quoi-est-constitu%C3%A9e-une-application-web-%3F"></a> De quoi est constitu√©e une application web ?</h3><p>Pour notre application, nous avons besoin de trois briques : Frontend - Backend - Base de donn√©es</p><p>Ces trois parties ont leurs r√¥le bien d√©fini :</p><ul><li><p>Le Frontend est la partie du code qui est pr√©sent√©e √† l'utilisateur. C'est le programme qui va afficher ce que l‚Äôutilisateur voit et ce avec quoi il va interagir. Le Frontend est envoy√© √† l'utilisateur, il est donc ex√©cut√© par sa propre machine. Quand vous afficher une page sur internet, c'est votre ordinateur qui fait le travail d'afficher les boutons, de regarder quels boutons sont cliqu√©s, de changer de page etc...</p></li><li><p>Le Backend est la partie du code qui manipule les fonctionnalit√©s complexes, et qui ne concernent pas directement l'affichage. C'est le programme qui va ex√©cuter des fonctions qui permettent de r√©pondre aux attentes de l'utilisateur. Le backend reste sur le serveur, il est ex√©cut√© par celui-ci, contrairement au frontend. Si vous avez une application web qui propose d'interagir avec une IA, l'utilisateur va interagir √† travers le frontend, mais l'IA elle m√™me, sera g√©r√©e par le Backend.</p></li><li><p>La base de donn√©e, qui permet de stocker des donn√©es persistantes. Elle reste sur le serveur, et encor plus, on veut qu'elle soit imp√©n√©trable, car nous voulons conserver et cacher les donn√©es importantes √† notre syst√®mes, ou les donn√©es priv√©es qui concernent nos utilisateurs.</p></li></ul><p>Ces parties communiquent entre elles √† travers ce qu'on appelle des requ√™tes. Le frontend envoie des requ√™tes au backend, qui lui r√©pond, en lui envoyant une r√©ponse. Pour √©crire cette r√©ponse, le backend peut aller chercher des donn√©es dans la base de donn√©es. Pour ce faire, il va la questionner, avec langage sp√©cifique comme du SQL par exemple.</p><h4 id="exemple-%C3%A0-la-mode-en-2023---chatgpt-%3A" tabindex="-1"><a class="header-anchor" href="#exemple-%C3%A0-la-mode-en-2023---chatgpt-%3A"></a> Exemple √† la mode en 2023 - ChatGPT :</h4><p>L'utilisateur interagit avec une page qui permet de poser une question √† l'IA ChatGPT. Cette page est le frontend, qui est ex√©cut√©e par son ordinateur. Quand il rentre sa question et qu'il appuie sur le bouton envoyer, son ordinateur va envoyer une requ√™te au Backend de CHatGPT, qui tourne sur les serveurs de OpenAI.</p><p>Ce backend, va r√©cup√©rer la question, et la passer √† travers l'IA pour avoir une r√©ponse. Il va ensuite renvoyer cette r√©ponse au frontend pour qu'elle soit affich√©e √† l'utilisateur. Enfin, quand l'utilisateur √† fini d'interagir, le backend va formatter les donn√©es de l'utilisateur : Le nom de compte, la question pos√©e, la r√©ponse renvoy√©e etc.. et il va placer ces donn√©es dans la base de donn√©es pour qu'elles y restent longtemps.</p><p>La prochaine fois que l'utilisateur vient sur le site de ChatGPT, sans qu'il ait besoin d'interagir, le front va envoyer une requ√™te au back, qui lui demande de r√©cup√©rer les donn√©es de l‚Äôutilisateur, le back s‚Äôex√©cute , va chercher ce qu'il faut dans la base de donn√©es, et les donnes au frontend pour que cela soit affich√© et que l'utilisateur puisse reprendre une ancienne conversation.</p><h3 id="les-attentes-diff%C3%A9rentes-remplies-par-les-trois-parties-d'une-application-%3A" tabindex="-1"><a class="header-anchor" href="#les-attentes-diff%C3%A9rentes-remplies-par-les-trois-parties-d'une-application-%3A"></a> Les attentes diff√©rentes remplies par les trois parties d'une application :</h3><p>Ces trois parties ayant des r√¥les bien diff√©rents, leurs code n'a rien √† voir. Coder du Frontend ne ressemble pas √† coder du backend, on n'utilise pas les m√™mes fonctions, on ne se pose pas les m√™mes questions, et parfois, on n'utilise m√™me pas le m√™me langage de programmation. Par exemple :</p><ul><li>Le frontend √† besoin d'√™tre du code qui puisse √™tre lu par les navigateurs web.</li><li>Le backend √† besoin d'√™tre du code relativement efficace, qui r√©alise le travail sans gaspiller de ressources et de fa√ßon consistante pour tous les utilisateurs.</li><li>La Base de donn√©es doit pouvoir √™tre questionn√©e, on doit pouvoir y retrouver les informations n√©cessaires facilement.</li></ul><p>Pour r√©pondre √† ces besoins diff√©rents, on utilise d'abords des langages diff√©rents :</p><ul><li>Les navigateurs ne comprennent que le HTML, le CSS, le JavaScript et le Webassembly, il est donc imp√©ratif de choisir ses langages.</li><li>Pour √™tre efficace, on utilise des langages orient√©s objet, stables, qui s‚Äôex√©cutent rapidement, et qui sont potentiellement typ√©s. On utilise le plus souvent du Javascript, du Typescript, du php, du Java, du C# ou dans une moindre mesure, du Python.</li><li>Les bases de donn√©es communiquent √† travers un langage : souvent du SQL ou du grapheQL. Elles ont cependant toutes leurs particularit√©s et pour cela elles modifie le langage de base, on dit qu'elles utilisent un dialect.</li></ul><p>Aussi, pour r√©pondre √† ses besoins, on utilise des principes diff√©rents :</p><ul><li>Pour le frontend, on pense √† l'UI/UX et √† la l√©g√®ret√© de l'application. On veut envoyer le strict n√©cessaire √† l'utilisateur pour que √ßa s'affiche vite.</li><li>Pour le Backend, on veut de l'efficacit√©, des temps d'executions bas, la possibilit√© de g√©rer des centaines d'utilisateurs simultan√©s de fa√ßon s√©curis√©e. Pour cela, on pense √† l‚Äôalgorithmie et √† la cybers√©curit√©.</li></ul><h3 id="en-pratique-%3A" tabindex="-1"><a class="header-anchor" href="#en-pratique-%3A"></a> En pratique :</h3><h4 id="les-langages-%3A" tabindex="-1"><a class="header-anchor" href="#les-langages-%3A"></a> Les langages :</h4><p>Comme dit plus haut, diff√©rents besoins, diff√©rents langages. Voici quelques langages couramment utilis√©s, et une introduction sur leur fonctionnement.</p><ul><li><p>HTML,CSS : Ce couple forme un langage qui permet d'afficher des pages sur un navigateur web. Le html d√©crit le Layout, c'est √† dire toutes les donn√©es qui seront affich√©es, et ou√π elles seront affich√©s. Par exemple une page contient un titre, un paragraphe, un bouton en bas de page etc... Le CSS d√©crit le style avec lequel ces donn√©es sont affich√©es. On y d√©crit quels sont les tailles des paragraphes, la couleur des boutons, la police utilis√©e etc..</p></li><li><p>Javascript (Js) : Langage incontournable du d√©veloppement web. Le javascript sert en premier lieux √† injecter de l'interactivit√© dans les pages web. Il √† le m√©rite d'√™tre un des seuls langages que tous les navigateurs comprennent, avec les deux cit√©es plus haut. Si un bouton doit incr√©menter un compteur, si il faut envoyer une requ√™te au backend, cela se fera avec du javascript. Ce langage est aussi utilis√© pour du Backend.</p></li><li><p>Python : Le python √† le m√©rite d'√™tre simple √† appr√©hender. Il poss√®de des librairies qui facilitent d'autant plus la cr√©ation de site web. Malheureusement, ce n'est pas un langage compris par les navigateurs web, il n'est donc utilis√© que pour le backend. Sont utilisation est cependant restreinte. En effet, le langage est lent est gourmand en ressources, l'inverse de ce dont en a besoin en Backend.</p></li><li><p>Typescript (ts) : langage r√©cent qui est un Superset du Js. C'est √† dire que c'est du Javascript avec des fonctionnalit√©s en plus. Ces fonctionnalit√©s sont principalement les types. Ts est donc un langage typ√©, c'est √† dire que pour d√©finir une variable, il faut lui donner un type qui ne peut pas √™tre chang√©. Ce langage est utilis√© autant en Front qu'en Back puisque qu'il est compil√© en Javascript. C'est √† dire qu'√† partir du code en TS, un compilateur va cr√©er un nouveau code en Js. Ce langage est de plus en plus utilis√© par les d√©veloppeur javascript car il facilite le d√©veloppement.</p></li><li><p>JSON : Format de donn√©es utilis√© par les applications web pour communiquer.</p></li></ul><h4 id="les-api-%3A" tabindex="-1"><a class="header-anchor" href="#les-api-%3A"></a> Les API :</h4><p>Pour communiquer entre eux, le Backend et le frontend utilisent des requ√™tes. Une requ√™te est un message que le Front va envoyer au Back, ce message va enclencher une fonction dans le back qui finalement, envoie une r√©ponse au front.</p><p>Pour pouvoir √©changer des requ√™tes, les programmes doivent √™tre d'accord sur le format des donn√©es √† √©changer. Un de ces format et l'API. Une API REST est un ensemble de message, que le navigateur peut envoyer √† un serveur. Le serveur, si il impl√©mente cette API, doit √™tre en mesure de recevoir le message, de le comprendre et de r√©pondre.</p><p>Les API REST s'articulent autour de deux principaux types de messages : GET | POST Le GET permet au Frontend d'indiquer au Back qu'il lui demande une information. Cela peut √™tre une information de la base de donn√©e ou une information qui r√©sulte d'in traitement.</p><p>Le POST permet au Frontend d'envoyer une donn√©e au Back, qui pourra ensuite la traiter et l'envoyer √† la base de donn√©e si n√©cessaire.</p><p>Pour que le serveur puissent traiter les requ√™tes, ils doivent mettre en place des fonctions qui execute la requ√™te. Par exemple si le front demande de cr√©er un nouvel utilisateur √† partir d'un nom et d'un mot de passe, le back doit avoir une fonction qui prend un nom et un mot de passe et qui cr√©er un utilisateur avec. Ces fonction essentielles appartiennent au CRUD : Create READ Update Delete. Le serveur doit savoir faire les 4 pour dire qu'il impl√©mente une API Rest (ou Restful pour l'adjectif).</p><p>Faire ce CRUD pour chaque type de donn√©es diff√©rentes dans le back est d'un ennui mortel, heureusement, il existe des frameworks, qui le font automatiquement pour nous.</p><h4 id="les-frameworks-%3A" tabindex="-1"><a class="header-anchor" href="#les-frameworks-%3A"></a> Les frameworks :</h4><p>Toutes les applications web poss√®dent des points communs. Elles proposent par exemple un programme qui tourne en continue et qui √©coute les requ√™tes d'un utilisateur, elles permettent √† l‚Äôutilisateur de cliquer sur une page et que ce clique soit pris en compte etc..</p><p>Au lieu de r√©inventer la roue depuis z√©ro et de coder ces fonctionnalit√©s √† chaque application, les d√©veloppeurs ont invent√©s ce qu'on appelle un framework.</p><p>Les frameworks sont des environnements de programmation. L'√©quivalent d'une librairie python. Il permettent de mettre en place rapidement tout ce qui est n√©cessaire au programme que l'on veut coder.</p><p>Il y a des frameworks pour le frontend, des frameworks pour le backend et enfin des frameworks qui allient les deux ensembles, ce qu'on appelle un Meta Framework.</p><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Frameworks Front</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"></div></details></div><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Frameworks Back</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"></div></details></div><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Meta Frameworks</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"></div></details></div><p>Les Frameworks sont <strong>opinionated</strong> √† un certains degr√©. C'est √† dire qu'ils ont une opinion sur les mani√®res de faire. Par exemple, faut-il s√©parer clairement certains composant o√π les utiliser ensemble ? Faut-il √©crire une fonction d'une mani√®re ou d'une autre ?</p><p>Il est important de choisir un framework dont on supporte les opinions car si on essaye d'aller contre le framework, cela complique √©norm√©ment la t√¢che du codeur, alors que l'on veut la faciliter. Certains frameworks sont par conception tr√®s libre. Il y a par exemple Node.js, qui laisse une immense libert√©s aux utilisateurs. C'est le framework √† la base de tous les autres Framework backend et frontend javascript, √† la base de npm.</p><p>Pour g√©rer quels frameworks on utilise, les installer, les mettre √† jour etc... on utilise npm. Les commandes npm sont rentr√©es dans le terminale de commande et permettent g√©rer nos projets.</p><p>Par exemple si je cr√©e un projet avec certains frameworks, et que quelqu'un veut l'utiliser, il doit d'abord tout installer de la m√™me mani√®re que je l'ai fait sur mon ordinateur. Pour faciliter la t√¢che, il existe <code>npm install</code> qui permet de faire √ßa d'un coup, magiquement.</p><h5 id="exemples-%3A" tabindex="-1"><a class="header-anchor" href="#exemples-%3A"></a> Exemples :</h5><ul><li>Frontend :</li></ul><p><a href="https://do-it.aioli.ec-m.fr/mon/NB/mes-mon/react/">ReactJS</a> et <a href="https://do-it.aioli.ec-m.fr/mon/TBi/MON/Angular/">Angular</a> nous proposent de cr√©er des composants, qui seront ins√©r√©s dans une page html et envoy√©s √† l'utilisateur. Ils ont des opinions diff√©rentes.</p><p>Angular pr√¥ne une s√©paration totale des fonctions. La page html ne s'occupe que de l'affichage, le fichier js (javascript) s'occupe de l‚Äôinteractivit√©. Chaque composant est d√©fini par une classe et on doit donc faire attentions √† certaines probl√©matiques li√© √† cela. La communication entre le html et le js est g√©r√©e par des fonctions propre √† Angular.</p><p>React pr√¥ne plus de flexibilit√©. Les pages sont en jsx, qui est une fusion de html et de js. Cette page affiche des composants qui sont aussi en jsx et on peut y placer si n√©cessaire l‚Äôinteractivit√©. Aussi, les composants sont des fonctions, et ils interagissent entre avec des hooks, des fonctions pr√©construites.</p><p>Comme on peut le voir, les deux frameworks r√©pondent aux m√™mes besoins, d'une mani√®re (parfois subtilement) diff√©rente.</p><ul><li>Backend :</li></ul><p>Sequelize et TypeORM sont deux ORMS diff√©rents. Un ORM est un framework qui permet de connecter les fonctions ou les objets das notre programme, aux donn√©es dans une base de donn√©es.</p><p>Sequelize nous permet de faire cela en js, et laisse de la libert√© au programmeur de choisir comment organiser son code. TypeORM nous force √† suivre l'architecture classique d'un backend(que l'on verra plus bas). En plus de cea, il utilise Typescript, qui nous oblige √† avoir un langage typ√© (de type Java ou C#). Les types et l'architecture apportent une certaine lourdeur, mais permettent d'avoir un programme solide, plus simple √† maintenir en √©quipe.</p><h4 id="quels-framework-utiliser-%3F" tabindex="-1"><a class="header-anchor" href="#quels-framework-utiliser-%3F"></a> Quels Framework utiliser ?</h4><p>Pour mettre en place ces trois composantes d'un application, nous pouvons :</p><ul><li>√âcrire du code √† la vol√©e, ne pas utiliser de framework.</li><li>s√©parer le code de sorte √† avoir trois services, qui fonctionnement en parall√®le.</li><li>Utiliser un M√©ta-framework, qui permet de regrouper les diff√©rentes parties d'une fa√ßon coh√©rente et contr√¥l√©e.</li></ul><p>La premi√®re id√©e est la plus mauvaise id√©e que vous n'ayez jamais eu de votre vie. On utilise forc√©ment un framework quelque part, sinon cotre site ressemblera √† un blog des ann√©es 2000. En plus de cela, vous allez probablement mettre du code n'importe o√π, ne pas cr√©er de Backend et tout envoyer √† l'utilisateur, qui pourra ensuite hacker vos donn√©es et vous les revendre alors qu'elles vous appartiennent.</p><p>La deuxi√®me id√©e et la mani√®re classique de faire les choses, on choisit un framework pour le front , un autre pour le back et on code nos deux parties diff√©rentes de fa√ßon ind√©pendante. C'est la m√©thode utilis√© dans le projet <a href="">FirePixel</a> ou dans le POK <a href="">Jeu de Grattage</a>. Cela permet d'avoir un code structur√©, qui envoie seulement le n√©cessaire √† l'utilisateur, qui est relativement prot√©ger contre les cyberattaques (si on respecte les indications du framework). En plus de cela, on peut travailler en √©quipe sur le projet de mani√®re plus fluide. Certains devs peuvent avancer le front pendant que d'autre avancent le Back, il n'y a pas de conflits car les fichiers sont s√©par√©s.</p><p>La troisi√®me id√©e est plus r√©cente, le plus gros avantage est de ne as avoir √† r√©fl√©chir. Les M√©ta Framework sont les plus opinionated de tous,a tels points qu'ils ont m√™me une opinion sur les frameworks que vous devez utiliser. Cela √† des avantages, √ßa permet de ne pas avoir √† trouver les frameworks soit m√™me, mais aussi, ces Metaframeworks garantissent une grande compatibilit√© entre les diff√©rents composants de l'applications, et une grande simplicit√© d'utilisation. Je le conseille au d√©butant qui ne savent pas quels frameworks utilis√©, et aussi aux d√©veloppeurs confirm√©s qui connaissent d√©j√† un framework inclus dans le package et qui veulent √©tendre leurs possibilit√©s.</p><h3 id="architecture-du-backend-%3A" tabindex="-1"><a class="header-anchor" href="#architecture-du-backend-%3A"></a> Architecture du Backend :</h3><p>Le backend r√©alise plusieurs actions sp√©cifiques, il :</p><ul><li>Expose une application sur le port sp√©cifique d'un serveur.</li><li>Expose des routes (des urls) √† travers lesquelles on peut communiquer avec lui.</li><li>Execute du codes selon les requ√™tes qui lui sont envoy√©es.</li><li>Il met en place des requ√™tes pour aller chercher des informations dans la base de donn√©es.</li><li>Il fa√ßonne des objets pour les enregistrer dans la base de donn√©es.</li></ul><p>Pour r√©aliser ces divers t√¢ches, on pourrait tout rassembler dans un seul fichier nomm√© par exemple backend.js . Le probl√®me, est que cette m√©thode cr√©er un immense fichier illisible, dur √† debugger ou √† factoriser quand il y a besoin de mener des changements. On essaie donc, au maximum de fractionner le projets en fichiers qui n'ont qu'une unique fonction. on aura donc, dans l'ordre d√©fini pr√©c√©demment :</p><ul><li>Le fichier index</li><li>Le contr√¥leur</li><li>Les services</li><li>Le repository</li><li>Les entit√©s</li></ul><p>Notre Backend va g√©rer la cr√©ation de comptes pour un site gr√¢ce √† TypeORM.</p><p>l‚Äôarborescence est la suivante :</p><p>backend |_controller |_accountController.ts |_entity |_Account.ts |_service |_accountService.ts |_index.ts |_datasource.ts</p><p>Le controller est le fichier qui r√©pertorie <strong>les routes</strong> accessibles. Ces routes prennent en entr√©e <strong>une requ√™te</strong> et renvoient <strong>une r√©ponse</strong>. Pour cr√©er la r√©ponse, elles se servent des fonctions contenues dans <strong>les services</strong>. Ensuite, si besoin, les services font appels √† <strong>l'entit√©</strong> pour cr√©er un objet format√© qui peut √™tre envoy√© dans <strong>la base de donn√©es</strong>. Toutes les informations li√©es √† la base de donn√©es sont contenues dans datasource.ts qui est le coeur de TypeORM. Ce dernier nous permet de se connecter facilement avec notre base de donn√©es, et cr√©er pour nous des <strong>repositories</strong> automatiquement. Ces repository contiennent les fonctions qui cr√©ent les requ√™tes sql comme 'SELECT account *' ou 'SELECT account WHERE ...'. Enfin, le fichier index.ts reprend toute l'application et la rend accessible sur le port 3000 de votre ordinateur.</p><p>Cot√© frontend, on √† une application qui permet d'envoyer des requ√™tes sur le m√™me port 3000 de votre ordinateur, ces requ√™tes seront donc directement capt√©es par votre backend.</p><h2 id="mise-en-place-d'une-application-%3A" tabindex="-1"><a class="header-anchor" href="#mise-en-place-d'une-application-%3A"></a> Mise en place d'une application :</h2><h3 id="initialisation-du-projet-%3A" tabindex="-1"><a class="header-anchor" href="#initialisation-du-projet-%3A"></a> Initialisation du projet :</h3><p>On commence par se placer dans un dossier vierge que l'on ouvre dans un √©diteur de code (VS code pour moi). On peut faire un git init, voici d'ailleurs le <a href="https://github.com/TuncayBilgi/cybersecenv">lien du repository git de ce projet sur mon github</a>. N'h√©sitez pas √† aller regarder le code directement l√†-bas, je ne vais pas le copier-coller ici. On aura deux dossiers principaux :</p><ul><li>Frontend</li><li>Backend</li></ul><p>En dehors de ces deux fichiers, on viendra placer les fichiers utiles pour la globalit√© du projet, comme un fichier .env qui poss√®de des variables d'environment, un fichier .gitignore etc..</p><div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none dark:border-indigo-800 dark:bg-indigo-950"><details class="group"><summary class="list-none py-0.5"><svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg> <svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg><div class="pl-8 font-bold inline-block group-open:select-text"><p>Cette partie demande plus de pr√©-requis.</p></div><svg class="group-open:hidden inline-block pl-3 w-10 fill-none stroke-2 stroke-indigo-500 dark:stroke-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg></summary><div class="mx-8 pb-2 cursor-auto select-text"><p>Savoir utiliser :</p><ul><li>un Logiciel pour coder (comme VScode)</li><li>javascript</li><li>les langages typ√©s</li><li>la programmation orient√©e objet</li><li>un outil d'envoie de requ√™te (curl, postman ou insomnia)</li></ul><p>Avoir install√© :</p><ul><li>Node.js</li><li>Docker</li></ul></div></details></div><h4 id="frontend-%3A" tabindex="-1"><a class="header-anchor" href="#frontend-%3A"></a> Frontend :</h4><p>On choisit d'utiliser le framework ReactJs, on initialise donc un projet React : <code>npm</code></p><p>le front peut √™tre lanc√© sur le port par d√©faut 5432 gr√¢ce √† la commande : <code>npm run dev</code></p><p>On ne s'occupe pas plus du front ici, r√©f√©rez vous √† des MON tels que <a href="https://do-it.aioli.ec-m.fr/mon/AV/mons/web-front-1/">Angular</a> <a href="https://do-it.aioli.ec-m.fr/mon/TBi/MON/Angular/">Angular2</a> <a href="https://do-it.aioli.ec-m.fr/mon/NB/mes-mon/react/">React</a>.</p><h4 id="backend-%3A" tabindex="-1"><a class="header-anchor" href="#backend-%3A"></a> Backend :</h4><p>On utilise les Frameworks suivants :</p><ul><li>Node/Express pour le serveur</li><li>TypeORM en tant qu'ORM</li></ul><p>on initialise le projet de cette mani√®re :</p><p><code>npx typeorm init --name cyberenv-back --database postgre --docker --express</code></p><p>Cela met en place un projet TypeORM nomm√© cyberenv-back qui utilise une base de donn√©es postgreSQL, docker et est bas√© sur express.js.</p><p>On peut y voir plusieurs dossiers, on y revient dans le chapitre d'apr√®s.</p><h4 id="base-de-donn%C3%A9es-%3A" tabindex="-1"><a class="header-anchor" href="#base-de-donn%C3%A9es-%3A"></a> Base de donn√©es :</h4><p>On met en place une base de donn√©es PostgreSQl. Elle est h√©berg√©e √† travers un conteneur docker. Je vous invite √† voir le <a href="https://do-it.aioli.ec-m.fr/mon/TBi/MON/Docker/">MON Docker</a> et/ou de copier coller mon fichier <a href="https://github.com/TuncayBilgi/cybersecenv/blob/main/cyberenv-back/docker-compose.yml">docker-compose</a>. Vous pouvez aussi mettre en place votre base de donn√©es vous m√™me.</p><p>Le plus important est de modifier le fichier data-source.ts . Ce fichier rassemble toutes les informations li√©es √† la connexion √† votre base de donn√©es. Il est appel√© dans les diff√©rentes contr√¥leurs.</p><h3 id="mise-en-place-d'un-account." tabindex="-1"><a class="header-anchor" href="#mise-en-place-d'un-account."></a> Mise en place d'un Account.</h3><p>C'est optionnel mais puisque nous utilisons Typescript, un langage typ√©, nous ajoutons un dosser dto, qui contient les classes que vont manipuler les services. Cela permet de profiter de tous les b√©n√©fices d'un langage typ√©, comme la correction et la suggestion automatique du code.</p><p>Nous allons voir le processus de cr√©ation d'un form de cr√©ation de compte pas √† pas, le code est sur mon <a href="https://github.com/TuncayBilgi/cybersecenv">github</a> et les explications sont ci-dessous. Nous avons besoin d'une classe de donn√©es : Account.</p><p>Dans le <a href="https://github.com/TuncayBilgi/cybersecenv/blob/main/cyberenv-back/src/dto/AccountDTO.ts">dto</a>, nous d√©finissons ce qu'est un account. Il est d√©fini par une classe qui poss√®de un nom, un mot de passe et un bool√©en qui d√©finit s'il est valide. On pourrait d√©finir des conditions sur le mot de passe, par exemple un mot de pass doit √™tre plus long que 6 caract√®res, mais il vaut mieux placer ces conditions dans le Account service. On d√©finit une autre classe, accountSafeDTO, qui est un account sans le mot de passe. C'est gr√¢ce √† cette classe que nous allons renvoyer des account au client, car nous ne voulons pas que le client re√ßoive des mots de passe, sinon un utilisateur malintentionn√© pourrait r√©cup√©rer des mots de passes qui ne lui appartiennent pas.</p><p>En effet, <a href="https://github.com/TuncayBilgi/cybersecenv/blob/main/cyberenv-back/src/service/AccountService.ts">accountService</a> g√®re toute la partie logique li√©e √† un account, on y √©crit des fonctions qui seront appel√©s gr√¢ce √† l'API. Le service est une classe, cette classe poss√®de des m√©thodes comme findLogin et createAccount. Les m√©thodes prennent en entr√©e et renvoient en sortie des instances des classes d√©finies dans le dto. Ces fonctions permettent de chercher les accounts d√©j√† existant, pour ce faire, il faut envoyer une requ√™te sql √† la base de donn√©es. Cette requ√™tes est cr√©√©e automatiquement par le accountrepository que l'on instancie au d√©but de la classe. On met en place dans accountService toutes les fonctions qui concernent la cr√©ation d'un account, et notamment les fonctions qui v√©rifient que les mots de passes sont au bon format.</p><p>Il nous faut alors une base de donn√©es, elle est h√©berg√©e dans un conteneur Docker et est lanc√© gr√¢ce √† un fichier docker-compose.yml .</p><p>Ensuite, nous mettons en place dans <a href="https://github.com/TuncayBilgi/cybersecenv/blob/main/cyberenv-back/src/routes.ts">route.ts</a> et <a href="https://github.com/TuncayBilgi/cybersecenv/blob/main/cyberenv-back/src/controller/AccountController.ts">accountController.ts</a> les diff√©rentes routes qui peuvent √™tre appel√©es par le front. Ainsi, si un navigateur envoie √† l'adresse <a href="http://localhost:3000/account/create">http://localhost:3000/account/create</a> (qui est une adresse locale) une requ√™te POST avec le body suivant :</p><pre class="language-json line-numbers"><code>

{"login" : "test", "password" : "motdepasse"}


</code></pre><p>Le contr√¥leur va r√©cup√©rer ce body, le transformer en account gr√¢ce au dto, et l'envoyer dans le service des accounts pour lancer une proc√©dure de cr√©ation de compte.</p><p>Envoyons des requ√™tes au serveur gr√¢ce au logiciel Insominia et observons les r√©ponses :</p><p>On voit que si on envoie notre requ√™te GET, le backend r√©pond :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Bilgi-Tuncay/mon/temps-3.1/get.png" alt="get"></p><p>Le mot de passe n'est pas dans la r√©ponse, c'est ce que l'on veut.</p><p>Si on essaie de cr√©er un compte qui existe d√©j√†, le backend r√©pond :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Bilgi-Tuncay/mon/temps-3.1/post.png" alt="post"></p><h3 id="cr%C3%A9ation-d'un-account." tabindex="-1"><a class="header-anchor" href="#cr%C3%A9ation-d'un-account."></a> Cr√©ation d'un account.</h3><p>Nous faisons alors une <a href="https://github.com/TuncayBilgi/cybersecenv/tree/main/cyberenv-front">page frontend</a> qui permet justement d'envoyer ce genre de requ√™te au backend. Pour cela, nous utilisons un formulaire. L'utilisateur rempli le formulaire et le frontend r√©cup√®re les informations rentr√©es, puis cr√©er une requ√™te appropri√©e et l'envoie au backend.</p><p>il faut faire attention √† ce que le frontend ne puisse pas avoir acc√®s a des informations confidentielles, comme des mot de passe. On peut voir par exemple que si on essaie de cr√©er un account dont le login existe d√©j√† dans la base de donn√©e, le backend envoie au front l'account qui existe d√©j√†, il n'envoie cependant que le login et non pas le mot de passe.</p><p>Notre frontend ne donc qu'une interface qui permet d'envoyer facilement les requ√™tes au bon format, ainsi, on peut y faire exactement ce que l'on faisait quand on √©crivait nos requ√™tes √† la main, et recevoir les m√™mes r√©ponses :</p><div style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr))"><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Bilgi-Tuncay/mon/temps-3.1/account1.png" alt="account1"> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Bilgi-Tuncay/mon/temps-3.1/account2.png" alt="account2"> <img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Bilgi-Tuncay/mon/temps-3.1/account3.png" alt="account3"></p></div><h3 id="lancer-le-projet-%3A" tabindex="-1"><a class="header-anchor" href="#lancer-le-projet-%3A"></a> Lancer le projet :</h3><p>Pour lancer le projet, il faut executer</p><pre class="language-js line-numbers"><code>

// dans le r√©pertoire du backend
npm install
docker-compose up -d
npm start

// dans le r√©pertoire du frontend et dans un autre terminal
npm install
npm run dev



</code></pre><h2 id="pour-aller-plus-loin-%3A" tabindex="-1"><a class="header-anchor" href="#pour-aller-plus-loin-%3A"></a> Pour aller plus loin :</h2><p>Ce site va servir de base pour un prochain projet ou je testerai des principes de cyber-s√©curit√©s. Pour cela il faut mettre en place :</p><ul><li>un moyen de se connecter avec un token de connexion.</li><li>un hachage des mots de passe pour qu'ils ne soient pa en clair dans la base de donn√©es.</li></ul></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>