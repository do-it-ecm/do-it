<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index, follow">

        <link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2022-2023/Royant-Killian/pok/temps-3/">

        
        

        <meta name="description" content="Ce POK présente le développement d’une plateforme simple de e-commerce à l’aide de différentes technologies web (React, MUI, TailwindCSS…)">
        <meta property="og:description" content="Ce POK présente le développement d’une plateforme simple de e-commerce à l’aide de différentes technologies web (React, MUI, TailwindCSS…)">
        <meta name="twitter:description" content="Ce POK présente le développement d’une plateforme simple de e-commerce à l’aide de différentes technologies web (React, MUI, TailwindCSS…)">

        
            <meta name="author" content="Killian ROYANT">
        
        <meta name="keywords" content="do-it, centrale, centrale méditerranée, ecm, POK, JavaScript, React, MUI, TailwindCSS">

        <link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon">
        <link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png">
        <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png">

        <link href="/assets/stylesheets/main.css" rel="stylesheet">

        <meta property="og:title" content="[POK] E-commerce avec React (temps 3)">

        <meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png">
        <meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Royant-Killian/pok/temps-3/">
        <meta property="og:type" content="website">

        <meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png">
        <meta name="twitter:title" content="[POK] E-commerce avec React (temps 3)">
        <meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png">
        <meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Royant-Killian/pok/temps-3/">

        <title>[POK] E-commerce avec React (temps 3)</title>

        <!-- Prismjs imports
                - Prism line numbers
                - Prism toolbar
        -->
        <link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet">
        <link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <!-- Mermaid import and initialization -->
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js "></script>

        <script defer="">
        // Check if a theme is stored in localStorage. If so, use it, otherwise fallback to the system preference.
        const storedTheme = localStorage.getItem('theme');
        if (storedTheme) {
            document.documentElement.classList.toggle("dark", storedTheme === "dark");
        } else {
            // Use system color scheme if there is no stored theme preference.
            document.documentElement.classList.toggle("dark", window.matchMedia("(prefers-color-scheme: dark)").matches);
        }

        function loadPrismTheme(isDarkMode) {
            const newTheme = isDarkMode ? 'prism-okaidia.min.css' : 'prism-solarizedlight.min.css';
            const newLink = document.createElement('link');
            newLink.rel = 'stylesheet';
            newLink.id = 'prism-theme';
            newLink.href = `https://cdn.jsdelivr.net/npm/prismjs/themes/${newTheme}`;

            newLink.onload = () => {
                // Reapply highlighting after the new theme loads
                Prism.highlightAll();
            };

            const existingLink = document.getElementById('prism-theme');
            if (existingLink) {
                document.head.replaceChild(newLink, existingLink);
            } else {
                document.head.appendChild(newLink);
            }
        }

        function setMermaidTheme(isDarkMode) {
            const theme = isDarkMode ? 'dark' : 'forest';
            mermaid.initialize({
                securityLevel: 'loose',
                theme,
                startOnLoad: true,
            });
        }

        // Toggle dark and light mode and update localStorage accordingly.
        function toggleDarkMode() {
            const dark = document.documentElement.classList.contains("dark");
            const newTheme = dark ? "light" : "dark";
            localStorage.setItem('theme', newTheme);
            document.documentElement.classList.toggle("dark", !dark);
            loadPrismTheme(!dark);
            setMermaidTheme(!dark);
        }

        // On initial load, ensure that Prism and Mermaid are initialized using the current theme.
        const isDark = document.documentElement.classList.contains("dark");
        loadPrismTheme(isDark);
        setMermaidTheme(isDark);
        </script>

    </head>

    <body data-prismjs-copy="📋" data-prismjs-copy-error="❌" data-prismjs-copy-success="✅" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50">
        <header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-between items-center">
                    <a class="mx-2" href="/">Home</a>
                    <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current">
                            <circle cx="12" cy="12" r="5"></circle>
                            <path d="M12 2V4" stroke-linecap="round"></path>
                            <path d="M12 20V22" stroke-linecap="round"></path>
                            <path d="M4 12L2 12" stroke-linecap="round"></path>
                            <path d="M22 12L20 12" stroke-linecap="round"></path>
                            <path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path>
                            <path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path>
                            <path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path>
                            <path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path>
                        </svg>
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block">
                            <path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                    <div class="flex items-center gap-4 sm:gap-6 ">
                        <a class="" href="/cs">CS</a>
                        <a class="" href="/pok">POK</a>
                        <a class="" href="/mon">MON</a>
                        <a class="" href="/projets">Projets</a>
                        <a class="hidden sm:block" href="/promos">Promos</a>
                        <a href="/search">
                            <svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                            </svg>
                        </a>
                        <a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank">
                            <svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">[POK] E-commerce avec React (temps 3)</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Tags : </div>
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">JavaScript</li>
                
                    <li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">React</li>
                
                    <li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MUI</li>
                
                    <li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">TailwindCSS</li>
                

            </ul>

            
            <div class="hidden" data-pagefind-meta="Type" aria-hidden="true">
                
                    
                        <span data-pagefind-filter="Type">POK</span>
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteur : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Killian ROYANT</li>
                
            </ul>
        </div>
    

    
        <div class="absolute top-0 right-0">
            <span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Année">
                2022-2023
            </span>
        </div>
    
</div>

<p class="mb-4 text-lg">Ce POK présente le développement d’une plateforme simple de e-commerce à l’aide de différentes technologies web (React, MUI, TailwindCSS…)</p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/promos/2022-2023/Royant-Killian/">Killian Royant</a><span class="px-1">/</span><a href="/promos/2022-2023/Royant-Killian/pok/">Les POK de Killian</a><span class="px-1">/</span><a href="/promos/2022-2023/Royant-Killian/pok/temps-3/">[POK] E-commerce avec React (temps 3)</a>

</div>
</div>




<p><a href="../">&lt;-- Retour</a></p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Ressources</strong></p>
</div><div class="pl-8 mr-8">
<ul>
<li><a href="http://cerfeuil.ovh1.ec-m.fr:1234/">👀 Voir le site en ligne</a></li>
<li><a href="https://github.com/royantk/POK3">Le Github du POK</a></li>
<li><a href="https://do-it.aioli.ec-m.fr/mon/royantk/temps_2/react/">[MON] Débutez avec React</a></li>
<li><a href="https://fr.reactjs.org/docs/getting-started.html">[Documentation] React</a></li>
<li><a href="https://react-redux.js.org/introduction/getting-started">[Documentation] React-Redux</a></li>
<li><a href="https://mui.com/material-ui/getting-started/overview/">[Documentation] Material Design UI (MUI)</a></li>
<li><a href="https://parceljs.org/getting-started/webapp/">Getting Started - Parcel.js</a></li>
<li><a href="https://create-react-app.dev/">Create React App - Documentation</a></li>
<li><a href="https://chat.openai.com/chat">Chat GPT</a></li>
</ul>
</div>
</div>
<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"></a> Introduction</h2>
<p>L’objectif de ce POK est de <strong>concevoir une boutique en ligne simple</strong> utilisant des <strong>technologies de développement web modernes</strong>, notamment React. Pour cela, j’ai décidé de reprendre une maquette Figma que j’ai réalisé à lors de la création d’une formation afin d’avoir une vue claire de l’endroit où amener ce POK.</p>
<p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/images/Untitled.png" alt="Untitled"></p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Choix des technologies</strong></p>
</div><div class="pl-8 mr-8">
<p>Afin d’identifier les différentes technologies que j’allais pouvoir utiliser, j’ai fais des recherches. J’en ai constitué un <strong>MON</strong> que vous pouvez consulter ici : <a href="../../../mon/royantk/temps_3/technologies">[MON] Technologies web</a></p>
</div>
</div>
<h3 id="organisation-et-to-do" tabindex="-1"><a class="header-anchor" href="#organisation-et-to-do"></a> Organisation et to-do</h3>
<p>Afin de réaliser ce POK, j’ai identifié les tâches nécessaires suivantes. Ces tâches sont susceptibles d'évoluer.</p>
<h4 id="%F0%9F%8C%B3-g%C3%A9n%C3%A9ral-(fait)" tabindex="-1"><a class="header-anchor" href="#%F0%9F%8C%B3-g%C3%A9n%C3%A9ral-(fait)"></a> <strong><s>🌳 Général</s> <em>(fait)</em></strong></h4>
<ul>
<li><s>Comprendre le fonctionnement des bibliothèques (React, MUI, TailwindCSS, Parcel)</s></li>
<li><s>Mettre en place l’environnement du projet</s></li>
</ul>
<h4 id="%F0%9F%93%91-page-catalogue-(fait)" tabindex="-1"><a class="header-anchor" href="#%F0%9F%93%91-page-catalogue-(fait)"></a> <strong><s>📑 Page catalogue</s> <em>(fait)</em></strong></h4>
<ul>
<li><s>Récupérer une liste de produits depuis un fichier JSON ou une API</s></li>
<li><s>Afficher la liste de produits sur la page</s></li>
<li><s>Pour chaque produit, afficher son nom, sa description, son prix et une image</s></li>
<li><s>Ajouter un bouton &quot;Ajouter au panier&quot; pour chaque produit</s></li>
<li>Ajouter le header du tableau</li>
</ul>
<h4 id="%F0%9F%93%84-page-produit-(fait)" tabindex="-1"><a class="header-anchor" href="#%F0%9F%93%84-page-produit-(fait)"></a> <strong><s>📄 Page produit</s> <em>(fait)</em></strong></h4>
<ul>
<li><s>Créer une page pour afficher les détails d'un produit sélectionné</s></li>
<li><s>Afficher le nom, la description, le prix et l'image du produit</s></li>
<li><s>Ajouter un bouton &quot;Ajouter au panier&quot;</s></li>
<li><s>Associer la page produit à la page catalogue</s></li>
</ul>
<h4 id="%F0%9F%9B%92-panier-(fait)" tabindex="-1"><a class="header-anchor" href="#%F0%9F%9B%92-panier-(fait)"></a> <strong><s>🛒 Panier</s> <em>(fait)</em></strong></h4>
<ul>
<li><s>Créer un composant pour afficher le contenu du panier</s></li>
<li><s>Afficher les produits ajoutés au panier (nom, prix, quantité)</s></li>
<li><s>Afficher le prix total du panier</s></li>
<li><s>Ajouter la possibilité de modifier la quantité de chaque produit dans le panier</s></li>
<li><s>Ajouter la possibilité de supprimer un produit du panier</s></li>
</ul>
<h2 id="structure-de-l%E2%80%99application" tabindex="-1"><a class="header-anchor" href="#structure-de-l%E2%80%99application"></a> Structure de l’application</h2>
<h3 id="composants-n%C3%A9cessaires" tabindex="-1"><a class="header-anchor" href="#composants-n%C3%A9cessaires"></a> Composants nécessaires</h3>
<p>J’ai repris ma maquette Figma pour définir les différents composants React nécessaires pour réaliser le prototype, ainsi que leurs designs respectifs. Voici ci-dessous les composants Figma.</p>
<p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/images/Untitled1.png" alt="Untitled"></p>
<h2 id="arborescence-des-fichiers" tabindex="-1"><a class="header-anchor" href="#arborescence-des-fichiers"></a> Arborescence des fichiers</h2>
<p>Voici l’organisation de mes fichiers sources. J’ai divisé mon application en composants React, appelés dans une application globale App.js. Il n’y a qu’un seul fichier de style car le style des composant est directement écrit en Tailwind dans les fichiers React.</p>
<pre class="language-bash line-numbers"><code>

src/
├── components/
│   ├── AddToCart.js
│   ├── Catalogue.js
│   ├── CatalogueItem.js
│   └── Header.js
├── styles/
│   └── App.css
├── App.js
├── index.html
└── index.js


</code></pre><h2 id="sprint-1---cr%C3%A9ation-de-l%E2%80%99app-et-du-catalogue" tabindex="-1"><a class="header-anchor" href="#sprint-1---cr%C3%A9ation-de-l%E2%80%99app-et-du-catalogue"></a> Sprint 1 - Création de l’app et du catalogue</h2>
<p>Le code ci-dessous représente la version 1 du prototype d'application React développée dans le cadre d'un POK sur la création d'une boutique en ligne. Cette version contient la page du catalogue, qui permet d'afficher les produits disponibles à l'achat. Le code utilise TailwindCSS pour appliquer des styles au composant et des composants Material-UI pour ajouter des fonctionnalités supplémentaires tels que les boutons d'ajout au panier.</p>
<p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/images/Untitled2.png" alt="Untitled"></p>
<h3 id="app.js" tabindex="-1"><a class="header-anchor" href="#app.js"></a> App.js</h3>
<p>./App.js</p>
<p>Le code suivant est un extrait de l'application React développée dans le cadre d'un POK sur la création d'une boutique en ligne. Il s'agit du code de la fonction <code>App</code>, qui est le composant principal de l'application. Cette fonction retourne du JSX (JavaScript avec des balises XML), qui permet de décrire l'interface utilisateur de l'application.</p>
<pre class="language-jsx line-numbers"><code>

const products = ['...']  // Contient des produits

export function App() {

  const [cart, setCart] = useState([]);

  const addToCart = (product) => {
    setCart([...cart, product]);
  };

  return (
    <StyledEngineProvider injectFirst="">
      <div className="app">
        <div className="app-head">
          <h1>Lorem Ipsum</h1>
          <p>Lorem Ipsum Dolor Sit Amet</p>
        </div>
        <Catalogue products="{products}" addToCart="{addToCart}">
      </Catalogue></div>
    </StyledEngineProvider>

  );
}


</code></pre><p>Dans ce code, la fonction <code>useState</code> est utilisée pour stocker les produits ajoutés au panier par l'utilisateur. La fonction <code>addToCart</code> permet d'ajouter un produit au panier en mettant à jour l'état <code>cart</code> avec la fonction <code>setCart</code>.</p>
<p>Le JSX retourné par la fonction <code>App</code> contient un <code>StyledEngineProvider</code>, qui enveloppe un <code>div</code> avec une classe <code>app</code>. Ce div contient un titre (<code>h1</code>) et un paragraphe (<code>p</code>) qui ne sont pas pertinents pour la compréhension du code. Enfin, il y a un composant <code>Catalogue</code> qui prend deux props (<code>products</code> et <code>addToCart</code>). Cela signifie que le composant <code>Catalogue</code> est appelé avec ces deux props.</p>
<p>Le composant <code>StyledEngineProvider</code> est utilisé pour faire fonctionner TailwindCSS avec Material-UI. Concrètement, il permet d'injecter les styles dans l'application et de les rendre compatibles avec les composants Material-UI. Il s'agit donc d'un élément important pour utiliser les deux bibliothèques de manière conjointe dans une application React.</p>
<h3 id="catalogue" tabindex="-1"><a class="header-anchor" href="#catalogue"></a> Catalogue</h3>
<p>./components/Catalogue.js</p>
<pre class="language-jsx line-numbers"><code>

import { CatalogueItem } from './CatalogueItem';

const addToCart = (product) => {
    console.log('Adding to cart:', product);
};

export function Catalogue(props) {
    return (
        <div className="flex flex-col space-y-4">
            {props.products.map((product) => (
                <CatalogueItem product="{product}" addToCart="{addToCart}" key="{product.id}">
            ))}
        </CatalogueItem></div>
    );
}


</code></pre><p>Le code représente le composant <code>Catalogue</code> de l'application React. Ce composant est appelé dans le composant principal <code>App</code>. Le composant <code>Catalogue</code> prend une seule prop appelée <code>products</code>, qui est un tableau d'objets représentant les produits à afficher. Le composant <code>Catalogue</code> utilise la méthode <code>.map()</code> pour itérer sur le tableau des produits et afficher chaque produit à l'aide du composant <code>CatalogueItem</code>.</p>
<p>Le composant <code>CatalogueItem</code> prend deux props, <code>product</code> et <code>addToCart</code>. Le composant <code>addToCart</code> est une fonction qui sera appelée lorsqu'un utilisateur clique sur le bouton &quot;Add to cart&quot; dans le composant <code>CatalogueItem</code>.</p>
<p>Le code utilise également TailwindCSS pour appliquer des styles au composant <code>Catalogue</code>. Le conteneur principal est un div avec une classe <code>flex</code> qui utilise la direction verticale (<code>flex-col</code>) et ajoute un espacement vertical (<code>space-y-4</code>) entre chaque élément dans le conteneur. Le composant <code>CatalogueItem</code> est appelé pour chaque produit et est rendu à l'intérieur du conteneur principal.</p>
<h3 id="catalogueitem" tabindex="-1"><a class="header-anchor" href="#catalogueitem"></a> CatalogueItem</h3>
<p>./components/CatalogueItem.js</p>
<pre class="language-jsx line-numbers"><code>

import { AddToCart } from './AddToCart';

export function CatalogueItem(props) {
    return (
        <div className="bg-white rounded-lg flex flex-row items-center space-x-16 pr-12">
            <img className="object-cover h-40 aspect-square" src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/{props.product.image}" alt="{props.product.name}">
            <h3 className="my-2 text-lg font-medium max-h-28 w-40 overflow-hidden">{props.product.name}</h3>
            <p className="break-words text-gray-500 max-h-28 w-60 overflow-hidden">{props.product.description}</p>
            <p className="break-words text-gray-500 max-h-28 w-28 overflow-hidden">{props.product.price} €</p>
            <AddToCart product="{props.product}" addToCart="{props.addToCart}">
        </AddToCart></div>
    );
}


</code></pre><p>Le composant <code>CatalogueItem</code> est utilisé pour afficher les détails d'un produit dans le catalogue. Il prend deux props: <code>product</code> et <code>addToCart</code>. La prop <code>product</code> est un objet qui contient les informations du produit telles que l'image, le nom, la description et le prix. La prop <code>addToCart</code> est une fonction qui sera appelée lorsque l'utilisateur cliquera sur le bouton &quot;Add to cart&quot;.</p>
<p>Le code utilise TailwindCSS pour appliquer des styles au composant <code>CatalogueItem</code>. Le conteneur principal est un div avec une classe <code>bg-white</code> qui ajoute une couleur de fond blanche au composant. Il utilise également la classe <code>rounded-lg</code> pour arrondir les coins du composant et <code>flex</code> pour afficher les éléments à l'intérieur du conteneur en ligne. <code>items-center</code> est utilisé pour aligner les éléments verticalement et <code>space-x-16</code> ajoute un espacement horizontal de 16 pixels entre chaque élément.</p>
<p>Le code utilise également l'objet <code>props.product</code> pour afficher l'image, le nom, la description et le prix du produit. <code>props.product.image</code> est utilisé pour afficher l'image du produit. <code>props.product.name</code> est utilisé pour afficher le nom du produit, et <code>props.product.description</code> est utilisé pour afficher la description du produit. <code>props.product.price</code> est utilisé pour afficher le prix du produit, avec le symbole de l'euro.</p>
<p>Le composant <code>AddToCart</code> est également appelé à la fin du composant <code>CatalogueItem</code>. Cette fonctionnalité permet à l'utilisateur d'ajouter le produit au panier en cliquant sur le bouton &quot;Add to cart&quot;. La prop <code>product</code> est passée à <code>AddToCart</code> pour que la fonction <code>addToCart</code> sache quel produit ajouter au panier.</p>
<h3 id="addtocart" tabindex="-1"><a class="header-anchor" href="#addtocart"></a> AddToCart</h3>
<pre class="language-jsx line-numbers"><code>

import Button from '@mui/material/Button';
import Add from '@mui/icons-material/Add';

export function AddToCart(props) {
    return (
        <Button startIcon="{<Add">}
            variant="contained"
            className='bg-black hover:bg-white hover:text-black text-white font-bold py-2 px-6 rounded-full'
            onClick={() => props.addToCart(props.product)}
        >
            Add to cart
        </Button>
    );
}


</code></pre><p>Le composant <code>AddToCart</code> est appelé à partir du composant <code>CatalogueItem</code> et contient un bouton &quot;Add to cart&quot; qui permet à l'utilisateur d'ajouter un produit au panier.</p>
<p>Le composant <code>AddToCart</code> utilise les composants <code>Button</code> et <code>Add</code> de la bibliothèque MUI pour créer le bouton, et utilise TailwindCSS pour appliquer des styles supplémentaires au bouton. Le bouton est configuré pour avoir une icône &quot;Add&quot; à gauche du texte &quot;Add to cart&quot;, et le texte du bouton est centré.</p>
<p>Lorsque l'utilisateur clique sur le bouton &quot;Add to cart&quot;, la fonction <code>props.addToCart</code> est appelée avec l'objet <code>props.product</code> en tant que paramètre. Cela permet à la fonction <code>addToCart</code> de savoir quel produit ajouter au panier.</p>
<p><a href="https://isotropic.co/react-multiple-pages/">https://isotropic.co/react-multiple-pages/</a></p>
<h2 id="sprint-2---ajout-de-la-page-produit-avec-react-router" tabindex="-1"><a class="header-anchor" href="#sprint-2---ajout-de-la-page-produit-avec-react-router"></a> Sprint 2 - Ajout de la page produit avec React Router</h2>
<p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/images/Untitled3.png" alt="Untitled"></p>
<p><a href="https://upmostly.com/tutorials/how-to-pass-param-to-a-component-in-react-router">https://upmostly.com/tutorials/how-to-pass-param-to-a-component-in-react-router</a></p>
<p>Dans cette section, nous allons ajouter une page produit à notre application de commerce électronique. Nous allons utiliser <code>React Router</code> pour créer des routes pour chaque page produit, en utilisant l'ID du produit comme paramètre d'entrée.</p>
<h3 id="installation-de-react-router" tabindex="-1"><a class="header-anchor" href="#installation-de-react-router"></a> Installation de React Router</h3>
<p>Pour commencer, nous devons installer <code>React Router</code>. Vous pouvez l'installer en utilisant <code>npm</code> en exécutant la commande suivante :</p>
<pre class="language-bash line-numbers"><code>

npm install react-router-dom --save


</code></pre><h3 id="configuration-de-l'application" tabindex="-1"><a class="header-anchor" href="#configuration-de-l'application"></a> Configuration de l'application</h3>
<p>Tout d'abord, nous allons ajouter une nouvelle page pour afficher les détails du produit. Créez un nouveau fichier nommé <code>Product.js</code> dans le dossier <code>components</code> et ajoutez le code suivant :</p>
<pre class="language-jsx line-numbers"><code>

import { useParams } from "react-router";
import { CatalogueItem } from './CatalogueItem';
import { Link } from 'react-router-dom';
import { AddToCart } from "./AddToCart";

export function Product(props) {
  let { id } = useParams();

  if (id > props.products.length) {
    return (
      <div className="app">
        <div className="app-head">
          <h1>Product {id} not found</h1>
          <Link className="mt-6" to="/">⬅️ Back to catalogue
          <Link to="/cart">🛒 Cart
        </div>
      </div>
    );
  }

  return (
    <div className="app">
      <div className="app-head">
        <h1>{props.products[id - 1].name}</h1>
        <Link className="mt-6" to="/">⬅️ Back to catalogue
        <Link to="/cart">🛒 Cart
      </div>
      <div className="bg-white rounded-lg flex flex-row items-center space-x-16 pr-12">
        <Link to="{&quot;/product/&quot;" +="" props.products[id="" -="" 1].id}="">
          <img className="object-cover h-96 aspect-square" src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/{props.products[id" -="" 1].image}="" alt="{props.products[id" 1].name}="">
        
        <div className="bg-white rounded-lg flex flex-col items-left space-y-4 pr-12">
          <h2 className="text-2xl font-bold max-h-28 w-96 overflow-hidden">{props.products[id - 1].name}</h2>
          <h3 className="text-lg break-words text-gray-500 max-h-28 w-96 overflow-hidden">{props.products[id - 1].price} €</h3>
          <p className="pb-6 break-words text-gray-500 max-h-28 w-96 overflow-hidden">{props.products[id - 1].description}</p>
          <AddToCart className="" product="{props.products[id" -="" 1]}="" addToCart="{props.addToCart}" removeFromCart="{props.removeFromCart}" cart="{props.cart}">
        </AddToCart></div>

      </div>
    </div>
  );
}


</code></pre><p>Ce composant récupère l'ID du produit à partir des paramètres d'URL et affiche toutes les informations concernant ce composant de la même manière que le composant <code>CatalogItem</code>.</p>
<p>Ensuite, nous allons déplacer notre page d’accueil dans un composant <code>Home</code>.</p>
<pre class="language-jsx line-numbers"><code>

import { Catalogue } from './Catalogue';
import { Link } from 'react-router-dom';

export function Home(props) {
    return (
        <div className="app">
          <div className="app-head">
            <h1>Lorem Ipsum Store</h1>
            <p>Welcome! There are {props.products.length} products in the catalogue</p>
            <Link className="mt-6" to="/cart">🛒 Cart
          </div>
          <Catalogue products="{props.products}" addToCart="{props.addToCart}" removeFromCart="{props.removeFromCart}" cart="{props.cart}">
        </Catalogue></div>
    );
  }


</code></pre><p>Enfin, nous allons ajouter une nouvelle route pour notre page produit. Ouvrez le fichier <code>App.js</code> et ajoutez le code suivant :</p>
<pre class="language-jsx line-numbers"><code>

import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import Home from './components/Home';
import Product from './components/Product';

...

export function App() {
  const [cart, setCart] = useState([]);

  const addToCart = (product) => {
    setCart([...cart, product]);
  };

  return (
    <Router>
      <div>
        <Routes>
          <Route exact="" path="/" element="{<Home" products="{products}" addToCart="{addToCart}/">}/>
          <Route path="/product/:id" element="{<Product" products="{products}" addToCart="{addToCart}/">} />
        </Route></Route></Routes>
      </div>
    </Router>
  );
}


</code></pre><p>Nous avons ajouté une nouvelle route pour notre page produit. La route utilise le paramètre d'entrée <code>id</code> pour identifier le produit à afficher. Notez que nous avons également ajouté un en-tête et enveloppé les routes dans une balise <code>div</code> pour faciliter la mise en page.</p>
<h3 id="mise-%C3%A0-jour-du-composant-catalogueitem" tabindex="-1"><a class="header-anchor" href="#mise-%C3%A0-jour-du-composant-catalogueitem"></a> Mise à jour du composant CatalogueItem</h3>
<p>Maintenant que nous avons ajouté une page produit, nous devons mettre à jour le composant <code>CatalogueItem</code> pour inclure un lien vers la page produit pour chaque produit. Ouvrez le fichier <code>CatalogueItem.js</code> et ajoutez le code suivant :</p>
<pre class="language-jsx line-numbers"><code>

import Card from '@mui/material/Card';
import { AddToCart } from './AddToCart';
import { Link } from 'react-router-dom';

export function CatalogueItem(props) {
    return (
        <div className="bg-white rounded-lg flex flex-row items-center space-x-16 pr-12">
            <Link to="{&quot;/product/&quot;" +="" props.product.id}="">
                <img className="object-cover h-40 aspect-square" src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/{props.product.image}" alt="{props.product.name}">
            
            <h3 className="my-2 text-lg font-medium max-h-28 w-40 overflow-hidden">{props.product.name}</h3>
            <p className="break-words text-gray-500 max-h-28 w-60 overflow-hidden">{props.product.description}</p>
            <p className="break-words text-gray-500 max-h-28 w-28 overflow-hidden">{props.product.price} €</p>
            <AddToCart product="{props.product}" addToCart="{props.addToCart}">
        </AddToCart></div>
    );
}


</code></pre><p>Nous avons enveloppé l'image du produit dans un lien <code>Link</code> pour que l'utilisateur puisse cliquer sur l'image pour accéder à la page produit. La prop <code>to</code> de <code>Link</code> utilise l'ID du produit pour créer une URL unique pour chaque produit.</p>
<h2 id="sprint-3---ajout-de-la-gestion-du-panier" tabindex="-1"><a class="header-anchor" href="#sprint-3---ajout-de-la-gestion-du-panier"></a> Sprint 3 - Ajout de la gestion du panier</h2>
<p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Royant-Killian/pok/temps-3/images/Untitled4.png" alt="Untitled"></p>
<h3 id="cr%C3%A9ation-de-la-page-du-panier" tabindex="-1"><a class="header-anchor" href="#cr%C3%A9ation-de-la-page-du-panier"></a> Création de la page du panier</h3>
<p>Le composant <code>Cart</code> est une page qui affiche la liste des produits du panier. Il importe le composant <code>CatalogueItem</code>. Attention: le panier ne doit afficher qu'une seule instance de chaque produit, même si le même produit a été ajouté plusieurs fois au panier.</p>
<pre class="language-jsx line-numbers"><code>

import { CatalogueItem } from './CatalogueItem';
import { Link } from 'react-router-dom';

export function Cart(props) {
    const uniqueProducts = Array.from(new Set(props.cart));
    return (
        <div className="app">
            <div className="app-head">
                <h1>Cart</h1>
                <p>You currently have {props.cart.length} items in your cart</p>
                <Link className="mt-6" to="/">⬅️ Back to catalogue
            </div>
            <div className="flex flex-col space-y-4">
                {uniqueProducts.map((product) => (
                    <CatalogueItem product="{product}" addToCart="{props.addToCart}" removeFromCart="{props.removeFromCart}" cart="{props.cart}" key="{product.id}/">
                ))}
            </CatalogueItem></div>

        </div>
    );
}



</code></pre><p>Le composant <code>Cart</code> utilise <code>Array.from(new Set(props.cart))</code> pour obtenir un tableau unique de produits (c'est-à-dire qu'il n'y aura qu'une seule instance de chaque produit dans le tableau). Le code utilise également <code>Link</code> pour permettre à l'utilisateur de revenir à la page du catalogue. La prop <code>to</code> de <code>Link</code> est utilisée pour créer une URL pour la page du catalogue.</p>
<p>Le composant <code>Cart</code> utilise <code>uniqueProducts.map()</code> pour itérer sur le tableau de produits uniques et afficher chaque produit à l'aide du composant <code>CatalogueItem</code>. Les props <code>product</code>, <code>addToCart</code>, <code>removeFromCart</code> et <code>cart</code> sont passées à <code>CatalogueItem</code> pour permettre l'affichage du produit, l'ajout et la suppression du produit dans le panier.</p>
<p>Le composant <code>CatalogueItem</code> est également utilisé pour afficher les produits dans le panier, mais il est appelé avec des props supplémentaires (<code>removeFromCart</code> et <code>cart</code>) pour permettre la suppression de produits du panier. Cela signifie que <code>CatalogueItem</code> peut être utilisé à la fois pour afficher les produits dans le catalogue et les produits dans le panier.</p>
<h3 id="mise-%C3%A0-jour-des-boutons-d%E2%80%99ajout-au-panier" tabindex="-1"><a class="header-anchor" href="#mise-%C3%A0-jour-des-boutons-d%E2%80%99ajout-au-panier"></a> Mise à jour des boutons d’ajout au panier</h3>
<p>Le code a été mis à jour pour prendre en charge la gestion de la quantité d'un produit dans le panier, ainsi que la suppression d'un produit du panier.</p>
<p>Le composant <code>AddToCart</code> a été modifié pour afficher la quantité d'un produit dans le panier. Si le produit est déjà dans le panier, le bouton &quot;Add to cart&quot; est remplacé par deux boutons, un pour ajouter une unité du produit et un autre pour en retirer une. Pour cela, le composant utilise la fonction <code>filter()</code> pour compter le nombre d'occurrences du produit dans le panier.</p>
<p>Le composant <code>AddToCart</code> prend également une nouvelle prop, <code>removeFromCart</code>, qui est une fonction pour supprimer un produit du panier. Cette fonction est appelée lorsque l'utilisateur clique sur le bouton pour retirer une unité du produit.</p>
<p>Voici le nouveau code pour le composant <code>AddToCart</code> :</p>
<pre class="language-jsx line-numbers"><code>

import Button from '@mui/material/Button';
import Add from '@mui/icons-material/Add';
import Button from '@mui/material/Button';
import Remove from '@mui/icons-material/Remove';
import IconButton from '@mui/material/IconButton';

export function AddToCart(props) {
    if (props.cart.filter((item) => item.id === props.product.id).length > 0) {
        return (
            <div className="flex flex-row items-center space-x-4">
                <IconButton className="bg-black hover:bg-white hover:text-black hover:shadow text-white py-2 rounded-full" onClick="{()" ==""> props.removeFromCart(props.product)}
                >
                    <Remove>
                </Remove></IconButton>
                <p>{props.cart.filter((item) => item.id === props.product.id).length}</p>
                <IconButton className="bg-black hover:bg-white hover:text-black hover:shadow text-white py-2 rounded-full" onClick="{()" ==""> props.addToCart(props.product)}
                >
                    <Add>
                </Add></IconButton>
            </div>
        );
    }
    return (
        <Button startIcon="{<Add">}
            variant="contained"
            className='bg-black max-w-fit hover:bg-white hover:text-black text-white font-bold py-2 px-6 rounded-full'
            onClick={() => props.addToCart(props.product)}
        >
            Add to cart
        </Button>
    );
}



</code></pre><p>La fonction <code>addToCart</code> a également été mise à jour pour prendre en charge la gestion de la quantité d'un produit dans le panier. Si le produit est déjà dans le panier, la fonction ne doit ajouter qu'une seule instance du produit. Pour cela, la fonction utilise la fonction <code>indexOf()</code> pour trouver la première occurrence du produit dans le panier. Elle utilise ensuite la fonction <code>filter()</code> pour supprimer cette occurrence du panier, puis ajouter une nouvelle instance du produit.</p>
<p>La fonction <code>removeFromCart</code> a été ajoutée pour supprimer un produit du panier. Elle utilise la fonction <code>indexOf()</code> pour trouver la première occurrence du produit dans le panier, puis utilise la fonction <code>filter()</code> pour supprimer cette occurrence du panier.</p>
<p>Voici le nouveau code pour la gestion du panier :</p>
<pre class="language-jsx line-numbers"><code>

  const [cart, setCart] = useState([]);

  const addToCart = (product) => {
    const index = cart.indexOf(product);
    if (index === -1) {
      setCart([...cart, product]);
    } else {
      const newCart = [...cart];
      newCart.splice(index, 1);
      setCart([...newCart, product]);
    }
  };

  const removeFromCart = (product) => {
    const index = cart.indexOf(product);
    setCart(cart.filter((_, i) => i !== index));
  };



</code></pre><h2 id="conclusion-du-pok" tabindex="-1"><a class="header-anchor" href="#conclusion-du-pok"></a> Conclusion du POK</h2>
<p>Dans ce POK, nous avons appris comment créer une application de commerce électronique avec React, TailwindCSS et MUI. Nous avons commencé par créer un catalogue de produits à l'aide du composant <code>CatalogueItem</code>, puis nous avons appris comment créer des pages de produits avec React Router en utilisant l'ID du produit comme paramètre d'entrée. Enfin, nous avons mis en place la gestion du panier avec la page du panier qui affiche la liste des produits du panier et la possibilité de supprimer des produits du panier.</p>
<p><a href="../">&lt;-- Retour</a></p>



</article>

        </main>

        <footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        ©2025 <b><span style="font-family: Consolas, sans-serif;">Do-<span style="color: #4a86e8">It</span></span></b> - Développement, Management et Gestion de projets en IT
                    </p>
                </div>
            </div>
        </footer>

        <!-- MathJax import and initialization -->
        <script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">
            window.MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']], // Delimiters for inline math
                    displayMath: [['$$', '$$'], ['\\[', '\\]']] // Delimiters for block math
                },
                svg: {
                    fontCache: 'global' // Use global font cache for SVG output
                }
            };
            document.addEventListener('DOMContentLoaded', () => {
                MathJax.typeset(); // Ensures MathJax processes the content after the page loads
            });
        </script>

        <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">
            Prism.plugins.NormalizeWhitespace.setDefaults({
                'remove-trailing': true,
                'remove-indent': true,
                'left-trim': true,
                'right-trim': true,
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script>
    </body>
</html>
