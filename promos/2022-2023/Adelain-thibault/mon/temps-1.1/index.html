<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="index, follow"><link rel="canonical" href="https://do-it.aioli.ec-m.fr/promos/2022-2023/Adelain-thibault/mon/temps-1.1/"><meta name="description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta property="og:description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta name="twitter:description" content="Do-It, cours et travaux des √©l√®ves de l&#39;√©cole Centrale M√©diterran√©e"><meta name="author" content="Thibault Adelain"><meta name="keywords" content="do-it, centrale, centrale m√©diterran√©e, ecm, MON, hachage, chiffrement, cryptographie, https, ssl, tls, s√©curit√© informatique"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/favicon.ico" type="image/x-icon"><link rel="icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png" type="image/png"><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/minimal.png"><link href="/assets/stylesheets/main.css" rel="stylesheet"><meta property="og:title" content="Hachage et chiffrement"><meta property="og:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta property="og:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Adelain-thibault/mon/temps-1.1/"><meta property="og:type" content="website"><meta name="twitter:card" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:title" content="Hachage et chiffrement"><meta name="twitter:image" content="https://raw.githubusercontent.com/do-it-ecm/do-it/main/src/assets/img/logo/intermediate-text.png"><meta name="twitter:url" content="https://do-it.aioli.ec-m.fr/promos/2022-2023/Adelain-thibault/mon/temps-1.1/"><title>Hachage et chiffrement</title><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet"><link id="prism-theme" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script defer="">const storedTheme=localStorage.getItem("theme");function loadPrismTheme(e){const t=e?"prism-okaidia.min.css":"prism-solarizedlight.min.css",s=document.createElement("link");s.rel="stylesheet",s.id="prism-theme",s.href=`https://cdn.jsdelivr.net/npm/prismjs/themes/${t}`,s.onload=()=>{Prism.highlightAll()};const m=document.getElementById("prism-theme");m?document.head.replaceChild(s,m):document.head.appendChild(s)}function setMermaidTheme(e){const t=e?"dark":"forest";mermaid.initialize({securityLevel:"loose",theme:t,startOnLoad:!0})}function toggleDarkMode(){const e=document.documentElement.classList.contains("dark"),t=e?"light":"dark";localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",!e),loadPrismTheme(!e),setMermaidTheme(!e)}storedTheme?document.documentElement.classList.toggle("dark","dark"===storedTheme):document.documentElement.classList.toggle("dark",window.matchMedia("(prefers-color-scheme: dark)").matches);const isDark=document.documentElement.classList.contains("dark");loadPrismTheme(isDark),setMermaidTheme(isDark)</script></head><body data-prismjs-copy="üìã" data-prismjs-copy-error="‚ùå" data-prismjs-copy-success="‚úÖ" data-prismjs-copy-timeout="1000" class="bg-neutral-50 text-neutral-950 dark:bg-neutral-900 dark:text-neutral-50"><header class="fixed top-0 z-50 w-full border-b-2 border-gray-200 bg-white dark:bg-neutral-900 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-between items-center"><a class="mx-2" href="/">Home</a> <button class="hidden sm:block text-neutral-950 dark:text-neutral-50 hover:bg-neutral-700 hover:text-neutral-50 hover:dark:bg-neutral-300 hover:dark:text-neutral-950 transition-colors p-2 rounded-full duration-800 ease-in-out" onclick="toggleDarkMode()"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 dark:hidden stroke-current"><circle cx="12" cy="12" r="5"></circle><path d="M12 2V4" stroke-linecap="round"></path><path d="M12 20V22" stroke-linecap="round"></path><path d="M4 12L2 12" stroke-linecap="round"></path><path d="M22 12L20 12" stroke-linecap="round"></path><path d="M19.7778 4.22266L17.5558 6.25424" stroke-linecap="round"></path><path d="M4.22217 4.22266L6.44418 6.25424" stroke-linecap="round"></path><path d="M6.44434 17.5557L4.22211 19.7779" stroke-linecap="round"></path><path d="M19.7778 19.7773L17.5558 17.5551" stroke-linecap="round"></path></svg> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="h-5 aspect-square fill-none aspect-square stroke-2 stroke-current hidden dark:block"><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="flex items-center gap-4 sm:gap-6"><a class="" href="/cs">CS</a> <a class="" href="/pok">POK</a> <a class="" href="/mon">MON</a> <a class="" href="/projets">Projets</a> <a class="hidden sm:block" href="/promos">Promos</a> <a href="/search"><svg class="h-5 aspect-square stroke-neutral-950 dark:stroke-neutral-300 fill-none stroke-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> </a><a class="hidden sm:block" href="https://github.com/do-it-ecm/do-it" target="_blank"><svg class="h-5 aspect-square dark:stroke-neutral-300 dark:fill-neutral-300" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></header><main class="mt-[66px] max-w-[1000px] mx-auto px-4" data-pagefind-body=""><article class="relative"><h1 class="mb-1">Hachage et chiffrement</h1><div class="mb-4"><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Tags :</div><ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags"><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">MON</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">hachage</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">chiffrement</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">cryptographie</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">https</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">ssl</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">tls</li><li class="bg-yellow-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Tags">s√©curit√© informatique</li></ul><div class="hidden" data-pagefind-meta="Type" aria-hidden="true"><span data-pagefind-filter="Type">MON</span></div></div><div class="px-4 flex flex-wrap items-center"><div class="font-bold">Auteur :</div><ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs"><li class="bg-blue-200 rounded-full px-2 text-neutral-950" data-pagefind-filter="Auteurs">Thibault Adelain</li></ul></div><div class="absolute top-0 right-0"><span class="bg-purple-200 rounded-full px-3 py-1 mt-2 mr-2 text-neutral-950" data-pagefind-filter="Ann√©e">2022-2023</span></div></div><div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100 dark:border-purple-800 dark:bg-purple-950"><svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 fill-none stroke-2 stroke-purple-500 dark:stroke-purple-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg><div class="pl-8 mr-8"><a href="/promos/2022-2023/Adelain-thibault/">Thibault Adelain</a><span class="px-1">/</span><a href="/promos/2022-2023/Adelain-thibault/mon/">MONs de Thibault</a><span class="px-1">/</span><a href="/promos/2022-2023/Adelain-thibault/mon/temps-1.1/">Hachage et chiffrement</a></div></div><ul><li>Hachage et chiffrement</li></ul><h2 id="hachage-et-chiffrement" tabindex="-1"><a class="header-anchor" href="#hachage-et-chiffrement"></a> Hachage et chiffrement</h2><p>Il faut distinguer le hachage et le chiffrement. Le hachage a pour but de chiffrer une donn√©e, et le r√©sultat du hachage, le hash, ne doit en aucun cas permettre de retrouver la donn√©e initiale. Au contraire, le chiffrement permet de chiffrer une donn√©e √† l'aide d'une cl√© de chiffrement, et √† l'aide d'une cl√© de d√©chiffrement, la donn√©e initiale peut √™tre retrouv√©e.</p><p>Dans ce premier MON, j'essaierai d'expliquer :</p><ul><li>d'une part √† quoi sert le hachage, et quels sont les diff√©rentes m√©thodes et agr√©ments √† utiliser pour avoir un hachage fiable,</li><li>d'autre part comment est utilis√© en permanence le chiffrement sur internet.</li></ul><h3 id="hachage" tabindex="-1"><a class="header-anchor" href="#hachage"></a> Hachage</h3><p>Le hachage sert √† prot√©ger les donn√©es qui circulent sur internet. Dans ce chapitre, on parlera seulement du hachage des donn√©es utilisateur se trouvant sur un serveur, en particulier des mots de passe.</p><p><strong>Pourquoi c'est si important, de hacher les mots de passe des utilisateurs ?</strong></p><p>Le stockage en clair est √† prohiber pour stocker les mots de passe utilisateur (m√™me si on d√©couvre tr√®s r√©guli√®rement des sites stockant les mots de passe en clair). En effet, si quelqu'un arrive √† avoir acc√®s √† votre base de donn√©es, il pourra directement acc√©der √† tous les comptes enregistr√©s.</p><p>Pour √©viter cela, on enregistre les mots de passe hach√©s en base de donn√©es. Cela se fait gr√¢ce √† une fonction de hachage. Une telle fonction doit:</p><ol><li>$f(a) \neq f(b) \implies a \neq b$. Un hash diff√©rent implique que l'on a rentr√© un mauvais mot de passe.</li><li>$f(a) = f(b) \implies a = b$. On veut qu'un m√™me hash implique n√©cessairement que le mot de passe fourni soit le bon. Cette condition d'injectivit√© n'est pas possible en pratique car le hash produit √† une longueur fini, tandis qu'il existe une infinit√© de mots de passe possibles. Lorsque deux mots de passe donnent un m√™me hash, on parle de collision. On essaie au maximum de limiter les collisions pour notre fonction de hachage.</li><li>On veut que notre fonction de hachage soit complexe et pas trop rapide. En effet, une fonction trop rapide pourrait faciliter les attaques par force brute. Cette derni√®re condition n'est pas tojours respect√©e.</li></ol><p>Il existe de nombreuses fonctions de hachage de la plus simple √† la plus √©labor√©e. Avec l'am√©lioration de la puissance de calcul et des m√©thodes d'attaque, des algorithmes de hachage sont r√©guli√®rement d√©pr√©ci√©s par la communaut√© ; c'est ainsi qu'on pr√©f√®rera d'autres algorithmes que le MD5 ou les SHA-1 pour stocker des donn√©es sur le long terme.</p><p>Les algorithmes consid√©r√©s comme fiable (m√™me si aucun n'est infaillible) aujourd'hui sont par exemple les <a href="https://fr.wikipedia.org/wiki/SHA-2">SHA-2</a> (SHA-256 ou SHA-512, √©labor√©s par la NSA), ou des algorithmes comme <a href="https://fr.wikipedia.org/wiki/Bcrypt">bcrypt</a> ou scrypt. Cependant, quelques experts ne conseillent pas les SHA-2 pour les stockages des donn√©es sur le long terme, car ces algorithmes sont tr√®s rapides, et donc faciliteraient des attaques par force brute (plus le hachage est rapide, plus on peut tester de mots de passe). √Ä l'inverse, un algorithme comme bcrypt est consid√©r√© comme lent (on peut choisir le temps de traitement du hash), ce qui limite le nombre de mots de passe essay√© par seconde. Il est cependant assez rapide pour ne pas √™tre g√™nant pour l'utilisateur. C'est donc un des algorithmes privil√©gi√© par la communaut√©.</p><p><strong>Concr√®tement, comment √ßa se pr√©sente en base de donn√©es ?</strong></p><p>En base de donn√©e, pour chaque utilisateur on va trouver quelque chose comme √ßa dans la partie mot de passe:</p><p><code>pbkdf2:sha256:80000$salt$hash</code></p><p>Par exemple, pour le hachage de <code>abc</code> avec SHA-256, sans salt:</p><p><code>pbkdf2:sha256:80000$$ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad</code></p><p><strong>Mais c'est quoi, le salt ?</strong></p><p>Avant de voir ce que c'est, on va d'abord regarder comment un <em>hacker</em> pourrait, ayant la base de donn√©es, essayer de retrouver un mot de passe d'utilisateur. Une attaque est toujours un compromis entre puissance de calcul et m√©moire. On va lister ici 4 types d'attaques (il en existe s√ªrement d'autres, d√©couvertes ou √† d√©couvrir) :</p><ul><li>Attaque par <a href="https://fr.wikipedia.org/wiki/Attaque_par_force_brute"><em>brute force</em></a>. Le pirate va tester successivement des mots de passe, choisis de fa√ßon plus ou moins al√©atoire. Cette attaque ne demande pas ou peu d'espace m√©moire, mais √©norm√©ment de puissance de calcul pour tester un maximum de combinaisons.<ul><li>Attaque par dictionnaire. C'est un type d'attaque par brute force. On va tester ici des mots pr√©sents dans le dictionnaire choisi (anglais, fran√ßais, <a href="https://fr.wikipedia.org/wiki/Leet_speak"><em>leet speak</em></a>...).</li></ul></li><li>Attaque par tableau. On va avoir dans le tableau un ensemble de couple (cl√©, valeur), la cl√© correspondant au mot de passe et la valeur correspondant √† son hachage dans l'algorithme demand√©. Si il existe une correspondance entre un hachage pr√©sent dans la base de donn√©es et un pr√©sent dans le tableau, on le trouvera quasi instantan√©ment. Le probl√®me de cette m√©thode est qu'elle requiert une quantit√© colossale de m√©moire.</li><li>Attaque par <a href="https://www.ionos.fr/digitalguide/serveur/securite/rainbow-tables/"><em>rainbow tables</em></a>. C'est un compromis temps-m√©moire. Le but est le m√™me qu'une attaque par tableau, sauf que plus de valeurs pourront √™tre indirectement stock√©es.</li></ul><p>Les probl√®mes qui ont men√© √† l'utilisation du salt sont les suivants :</p><ul><li>Les gens ont tendance √† utiliser des mots qui existent pour leurs mots de passe,</li><li>Les gens ont tendance √† r√©utiliser les m√™mes mots de passe.</li></ul><p>Donc, sachant cela, une attaque par tableau devient tr√®s efficace.</p><p>D'abord, si vous remarquez que 2 personnes (ou plus), ont le m√™me hash, alors votre domaine de recherche se restreint (il y a de forte chance que ce soit un mot du dictionnaire). Aussi, on peut trouver sur internet beaucoup mots de passe qui ont fuit√©s. En t√©l√©chargeant ces tables de mots de passe, il se pourrait bien qu'un utilisateur est utilis√© le m√™me mot de passe et que l'on puisse donc trouver une concordance.</p><p><strong>Mais donc, c'est quoi le salt ?</strong></p><p>Le salt est une cha√Æne de caract√®res al√©atoire que l'on va venir concat√©ner √† chaque mot de passe utilisateur. Au moment d'enregistrer le mot de passe en base de donn√©es, on peut faire (il existe d'autre mani√®re de gr√™fer le salt) :</p><p>$hash(mot de passe + salt)$</p><p>En base de donn√©es, on a quelque chose comme √ßa :</p><p><code>pbkdf2:sha256:80000$salt$hash</code></p><p>On a donc l'algorithme de hash (SHA-256), le salt <strong>en clair</strong> et le hash du $(mot de passe + salt)$.</p><p>Ainsi, il sera inutile comparer les hash de la base de donn√©es aux hash d√©j√† existant dans les tableaux, sachant qu'un salt al√©atoire est g√©n√©r√© pour chaque utilisateur. Lors d'un <em>login</em>, le server va gr√™fer le salt (qu'il peut lire car il est en clair sur sa bdd) √† notre mot de passe et hacher le tout. Il pourra ensuite comparer √† la base de donn√©es, et accorder l'acc√®s ou non.</p><p>Le salt limite donc fortement les attaques par tableaux.</p><p><strong>Apr√®s le salt, le pepper !</strong></p><p>Pour limiter les attaques par force brute, on peut r√©aliser plusieurs choses. D√©j√†, plus un mot de passe sera long, al√©atoire, avec des majuscules, minuscules, chiffres, caract√®res sp√©ciaux... plus il sera difficile √† trouver (cf <a href="https://www.iphon.fr/post/combien-temps-pour-craquer-identifiants-mots-de-passe">temps pour craquer un mot de passe en 2022</a>). Pour ralonger artificiellement la longeur d'un mot de passe, on peut d√©cider de faire √ßa :</p><p>$hash(mot de passe + salt + pepper)$</p><p>O√π le pepper est une cha√Æne de caract√®res unique pour tous les utilisateurs. On veillera √† garder tr√®s pr√©cieusement le pepper (donc pas dans la base de donn√©es...) et √† ne le communiquer √† personne.</p><p>D√®s lors, si votre pepper est assez long et qu'il n'est pas compromis, il deviendra tr√®s difficile d'attaquer les mots de passe par force brute.</p><h3 id="chiffrement-et-connexion-https" tabindex="-1"><a class="header-anchor" href="#chiffrement-et-connexion-https"></a> Chiffrement et connexion https</h3><p>Les connexions s√©curis√©es https sont utilis√©es en permanence sur internet. N'importe quel moteur de recherche r√©cent vous enverra une notification plus ou moins alarmiste lorsque vous vous connectez sur un site non s√©curis√© (ou pire, avec un certificat auto-sign√©...).</p><p>Mais, vous √™tes-vous d√©j√† demand√© comment s'√©tablissent les connexions s√©curis√©es https ? Pourquoi ose-t-on envoyer nos donn√©es, parfois intimes ou bancaires, sur internet seulement en sachant vaguement qu'un petit cadenas en haut √† gauche de la barre de recherche nous prot√®ge ?</p><p>Voyons d'abord s√©par√©ment les briques pour construire une connexion s√©curis√©e, avant d'expliquer comment tout cela s'agence.</p><p><strong>Cryptographie sym√©trique</strong></p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Adelain-thibault/mon/temps-1.1/chiffrement_sym.png" alt="Cryptographie sym√©trique"> La cryptographie sym√©trique en image (par <a href="https://librecours.net/module/culture/intro-chiffrement/chiffrement-sym.xhtml">libreCours</a>).</p><p>La <a href="https://fr.wikipedia.org/wiki/Cryptographie_sym%C3%A9trique">Cryptographie sym√©trique</a> est connu depuis longtemps (Antiquit√©). Elle consiste simplement √† chiffrer et d√©chiffrer un message avec une m√™me cl√©. Le chiffrement sym√©trique est tr√®s rapide tout en permettant une s√©curit√© plus que raisonnable. Par exemple, pour <a href="https://fr.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a>, l'algorithme le plus utilis√©, la cl√© est stock√©e sur 128 bits (donc $2^{128}$ cl√©s possibles). Il peut √™tre consid√©r√© comme <em>s√ªr</em> tant qu'il n'y a pas de meilleure attaque que par force brute.</p><p>La cryptographie sym√©trique est la m√©thode utilis√©e pour transf√©rer les donn√©es <strong>une fois la connexion √©tablie</strong>. Mais, avant de commencer la communication s√©curis√©e, il faut partager la cl√© de chiffrement. Et, si vous transmettez cette cl√© <em>en clair</em>, elle peut √™tre intercept√©e par tous les interm√©diaires de la communication, malveillant ou non, et ils pourront tous d√©chiffrer ce que vous communiquez avec votre interlocuteur.</p><p>Le but est donc d'arriver √† faire parvenir la cl√© de chiffrement au serveur sans que les interm√©diaires puissent y avoir acc√®s.</p><p><strong>Cryptographie asym√©trique</strong></p><p>La <a href="https://fr.wikipedia.org/wiki/Cryptographie_asym%C3%A9trique">cryptographie asym√©trique</a> repose sur <strong>deux cl√©s</strong> pour <strong>chaque</strong> interlocuteur. Le client et le serveur auront donc chacun <strong>une cl√© publique</strong> (elle peut √™tre partag√©e a tous) et <strong>une cl√© priv√©e</strong> (√† garder pr√©cieusement, seulement pour soi).</p><p>Le fonctionnement de la cryptographie asym√©trique est le suivant : la cl√© publique d√©chiffre ce que la cl√© priv√©e chiffre, et r√©ciproquement. On utilise cette cryptographie √† deux fins :</p><ul><li>V√©rifier l'auteur du message. En effet, comme vous √™tes le seul √† poss√©der votre cl√© priv√©e, il vous suffit de chiffrer un message avec celle-ci. Tous ceux qui d√©chiffreront ce message avec votre cl√© publique pourront le lire, et vous serez le seul qui a pu l'√©crire lisiblement. On utilise une <a href="https://fr.wikipedia.org/wiki/Somme_de_contr%C3%B4le"><em>checksum</em></a> (somme de contr√¥le) pour v√©rifier que le message n'a pas √©t√© modifi√© apr√®s l'envoi.</li><li>Transmettre un message de fa√ßon s√©curis√©e.</li></ul><p>La proc√©dure pour transmettre une cl√© de chiffrement <strong>sym√©trique</strong> √† l'aide du chiffrement <strong>asym√©trique</strong> est le suivant :</p><ol><li>Vous envoyez une requ√™te au serveur lui demandant sa cl√© publique. Vous lui transmettez √©galement votre cl√© publique.</li><li>Le serveur vous r√©pond avec sa cl√© publique (dans un certificat, nous verrons ensuite pourquoi).</li><li>Apr√®s la r√©ponse du serveur, vous envoyez la cl√© de chiffrement sym√©trique que vous voulez utiliser. Avant l'envoi, il faut que vous la chiffrer successivement :<ol><li>Avec votre cl√© priv√©e : elle permettra de vous authentifier,</li><li>Avec la cl√© publique du serveur : elle permettra √† ce que seul le serveur puisse d√©chiffrer le message √† l'aide de sa cl√© priv√©e.</li></ol></li></ol><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Adelain-thibault/mon/temps-1.1/Chiffrement_asymetrique.jpg" alt="Chiffrement asym√©trique"> La cryptographie asym√©trique en image (par Jp.simon.manz sur <a href="https://fr.wikipedia.org/wiki/Cryptographie_asym%C3%A9trique">wikipedia</a>). Le condensat est simplement une mani√®re de v√©rifier que le message n'a pas √©t√© modifi√© apr√®s l'envoi (c'est le r√©sultat de la <a href="https://fr.wikipedia.org/wiki/Somme_de_contr%C3%B4le"><em>checksum</em></a>). En pratique, vous n'avez pas besoin de transmettre votre cl√© publique au serveur, car vous authentifier n'est pas n√©cessaire pour lui. Pour la communication, il suffit que vous lui transmettez votre cl√© de chiffrement sym√©trique chiffr√©e avec sa cl√© publique. Vous pourrez ensuite discuter de fa√ßon s√©curis√©e.</p><p>Aujourd'hui, on utilise principalement le <a href="https://fr.wikipedia.org/wiki/Chiffrement_RSA">chiffrement RSA</a> comme algorithme de cryptographie asym√©trique. Les cl√©s utilis√©es font de 1024 √† 2048 bits (beaucoup plus que les 128 bits de <a href="https://fr.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a>). Les communications restent rapide car on se contente seulement de transmettre la cl√© de chiffrement sym√©trique. On ne s√©curise pas seulement les connexions https avec RSA, mais aussi les terminaux de paiement par exemple. Nous devons donc nous assurer de la s√ªret√© de cette algorithme. Le temps pour <em>craquer</em> la cl√© priv√©e du chiffrement RSA croit exponentiellement avec la longueur de la cl√©. En 2020, le plus long message <em>craqu√©</em> faisait 829 bits. Les cl√©s utilis√©es aujourd'hui sont encore consid√©r√©es comme <em>s√ªres</em>, ce qui pourrait √™tre remis en question avec les <a href="https://fr.wikipedia.org/wiki/Calculateur_quantique">ordinateurs quantiques</a>, qui ont des <a href="https://fr.wikipedia.org/wiki/Algorithme_de_Shor">algorithmes de factorisation</a> beaucoup plus efficaces que les ordinateurs classiques (mais pas d'inqui√©tude, d'autres ont pens√© √† des m√©thodes de <a href="https://fr.wikipedia.org/wiki/Cryptographie_quantique">cryptographie quantique</a>...).</p><p>Enfin bref, avec ce proc√©d√©, vous pouvez enfin commencer √† communiquer (et plus rapidement qu'avec la cryptographie asym√©trique) ! A moins que... ce ne soit pas au serveur que vous parlez ?</p><p><em><strong>Man in the middle</strong></em></p><p>Lors de la premi√®re connexion entre vous et le serveur, qu'est-ce qui emp√™cherait un <em>hacker</em> de se placer entre vous deux, d'intercepter votre requ√™te contenant votre cl√© publique, de remplacer cette cl√© publique par la sienne, et de transmettre cette donn√©e au serveur ? Ensuite, lors de la r√©ponse du serveur, il pourrait vous transmettre non pas la cl√© publique du serveur, mais la sienne. Ainsi, lorsque vous transmettrait la cl√© de chiffrement sym√©trique, que vous avez chiffr√©e avec la cl√© publique du <em>hacker</em> en pensant que c'√©tait celle du serveur, il interceptera le message, le d√©chiffrera, et le transmettra finalement au serveur. Ainsi, il pourra d√©chiffrer et modifier toutes les communications entre vous et le serveur car il a intercept√© la cl√© de chiffrement sym√©trique. Pourtant, de votre point de vue ou de celui du serveur, vous ne vous rendez compte de rien et vous avez l'impression de communiquer sans interm√©diaire.</p><p>En supposant que le serveur est Alice, le <em>hacker</em> est √äve et que vous √™tes Bob :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Adelain-thibault/mon/temps-1.1/MITM.png" alt="man in the middle"></p><p>Man in the middle (image par <a href="http://tao93.top/2020/03/31/Secure%20communication%20basics/">Liu Tao</a>).</p><p>C'est ce que l'on appelle une attaque <em>man in the middle</em>. Le <em>hacker</em> peut se placer entre vous et votre <em>router</em>, ou plus rarement sur le r√©seau internet. Ces attaques sont tr√®s fr√©quentes sur les r√©seaux non s√©curis√©es, l√† o√π vous ne connaissez pas les autres appareils connect√©s au r√©seau.</p><p>Pour √©viter ce type d'attaque, on utilise des certificats pour √©tablir une connexion https.</p><p><strong>Certificats</strong></p><p>Voici ce que contient un <a href="https://fr.wikipedia.org/wiki/Certificat_%C3%A9lectronique">certificat</a> :</p><p><img src="https://raw.githubusercontent.com/do-it-ecm/promo-2022-2023/refs/heads/main//Adelain-thibault/mon/temps-1.1/Cerificat.png" alt="Certificat"></p><p>Cerficat en image (par <a href="https://www.youtube.com/watch?v=FSq-FXx5dxU&amp;t=1s&amp;ab_channel=YannBidon">Yann Bidon</a>).</p><p>Un certificat permet d'assurer l'identit√© d'une entit√©. Il contient entre autres choses la cl√© publique, et un condensat (qui est le r√©sultat des donn√©es du certificat pass√©e dans la fonction de hachage (<em>checksum</em>)) pour v√©rifier qu'il n'a pas √©t√© modifi√©.</p><p>Pour se faire d√©livrer un certificat (et donc ouvrir son site en https, entre autres), il faut le demander √† une <a href="https://fr.wikipedia.org/wiki/Autorit%C3%A9_de_certification">autorit√© de certification</a>, qui vous d√©livrera une cl√© publique, moyennant finance. Les autorit√©s de certifications sont nombreuses ; en fait, une autorit√© de certification est certifi√©e par une autre autorit√© de certification, qui est certifi√©e par une autre... et ainsi de suite. Jusqu'√† arriver √† une autorit√© de certification <em>racine</em>, comme la gendarmerie, le minist√®re de la Justice ou Google. Ces autorit√©s sont consid√©r√©es comme des tiers de confiance.</p><p>Bref, pour avoir un certificat, l'autorit√© de certification v√©rifie votre identit√©, et vous attribue un certificat avec une cl√© publique si les donn√©es sont valides. Ce certificat n'est pas modifiable (sinon la <em>checksum</em> ne correspond pas au condensat) et les moteurs de recherche ont dans leur base de donn√©es des autorit√©s de certification valides, ce qui met en garde contre les certificats auto-sign√©s (il est possible et tout a fait l√©gal d'auto-signer un certificat, mais un moteur de recherche r√©cent vous mettra des <em>warnings</em> vous disant que vous √™tes en danger... Ce n'est pas forc√©ment vrai, c'est seulement que le serveur s'auto-certifie, √† vous de voir ce que √ßa vaut...). Donc, si vous acc√©der √† un site https avec un certificat valide, vous pouvez normalement √™tre s√ªr de communiquer directement avec le serveur.</p><p>Quand vous √™tes connect√© √† un site en https, vous pouvez v√©rifier le certificat utilis√©. Il vous suffit de cliquer sur le cadenas &gt; la connexion est s√©curis√©e &gt; certificat valide (ou quelque chose comme √ßa). Vous pourrez alors retrouver toutes les informations du certificat.</p><p>Donc, reprenons la proc√©dure lorsque que vous voulez √©tablir une connexion s√©curis√©e avec un serveur. Le but est d'√©changer une cl√© de chiffrement sym√©trique sans pouvoir √™tre espionn√© par un tiers :</p><ol><li>Vous envoyez une requ√™te au serveur lui demandant sa cl√© publique.</li><li>Le serveur vous r√©pond avec sa cl√© publique dans un certificat valide. Vous pourrez alors √™tre s√ªr que vous avez en votre possession la cl√© publique du serveur, ce qui √©vite les attaques <em>man in the middle</em>.</li><li>Vous envoyez la cl√© de chiffrement sym√©trique que vous voulez utiliser. Avant l'envoi, il faut que vous la chiffrer :<ol><li>Avec la cl√© publique du serveur : elle permettra √† ce que seul le serveur puisse d√©chiffrer le message √† l'aide de sa cl√© priv√©e.</li></ol></li></ol><p>Vous pourrez ensuite communiquer avec le serveur en √©tant assur√© que personne ne peut espionner vos messages ou transmettre des informations en votre nom, tant qu'il ne trouve pas la cl√© de chiffrement.</p><p>Voil√†, vous avez √©tabli une <strong>vraie</strong> connexion https. Bravo !</p><h3 id="sources" tabindex="-1"><a class="header-anchor" href="#sources"></a> Sources</h3><ol><li>Stocker correctement ses mots de passe : <a href="https://patouche.github.io/2015/03/21/stocker-des-mots-de-passe/">https://patouche.github.io/2015/03/21/stocker-des-mots-de-passe/</a></li><li>Un guide sur comment marche les <em>rainbow tables</em> : <a href="https://www.ionos.fr/digitalguide/serveur/securite/rainbow-tables/">https://www.ionos.fr/digitalguide/serveur/securite/rainbow-tables/</a></li><li>Comprendre un peu comment marche une connexion SSL/TCP, c'est-√†-dire une connexion https : <a href="https://www.youtube.com/playlist?list=PLYsJ-3MUn_eeYwSgJ3Z_hfrIzGqYOGAaj">https://www.youtube.com/playlist?list=PLYsJ-3MUn_eeYwSgJ3Z_hfrIzGqYOGAaj</a></li></ol></article></main><footer class="min-h-[50px] border-t-2 mt-4 border-gray-200 dark:border-neutral-700"><div class="max-w-[1000px] mx-auto px-4"><div class="min-h-[50px] flex justify-center items-center"><p class="text-center">¬©2025 <b><span style="font-family:Consolas,sans-serif">Do-<span style="color:#4a86e8">It</span></span></b> - D√©veloppement, Management et Gestion de projets en IT</p></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js" defer="">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}},document.addEventListener("DOMContentLoaded",(()=>{MathJax.typeset()}))</script><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/normalize-whitespace/prism-normalize-whitespace.min.js">Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})</script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script></body></html>