---
layout: layout/post.njk

eleventyImport:
  collections: ["index", "POK", "MON"]

eleventyExcludeFromCollections: true

eleventyComputed:
  tags:
    - "{{ page.url | getYearFromUrl }}"
    - "index"
    - "{{ category }}"
  title: "{{ category }} {{ page.url | getYearFromUrl }}"
  resume: "{{ category }} de la Promotion {{ page.url | getYearFromUrl }}"
  eleventyNavigation:
    title: "{{ category }} {{ page.url | getYearFromUrl }}"
    key: "{{ page.url }}"
    parent: "{{ page.url | parentUrl }}"
---

{% set year = page.url | getYearFromUrl %}

<div class="my-3 px-2 p-1 border-solid border-2 rounded relative">
    <div class="text-3xl mb-3">
        Par auteurs
    </div>

    {% from 'macros/student-list.njk' import studentList %}
    {{ studentList(collections.index, category, year) }}
</div>

{% for temps in [1, 2, 3] %}
    <div class="my-3 px-2 p-1 border-solid border-2 rounded relative">
        <details class="group" open="open">
            <summary class="flex cursor-pointer">
                <svg class="group-open:hidden inline-block w-10 h-10 p-1 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                </svg>
                <svg class="group-open:inline-block hidden w-10 h-10 p-1 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
                <span class="inline-block text-3xl m-0.5">Temps {{ temps }}</span>
            </summary>

            <div class="group:block group-open:block hidden">
                {% from 'macros/pok-mon-list.njk' import listPokMon %}
                {{ listPokMon(collections[category], category, year, temps) }}
            </div>
        </details>
    </div>
{% endfor %}
